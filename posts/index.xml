<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Sidnei Weber</title><link>https://sidneiweber.com.br/posts/</link><description>Recent content in Posts on Sidnei Weber</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><copyright>&lt;a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0&lt;/a></copyright><lastBuildDate>Wed, 09 Jun 2021 11:00:00 +0000</lastBuildDate><atom:link href="https://sidneiweber.com.br/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Simular tráfego de usuário para um servidor</title><link>https://sidneiweber.com.br/simular-trafego-usuario-servidor/</link><pubDate>Wed, 09 Jun 2021 11:00:00 +0000</pubDate><guid>https://sidneiweber.com.br/simular-trafego-usuario-servidor/</guid><description>Vamos simular o tráfego para um servidor utlizando a ferramenta ab que foi criado pelo Apache para testar seu próprio serviço.
ab -c 20 -n 100 -m GET http://127.0.0.1/ Onde: -c Número de solicitações enviadas ao mesmo tempo-n Número total de solicitações enviadas para o servidor-m Método HTTP utilizadoExistem diversas outras opções que podem ser encontradas aqui.
Como resposta teremos diversas informações que podem nos ajudar a entender se o servidor está preparado para receber bastante tráfego, se o desempenho seria satisfatório e assim por diante.</description><content type="html"><![CDATA[<p>Vamos simular o tráfego para um servidor utlizando a ferramenta <code>ab</code> que foi criado pelo Apache para testar seu próprio serviço.</p>
<pre><code>ab -c 20 -n 100 -m GET http://127.0.0.1/
</code></pre><h3 id="onde">Onde:</h3>
<p><strong>-c</strong> Número de solicitações enviadas ao mesmo tempo<!-- raw HTML omitted -->
<strong>-n</strong> Número total de solicitações enviadas para o servidor<!-- raw HTML omitted -->
<strong>-m</strong> Método HTTP utilizado<!-- raw HTML omitted --></p>
<p>Existem diversas outras opções que podem ser encontradas <a href="https://httpd.apache.org/docs/2.4/programs/ab.html">aqui</a>.</p>
<p>Como resposta teremos diversas informações que podem nos ajudar a entender se o servidor está preparado para receber bastante tráfego, se o desempenho seria satisfatório e assim por diante.</p>
<pre><code>This is ApacheBench, Version 2.3 &lt;$Revision: 1879490 $&gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Licensed to The Apache Software Foundation, http://www.apache.org/

Benchmarking 127.0.0.1 (be patient).....done


Server Software:        Apache/2.4.18
Server Hostname:        127.0.0.1
Server Port:            80

Document Path:          /
Document Length:        2817 bytes

Concurrency Level:      20
Time taken for tests:   0.047 seconds
Complete requests:      100
Failed requests:        0
Total transferred:      300800 bytes
HTML transferred:       281700 bytes
Requests per second:    2116.45 [#/sec] (mean)
Time per request:       9.450 [ms] (mean)
Time per request:       0.472 [ms] (mean, across all concurrent requests)
Transfer rate:          6217.06 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.1      0       0
Processing:     1    9  11.8      3      34
Waiting:        1    9  11.8      3      34
Total:          1    9  11.9      3      34

Percentage of the requests served within a certain time (ms)
  50%      3
  66%      4
  75%      4
  80%     31
  90%     33
  95%     34
  98%     34
  99%     34
 100%     34 (longest request)
</code></pre>]]></content></item><item><title>Reduzindo custos na AWS (EC2) - Parte 1</title><link>https://sidneiweber.com.br/reduzindo-custos-na-aws-ec2-parte-1/</link><pubDate>Tue, 16 Feb 2021 09:27:08 -0300</pubDate><guid>https://sidneiweber.com.br/reduzindo-custos-na-aws-ec2-parte-1/</guid><description>A redução de custos no ambiente de nuvem é um assunto constante, a utlização é simples porém o desperdício de recursos pode ocorrer com bastante facilidade. Para te ajudar vou dividir as dicas em três partes, dividindo em EC2, ECS e RDS, três serviços distintos da AWS.
Na primeira parte começaremos com o EC2, que permite a criação de instâncias (&amp;ldquo;máquinas virtuais&amp;rdquo;) com facilidade, podendo ser usado tanto com Windows, quanto com Linux.</description><content type="html"><![CDATA[<p>A redução de custos no ambiente de nuvem é um assunto constante, a utlização é simples porém o desperdício de recursos pode ocorrer com bastante facilidade. Para te ajudar vou dividir as dicas em três partes, dividindo em EC2, ECS e RDS, três serviços distintos da <a href="https://aws.amazon.com/pt/">AWS</a>.</p>
<p>Na primeira parte começaremos com o EC2, que permite a criação de instâncias (&ldquo;máquinas virtuais&rdquo;) com facilidade, podendo ser usado tanto com Windows, quanto com Linux. Bom pra quem ainda não sabe, os recursos da AWS são cobrados por uso, então quando criamos uma instância no EC2, ela será cobrada pelo tempo que estiver ligada e veria de valor dependendo da <a href="https://aws.amazon.com/pt/ec2/instance-types/">tipo de instância escolhida</a>.</p>
<p>Bom a dica pode ser usada por quem utiliza os recursos EC2 durante o expediente de trabalho, seja em produção, que precise estar funcionando somente no horário de trabalho ou ambientes de desenvolvimento, que geralmente são usados por um determinado periodo do dia. A gente irá programar o start/stop dessas instâncias. Iremos utlizar funções <a href="https://aws.amazon.com/pt/lambda/">Lambdas</a> combinadas com <a href="https://docs.aws.amazon.com/pt_br/AmazonCloudWatch/latest/events/WhatIsCloudWatchEvents.html">eventos do Cloudwatch</a>.</p>
<p>Precisaremos de uma função IAM com permissão para acessar os recursos EC2. Pode usar o nome que achar melhor. Aqui vai uma colinha da política, lembrando que a função precisa ser configurada com o serviço Lambda:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;Version&#34;</span>: <span style="color:#e6db74">&#34;2012-10-17&#34;</span>,
    <span style="color:#f92672">&#34;Statement&#34;</span>: [
        {
            <span style="color:#f92672">&#34;Sid&#34;</span>: <span style="color:#e6db74">&#34;VisualEditor0&#34;</span>,
            <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
            <span style="color:#f92672">&#34;Action&#34;</span>: [
                <span style="color:#e6db74">&#34;ec2:StartInstances&#34;</span>,
                <span style="color:#e6db74">&#34;ec2:StopInstances&#34;</span>,
                <span style="color:#e6db74">&#34;logs:PutLogEvents&#34;</span>
            ],
            <span style="color:#f92672">&#34;Resource&#34;</span>: [
                <span style="color:#e6db74">&#34;arn:aws:logs:*:*:log-group:*:*:*&#34;</span>,
                <span style="color:#e6db74">&#34;arn:aws:ec2:*:*:instance/*&#34;</span>
            ]
        },
        {
            <span style="color:#f92672">&#34;Sid&#34;</span>: <span style="color:#e6db74">&#34;VisualEditor1&#34;</span>,
            <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
            <span style="color:#f92672">&#34;Action&#34;</span>: [
                <span style="color:#e6db74">&#34;ec2:DescribeInstances&#34;</span>
            ],
            <span style="color:#f92672">&#34;Resource&#34;</span>: <span style="color:#e6db74">&#34;*&#34;</span>
        },
        {
            <span style="color:#f92672">&#34;Sid&#34;</span>: <span style="color:#e6db74">&#34;VisualEditor2&#34;</span>,
            <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
            <span style="color:#f92672">&#34;Action&#34;</span>: [
                <span style="color:#e6db74">&#34;logs:CreateLogStream&#34;</span>,
                <span style="color:#e6db74">&#34;logs:PutLogEvents&#34;</span>
            ],
            <span style="color:#f92672">&#34;Resource&#34;</span>: <span style="color:#e6db74">&#34;arn:aws:logs:*:*:log-group:*&#34;</span>
        }
    ]
}
</code></pre></div><p>Acessando Lambda no Console da AWS, clicaremos em criar uma função:
<img src="/img/aws/1.png" alt="Criar função"></p>
<p>Iremos escolher a opção para criar do zero, escolheremos um nome, a linguagem Python 2.7, usar uma função existente e escolher a função IAM criada anteriormente. A primeira função será para realizar o stop das instâncias.
<img src="/img/aws/2.png" alt=""></p>
<p>No código da função (imagem abaixo) iremos alterar para o seguinte código, lembrando de alterar na linha 3 a região utilizada e na linha 5 os seus Instances IDs, se tiver mais de um basta separar por vírgula:</p>
<p><img src="/img/aws/3.png" alt=""></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> boto3
<span style="color:#75715e"># Enter the region your instances are in e.g., &#39;eu-west-1&#39;</span>
region <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;us-east-1&#39;</span>
<span style="color:#75715e"># Enter your instance IDs here</span>
instances <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;i-02fb6a97792f0802a&#39;</span>]

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lambda_handler</span>(event, context):
    ec2 <span style="color:#f92672">=</span> boto3<span style="color:#f92672">.</span>client(<span style="color:#e6db74">&#39;ec2&#39;</span>, region_name<span style="color:#f92672">=</span>region)
    ec2<span style="color:#f92672">.</span>stop_instances(InstanceIds<span style="color:#f92672">=</span>instances)
    print <span style="color:#e6db74">&#39;Instances are now stopped: &#39;</span> <span style="color:#f92672">+</span> str(instances)
</code></pre></div><p>Usandos os mesmos passos já podemos criar a função lambda para iniciar as instâncias, bastando mudar o código da função:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> boto3
<span style="color:#75715e"># Enter the region your instances are in e.g., &#39;eu-west-1&#39;</span>
region <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;us-east-1&#39;</span>
<span style="color:#75715e"># Enter your instance IDs here</span>
instances <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;i-02fb6a97792f0802a&#39;</span>]

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lambda_handler</span>(event, context):
    ec2 <span style="color:#f92672">=</span> boto3<span style="color:#f92672">.</span>client(<span style="color:#e6db74">&#39;ec2&#39;</span>, region_name<span style="color:#f92672">=</span>region)
    ec2<span style="color:#f92672">.</span>start_instances(InstanceIds<span style="color:#f92672">=</span>instances)
    print <span style="color:#e6db74">&#39;Instances started: &#39;</span> <span style="color:#f92672">+</span> str(instances)
</code></pre></div><p>Agora vamos a criação do gatilho para acionar os eventos do Cloudwatch. Clicando em adicionar gatilho, vamos escolher a opção Eventos do Cloudwatch.</p>
<p><img src="/img/aws/4.png" alt="">
<img src="/img/aws/5.png" alt=""></p>
<p>Vamos criar uma nova regra para esse gatilho, dando um nome e escolhendo a Expressão de programação, que é uma expressão Cron. Não esquecendo que esse cron é ajustado para UTC. Podemos adicionar o gatilho</p>
<p><img src="/img/aws/6.png" alt=""></p>
<p>Faremos o mesmo na função de Start</p>
<p><img src="/img/aws/7.png" alt=""></p>
<p>E está pronto, nos horários programados as instâncias definidas irão ser desligadas e ligadas, reduzindo o custo nesse tempo que irá permanecer desligadas. Qualquer dúvida ou correção basta deixar nos comentários :).</p>
]]></content></item><item><title>Criando arquivo de SWAP no Linux</title><link>https://sidneiweber.com.br/criando-araquivo-swap-linux/</link><pubDate>Fri, 29 Jan 2021 22:00:00 +0000</pubDate><guid>https://sidneiweber.com.br/criando-araquivo-swap-linux/</guid><description>O que é o SWAP SWAP é um espaço no disco que é utilizado quando a quantidade de memória RAM física está cheia. Quando um sistema Linux fica sem RAM, os blocos de memória inativos são movidos da RAM para a área de SWAP.
Instalação Criando arquivo de SWAP
sudo dd if=/dev/zero of=/swapfile bs=1024 count=1048576 Com o comando acima iremos criar um arquivo de SWAP com 1 GB de tamanho</description><content type="html"><![CDATA[<h2 id="o-que-é-o-swap">O que é o SWAP</h2>
<p>SWAP é um espaço no disco que é utilizado quando a quantidade de memória RAM física está cheia. Quando um sistema Linux fica sem RAM, os blocos de memória inativos são movidos da RAM para a área de SWAP.</p>
<h2 id="instalação">Instalação</h2>
<p>Criando arquivo de SWAP</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo dd <span style="color:#66d9ef">if</span><span style="color:#f92672">=</span>/dev/zero of<span style="color:#f92672">=</span>/swapfile bs<span style="color:#f92672">=</span><span style="color:#ae81ff">1024</span> count<span style="color:#f92672">=</span><span style="color:#ae81ff">1048576</span>
</code></pre></div><p>Com o comando acima iremos criar um arquivo de SWAP com 1 GB de tamanho</p>
<p>Iremos ajustar as permissões para o correto funcionamento</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo chmod <span style="color:#ae81ff">600</span> /swapfile
</code></pre></div><p>Usaremos o comando <strong>mkswap</strong> para setar o arquivo criado anteriormente como uma área de SWAP:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo mkswap /swapfile
</code></pre></div><p>Habilitaremos o SWAP com o seguinte momento:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo swapon /swapfile
</code></pre></div><p>Para que essas alterações sejam permanentes precisamos adicionar uma entrada no arquivo <strong>/etc/fstab</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">/swapfile swap swap defaults <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
</code></pre></div><p>Para verificar se o SWAP está ativo podemos usar os comandos abaixos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo swapon --show
sudo free -h
</code></pre></div>]]></content></item><item><title>Kafka tudo o que precisamos saber</title><link>https://sidneiweber.com.br/kafka-tudo-que-precisamos-saber/</link><pubDate>Tue, 01 Sep 2020 22:20:00 +0000</pubDate><guid>https://sidneiweber.com.br/kafka-tudo-que-precisamos-saber/</guid><description>O que é o Kafka Resumidamente o Kafka é usado para trabalhar com fila de mensagens e como uma plataforma de streaming de eventos, usando um modelo de &amp;ldquo;publicar/assinar&amp;rdquo;. Foi criado e disponibilizado pelo Linkedin em 2011. Ele permite que os produtores consigam gravar mensagens no Kafka, que posteriormente podem ser lidas por um ou mais consumidores. Esses registros não podem ser modificados após serem enviados para o Kafka. Ele é executado como um cluster de um ou mais servidores, ou seja, mesmo que só tenhamos um servidor ele mesmo assim é considerado um cluster.</description><content type="html"><![CDATA[<h2 id="o-que-é-o-kafka">O que é o Kafka</h2>
<p>Resumidamente o Kafka é usado para trabalhar com fila de mensagens e como uma plataforma de streaming de eventos, usando um modelo de &ldquo;publicar/assinar&rdquo;. Foi criado e disponibilizado pelo <a href="https://github.com/linkedin/kafka">Linkedin</a> em 2011. Ele permite que os produtores consigam gravar mensagens no Kafka, que posteriormente podem ser lidas por um ou mais consumidores. Esses registros não podem ser modificados após serem enviados para o Kafka.
Ele é executado como um cluster de um ou mais servidores, ou seja, mesmo que só tenhamos um servidor ele mesmo assim é considerado um cluster. Cada nó desse cluster é também chamado de <strong>broker</strong>.</p>
<p><img src="/img/kafka/cluster.png" alt="Kafka Cluster ><"></p>
<h3 id="tópicos">Tópicos</h3>
<p>Os registros são organizados em tópicos. Cada consumidor pode assinar um ou mais tópicos para ler os registros. Esses registros consistem em uma chave, um valor e data/hora. Cada tópico pode ser separado em várias partições dependendo do seu tamanho e configuração, por padrão só uma partição é utilizada, mas para escalar os consumidores o aumento de partições se faz necessária, pois cada partição é assinada por somente um consumidor por vez.</p>
<p><img src="/img/kafka/topic.png" alt="Kafka Tópico ><"></p>
<h3 id="grupo-de-consumidores">Grupo de consumidores</h3>
<p>Os consumidores são identificados com um nome de <strong>grupo de consumidores</strong>. Esse grupo pode ter mais de um consumidor em um tópico trabalhando juntos, desde haja mais de uma partição, sempre que uma nova mensagem é recebida, só um membro desse grupo consome essa mensagem.</p>
<h3 id="offset">Offset</h3>
<p>Uma questão bem importante para uso do Kafka é o entendimento dos <strong>offsets</strong>. O offset é quem controla a posição onde o consumidor parou de ler as mensagens ou qual a próxima mensagem. Esse controle é feito pelo próprio consumidor. Por exemplo, cada vez que um determinado consumidor ler uma mensagem, ele vai incrementando seu offset para saber exatamente onde ele parou e caso desconecte e conecte novamente, tenha um ponto de partida. O consumidor ainda pode ser configurado para iniciar seu offset, caso não tenha nenhum, da <a href="https://kafka.apache.org/documentation/#auto.offset.reset">primeira ou da última</a> mensagem do tópico.</p>
<p><img src="/img/kafka/offset.png" alt="Kafka Offset ><"></p>
<h3 id="tempo-de-retenção">Tempo de retenção</h3>
<p>Um ponto que se deve ter bastante atenção em entender e configurar da maneira correta, para não termos dores de cabeça (experiência própria), é com o tempo de retenção dos dados. Vou citar aqui duas das principais configurações relativas a retenção, na <a href="https://kafka.apache.org/documentation">documentação</a> podemos achar várias outras.</p>
<ul>
<li><strong>log.retention.hours:</strong> Relativo a quantidade de horas para manter uma mensagem. Após o tempo determinado aqui a mensagem é excluída do servidor. Por padrão são 168 horas (7 dias).</li>
<li><strong>offsets.retention.minutes:</strong> Depois que um grupo de consumidor fica vazio, sem nenhum consumidor conectado, esse é o tempo que o offset do consumidor será mantido. Lembrando que se o offset é zerado o consumidor poderá reconsumir as mensagens do tópico desde o inicio novamente, se aplicação não estiver preparada para validar se existe duplicação, pode ocorrer alguns problemas. Nas últimas versões o valor padrão é 10080 minutos (7 dias).</li>
</ul>
<h3 id="zookeeper">Zookeeper</h3>
<p>Outro componente essencial para a execução do Kafka é o Zookeeper. Ele apoia ajudando na eleição de qual broker será líder de determinada partição, controlando caso algum nó caia, para que outros possam assumir essa liderança. O Zookeeper também mantém uma lista de todos os nós que estão funcionando e fazer parte do cluster. Controle dos tópicos, quais tópicos existem, quantas partições cada um tem, onde estão as réplicas, quem é o líder. Realizado também controle de quotas e controle de acesso.</p>
<p>Existe um <a href="https://www.confluent.io/blog/removing-zookeeper-dependency-in-kafka/">movimento</a> em andamento para retirar o Zookeper como uma dependência para executar o Kafka, deixando para o próprio Kafka se auto gerenciar. Acredito que isso possa diminuir a complexidade da arquitetura Kafka/Zookeeper</p>
<h3 id="conclusão">Conclusão</h3>
<p>O Kafka se bem configurado e estruturado é uma ótima ferramenta para interligar serviços sem depender de uma conexão direta entre eles. Cada serviço manda e busca sua mensagem diretamente no Kafka tirando essa responsabilidade dos serviços. Como o Kafka já foi projetado para uma alta demanda, o crescimento em todos os aspectos é muito facilitado.<!-- raw HTML omitted -->
Em outro texto vou mostrar como fazer uma configuração e instalação básica do Kafka e como podemos produzir e consumir alguma mensagens de maneira bem simples.</p>
<p>Documentação: <a href="https://kafka.apache.org/documentation/">https://kafka.apache.org/documentation/</a></p>
<p><a href="https://medium.com/swlh/understanding-kafka-a-distributed-streaming-platform-9a0360b99de8">Understanding Kafka — A Distributed Streaming Platform</a></p>
]]></content></item><item><title>Remover imagens Docker com TAG "none"</title><link>https://sidneiweber.com.br/remover-imagens-docker-com-tag/</link><pubDate>Mon, 06 Jul 2020 15:50:35 -0300</pubDate><guid>https://sidneiweber.com.br/remover-imagens-docker-com-tag/</guid><description>Primeiro vamos fazer uma pesquisa sobre nossas imagens usando: docker images -a
$ docker images -a sonarqube 0.8 34e889c54fe4 3 weeks ago 536MB &amp;lt;none&amp;gt; &amp;lt;none&amp;gt; 2e0435619f04 3 weeks ago 536MB &amp;lt;none&amp;gt; &amp;lt;none&amp;gt; e08451c98fcb 3 weeks ago 536MB &amp;lt;none&amp;gt; &amp;lt;none&amp;gt; 3cbb4fa1d367 3 weeks ago 510MB &amp;lt;none&amp;gt; &amp;lt;none&amp;gt; 9954766c4404 3 weeks ago 317MB &amp;lt;none&amp;gt; &amp;lt;none&amp;gt; 5471aca149e2 3 weeks ago 317MB &amp;lt;none&amp;gt; &amp;lt;none&amp;gt; de67c74cda48 3 weeks ago 536MB sonarqube 0.7 952b5e68f4df 3 weeks ago 536MB Podemos notar que aparecem diversas imagens com a TAG e podendo ocupar espaços consideráveis.</description><content type="html"><![CDATA[<p>Primeiro vamos fazer uma pesquisa sobre nossas imagens usando: <strong>docker images -a</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ docker images -a
sonarqube                                                   0.8                 34e889c54fe4        <span style="color:#ae81ff">3</span> weeks ago         536MB
&lt;none&gt;                                                      &lt;none&gt;               2e0435619f04        <span style="color:#ae81ff">3</span> weeks ago         536MB
&lt;none&gt;                                                      &lt;none&gt;               e08451c98fcb        <span style="color:#ae81ff">3</span> weeks ago         536MB
&lt;none&gt;                                                      &lt;none&gt;               3cbb4fa1d367        <span style="color:#ae81ff">3</span> weeks ago         510MB
&lt;none&gt;                                                      &lt;none&gt;               9954766c4404        <span style="color:#ae81ff">3</span> weeks ago         317MB
&lt;none&gt;                                                      &lt;none&gt;               5471aca149e2        <span style="color:#ae81ff">3</span> weeks ago         317MB
&lt;none&gt;                                                      &lt;none&gt;               de67c74cda48        <span style="color:#ae81ff">3</span> weeks ago         536MB
sonarqube                                                   0.7                 952b5e68f4df        <span style="color:#ae81ff">3</span> weeks ago         536MB
</code></pre></div><p>Podemos notar que aparecem diversas imagens com a TAG <!-- raw HTML omitted --> e podendo ocupar espaços consideráveis. Porém alguma dessas imagens sem TAG são imagens usadas por outras imagens e removê-las pode nos fazer perder um certo tempo, mesmo assim é possível removê-las também, mas veremos mais adiante.</p>
<p>Para pesquisarmos somente as imagens que não estão sendo usadas, usamos o comando:<!-- raw HTML omitted --> docker images -a &ndash;filter &ldquo;dangling=true&rdquo; -q &ndash;no-trunc<!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">╰─$ docker images -a --filter <span style="color:#e6db74">&#34;dangling=true&#34;</span> -q --no-trunc
sha256:031b0be81cf829258f102cb17dd8a07fe9aa06eeb20a6e5e2f67af54532c84f1
sha256:9959c80cfe039e7038fc188b2d0d3f22974d5f280e286a44e3195f3e45e0fa68&lt;/pre&gt;
</code></pre></div><p>Essas imagens podemos ser removidas sem medo, então usaremos o comando abaixo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">╰─$ docker rmi <span style="color:#66d9ef">$(</span>docker images --filter <span style="color:#e6db74">&#34;dangling=true&#34;</span> -q --no-trunc<span style="color:#66d9ef">)</span>                                               
Deleted: sha256:031b0be81cf829258f102cb17dd8a07fe9aa06eeb20a6e5e2f67af54532c84f1
Deleted: sha256:9959c80cfe039e7038fc188b2d0d3f22974d5f280e286a44e3195f3e45e0fa68
Deleted: sha256:6de7450e13547144dbb066a9afe8f0e0e2383a5696a9604e366e69ebba9fa3af
Deleted: sha256:c7e984302b4ecf0b9428494665a09bc5c775ebaed5866ce3101a87c786741e29
Deleted: sha256:a8f885350961ed2cb5509033822f01e45e81ec0bed958e80381b0bf5529e14c9
Deleted: sha256:1f192881c9d640e62eeb03f6ed313e256a978c5ffc6e479a19954fcbe80e15b2
Deleted: sha256:f7b55b567ef38e97e7d836939f625e22a412444de9f901ba0c211737cc60a888
Deleted: sha256:355034eb63caebea98f56af94be376d31e29f47f33a50f56a9fb5d8691dd9b8e
Deleted: sha256:56ab38708730dcabc3ac7c6e5e980cf88ea8680110aeacbe1820e0ff27f8348c
Deleted: sha256:8bbd195ad543f77076ecc27a5cde47853add9d94232320ef651ca42225a80702
</code></pre></div><p>Para remover todas as imagens antigas e não usadas podemos usar o comando abaixo, porém muito cuidado ao usá-lo</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">╰─$ docker image prune
</code></pre></div>]]></content></item><item><title>Como redimensionar volume EBS no Linux sem downtime</title><link>https://sidneiweber.com.br/como-redimensionar-volume-ebs-no-linux-sem-downtime/</link><pubDate>Fri, 13 Mar 2020 21:54:28 +0000</pubDate><guid>https://sidneiweber.com.br/como-redimensionar-volume-ebs-no-linux-sem-downtime/</guid><description>Esse processo pode ser feito sempre que precisar aumentar o volume sem precisar desligar a instância ou desanexar o volume.
Alterações em produção? Nesse caso sim :)
Após estar logado em sua conta AWS vamos escolher a opção EC2 na lista de serviços Clicamos em &amp;ldquo;Volumes&amp;rdquo; no menu &amp;ldquo;ELASTIC BLOCK STORE&amp;rdquo; Escolha o volume que deseja redimensionar e com o botão direito do mouse clique em &amp;ldquo;Modify Volume&amp;rdquo; Verá uma janela como essa:</description><content type="html"><![CDATA[<p>Esse processo pode ser feito sempre que precisar aumentar o volume sem precisar desligar a instância ou desanexar o volume.</p>
<p>Alterações em produção? Nesse caso sim :)</p>
<ul>
<li>Após estar logado em sua conta AWS vamos escolher a opção EC2 na lista de serviços</li>
<li>Clicamos em &ldquo;Volumes&rdquo; no menu <strong>&ldquo;ELASTIC BLOCK STORE&rdquo;</strong></li>
<li>Escolha o volume que deseja redimensionar e com o botão direito do mouse clique em <strong>&ldquo;Modify Volume&rdquo;</strong></li>
</ul>
<p>Verá uma janela como essa:
<img src="/img/ebs/modify-volume.png" alt="Modify Volume ><"></p>
<ul>
<li>Defina o novo tamanho para o volume, como no exemplo da imagem estamos estendendo o volume para 20GB</li>
<li>Confirme no botão &ldquo;Modify&rdquo;</li>
</ul>
<p>Agora precisaremos extender a partição no sistema. Acesse a instância via SSH e rode o comando abaixo para listar o dispositivos.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ubuntu@ip-172-31-23-184:~$ lsblk 
NAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
loop0     7:0    <span style="color:#ae81ff">0</span> 89.1M  <span style="color:#ae81ff">1</span> loop /snap/core/8268
loop1     7:1    <span style="color:#ae81ff">0</span>   18M  <span style="color:#ae81ff">1</span> loop /snap/amazon-ssm-agent/1480
xvda    202:0    <span style="color:#ae81ff">0</span>   20G  <span style="color:#ae81ff">0</span> disk 
└─xvda1 202:1    <span style="color:#ae81ff">0</span>    8G  <span style="color:#ae81ff">0</span> part /
</code></pre></div><p>Podemos ver o disco está com o novo tamanho (20GB), porém a partição continua com o tamanho antigo (8GB) e precisa ser estendido.</p>
<p>Para isso vamos usar o comando (growpart):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ubuntu@ip-172-31-23-184:~$ sudo growpart /dev/xvda <span style="color:#ae81ff">1</span>
CHANGED: partition<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> start<span style="color:#f92672">=</span><span style="color:#ae81ff">2048</span> old: size<span style="color:#f92672">=</span><span style="color:#ae81ff">16775135</span> end<span style="color:#f92672">=</span><span style="color:#ae81ff">16777183</span> new: size<span style="color:#f92672">=</span>41940959,end<span style="color:#f92672">=</span><span style="color:#ae81ff">41943007</span>
</code></pre></div><p>Levando em considreção o dispositivo e o número da partição. Vamos chegar novamente o tamanho da partição:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ubuntu@ip-172-31-23-184:~$ lsblk 
NAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
loop0     7:0    <span style="color:#ae81ff">0</span> 89.1M  <span style="color:#ae81ff">1</span> loop /snap/core/8268
loop1     7:1    <span style="color:#ae81ff">0</span>   18M  <span style="color:#ae81ff">1</span> loop /snap/amazon-ssm-agent/1480
xvda    202:0    <span style="color:#ae81ff">0</span>   20G  <span style="color:#ae81ff">0</span> disk 
└─xvda1 202:1    <span style="color:#ae81ff">0</span>   20G  <span style="color:#ae81ff">0</span> part /
</code></pre></div><p>Podemos notar que a partição também está estendida, mas se olharmos o uso do disco podemos notar que o mesmo não foi alterado, isso porque ainda precisamos estender o sistema de arquivos.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ubuntu@ip-172-31-23-184:~$ df -Th |grep /dev/xvda1
/dev/xvda1     ext4      7.7G  1.1G  6.7G  14% /
ubuntu@ip-172-31-23-184:~$ 
</code></pre></div><p>E para estender o sistema de arquivos é simples, se o sistema de arquivos que está usando é ext2, ext3 ou ext4, basta executar o comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ubuntu@ip-172-31-23-184:~$ sudo resize2fs /dev/xvda1 
resize2fs 1.44.1 <span style="color:#f92672">(</span>24-Mar-2018<span style="color:#f92672">)</span>
Filesystem at /dev/xvda1 is mounted on /; on-line resizing required
old_desc_blocks <span style="color:#f92672">=</span> 1, new_desc_blocks <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
The filesystem on /dev/xvda1 is now <span style="color:#ae81ff">5242619</span> <span style="color:#f92672">(</span>4k<span style="color:#f92672">)</span> blocks long.
</code></pre></div><p>Agora se olharmos novamente o espaço utlizado com o comando df:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ubuntu@ip-172-31-23-184:~$ df -Th |grep /dev/xvda1
/dev/xvda1     ext4       20G  1.1G   19G   6% /
ubuntu@ip-172-31-23-184:~$ 
</code></pre></div><p>Pronto, volume estendido com 0 downtime. Bom proveito!</p>
]]></content></item><item><title>Ansible: Criado AMI Windows personalizada na AWS (Parte 2)</title><link>https://sidneiweber.com.br/ansible-criado-ami-windows-personalizada-na-aws-parte-2/</link><pubDate>Fri, 27 Dec 2019 17:04:43 +0000</pubDate><guid>https://sidneiweber.com.br/ansible-criado-ami-windows-personalizada-na-aws-parte-2/</guid><description>Na parte 1 aprendemos como usar um script AWS User Data para configurar uma senha de Administrador e configurar o WinRM no Windows. Agora que sabemos como criar uma instância setando um senha especifica, vamos ao restante dos procedimentos. Vamos estruturar nosso projeto e manter as coisas organizadas.
Recursos utilizados, caso não tenha algo instalado, não funcionará :
Python 3.8.0Módulos pip: boto boto3 pywinrm Ansible 2.9.2
Já podemos supor que você tenha o Ansible configurado corretamente para sua conta da AWS (por exemplo, boto instalado, credenciais do IAM configuradas).</description><content type="html"><![CDATA[<p>Na <a href="https://sidneiweber.com.br/ansible-criado-ami-windows-personalizada-na-aws-parte-1/">parte 1</a> aprendemos como usar um script AWS User Data para configurar uma senha de Administrador e configurar o WinRM no Windows. Agora que sabemos como criar uma instância setando um senha especifica, vamos ao restante dos procedimentos.  Vamos estruturar nosso projeto e manter as coisas organizadas.</p>
<p>Recursos utilizados, caso não tenha algo instalado, não funcionará :</p>
<p><strong>Python 3.8.0</strong><!-- raw HTML omitted -->
<strong>Módulos pip</strong>:<!-- raw HTML omitted --></p>
<ul>
<li>boto<!-- raw HTML omitted --></li>
<li>boto3<!-- raw HTML omitted --></li>
<li>pywinrm</li>
</ul>
<p><strong>Ansible 2.9.2</strong></p>
<p>Já podemos supor que você tenha o Ansible configurado corretamente para sua conta da AWS (por exemplo, boto instalado, credenciais do IAM configuradas). Consulte o Guia da AWS da Ansible se precisar de ajuda para fazer isso. Por simplicidade, esses exemplos também pressupõem que você tenha uma VPC padrão funcional em sua região (você deve ter, a menos que a tenha excluído). Se você precisar de ajuda para configurar isso, consulte a página da Amazon em VPCs padrão.</p>
<p>Caso queira ir direto para os arquivos usados, pode acessar no github: <a href="https://github.com/sidneiweber/ansible-windows-ami">https://github.com/sidneiweber/ansible-windows-ami</a></p>
<p>Vamos iniciar pelas nossas variáveis, onde vamos setar a região da AWS, o tipo de instância, nossa chave, vpc e subnet, nossa senha que usamos na <a href="https://sidneiweber.com.br/ansible-criado-ami-windows-personalizada-na-aws-parte-1/">primeira parte </a> do artigo e alguns detalhes sobre os volumes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e"># cat group_vars/all.yml</span>
<span style="color:#f92672">target_aws_region</span>: <span style="color:#ae81ff">us-east-1</span>
<span style="color:#f92672">instance_type</span>: <span style="color:#ae81ff">t3.small</span>
<span style="color:#f92672">keypair</span>: <span style="color:#ae81ff">keypair</span>
<span style="color:#f92672">vpc_id</span>: <span style="color:#ae81ff">vpc-xxxxx</span>
<span style="color:#f92672">subnet</span>: <span style="color:#ae81ff">subnet-xxxxx</span>
<span style="color:#f92672">win_initial_password</span>: <span style="color:#ae81ff">myTempPassword123!</span>
<span style="color:#f92672">volumes</span>:
  - <span style="color:#f92672">device_name</span>: <span style="color:#ae81ff">/dev/sda1</span>
    <span style="color:#f92672">device_type</span>: <span style="color:#ae81ff">gp2</span>
    <span style="color:#f92672">volume_size</span>: <span style="color:#ae81ff">30</span>
    <span style="color:#f92672">delete_on_termination</span>: <span style="color:#66d9ef">true</span>
</code></pre></div><p>Nosso arquivo hosts ficará assim. O grupo win é onde será adicionada a instância após a criação: <!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#ae81ff">localhost ansible_connection=local</span>

[<span style="color:#ae81ff">win]</span>

[<span style="color:#ae81ff">win:vars]</span>
<span style="color:#ae81ff">ansible_connection=winrm</span>
<span style="color:#ae81ff">ansible_ssh_port=5986</span>
<span style="color:#ae81ff">ansible_ssh_user=Administrator</span>
<span style="color:#ae81ff">ansible_ssh_pass=&#34;{{ win_initial_password }}&#34;</span>
<span style="color:#ae81ff">ansible_winrm_server_cert_validation=ignore</span>
</code></pre></div><p>Com essas váriaveis em mãos, vamos iniciar nossa instância base já usando o userdata assim como fizemos no painel da AWS, só que dessa vez diretamente pelo ansible: <!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#75715e"># cat roles/launch/tasks/main.yml</span>
- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Find Windows AMI base in this region</span>
  <span style="color:#f92672">ec2_ami_facts</span>:
    <span style="color:#f92672">owners</span>: <span style="color:#ae81ff">801119661308</span>
    <span style="color:#f92672">filters</span>:
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Windows_Server-2019-English-Full-Base*</span>
  <span style="color:#f92672">register</span>: <span style="color:#ae81ff">found_amis</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Get AMI Windows</span>
  <span style="color:#f92672">set_fact</span>:
    <span style="color:#f92672">win_ami_id</span>: <span style="color:#e6db74">&#34;{{ (found_amis.images | first).image_id  }}&#34;</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Ensure security group is present</span>
  <span style="color:#f92672">ec2_group</span>:
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">WinRM RDP</span>
    <span style="color:#f92672">description</span>: <span style="color:#ae81ff">Inbound WinRM and RDP</span>
    <span style="color:#f92672">region</span>: <span style="color:#e6db74">&#34;{{ target_aws_region }}&#34;</span>
    <span style="color:#f92672">vpc_id</span>: <span style="color:#e6db74">&#34;{{ vpc_id }}&#34;</span>
    <span style="color:#f92672">rules</span>:
    - <span style="color:#f92672">proto</span>: <span style="color:#ae81ff">tcp</span>
      <span style="color:#f92672">from_port</span>: <span style="color:#ae81ff">80</span>
      <span style="color:#f92672">to_port</span>: <span style="color:#ae81ff">80</span>
      <span style="color:#f92672">cidr_ip</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
    - <span style="color:#f92672">proto</span>: <span style="color:#ae81ff">tcp</span>
      <span style="color:#f92672">from_port</span>: <span style="color:#ae81ff">5986</span>
      <span style="color:#f92672">to_port</span>: <span style="color:#ae81ff">5986</span>
      <span style="color:#f92672">cidr_ip</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
    - <span style="color:#f92672">proto</span>: <span style="color:#ae81ff">tcp</span>
      <span style="color:#f92672">from_port</span>: <span style="color:#ae81ff">3389</span>
      <span style="color:#f92672">to_port</span>: <span style="color:#ae81ff">3389</span>
      <span style="color:#f92672">cidr_ip</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
    <span style="color:#f92672">rules_egress</span>:
    - <span style="color:#f92672">proto</span>: -<span style="color:#ae81ff">1</span>
      <span style="color:#f92672">cidr_ip</span>: <span style="color:#ae81ff">0.0.0.0</span><span style="color:#ae81ff">/0</span>
  <span style="color:#f92672">register</span>: <span style="color:#ae81ff">sg_out</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Ensure instances are running</span>
  <span style="color:#f92672">ec2</span>:
    <span style="color:#f92672">region</span>: <span style="color:#e6db74">&#34;{{ target_aws_region }}&#34;</span>
    <span style="color:#f92672">image</span>: <span style="color:#e6db74">&#34;{{ win_ami_id }}&#34;</span>
    <span style="color:#f92672">instance_type</span>: <span style="color:#e6db74">&#34;{{ instance_type }}&#34;</span>
    <span style="color:#f92672">group_id</span>: <span style="color:#e6db74">&#34;{{ sg_out.group_id }}&#34;</span>
    <span style="color:#f92672">key_name</span>: <span style="color:#e6db74">&#34;{{ keypair }}&#34;</span>
    <span style="color:#f92672">wait</span>: <span style="color:#66d9ef">yes</span>
    <span style="color:#f92672">wait_timeout</span>: <span style="color:#ae81ff">500</span>
    <span style="color:#f92672">exact_count</span>: <span style="color:#ae81ff">1</span>
    <span style="color:#f92672">assign_public_ip</span>: <span style="color:#66d9ef">yes</span>
    <span style="color:#f92672">vpc_subnet_id</span>: <span style="color:#e6db74">&#34;{{ subnet }}&#34;</span>
    <span style="color:#f92672">count_tag</span>:
      <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">stock-win-ami-test</span>
    <span style="color:#f92672">instance_tags</span>:
      <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">stock-win-ami-test</span>
    <span style="color:#f92672">user_data</span>: <span style="color:#e6db74">&#34;{{ lookup(&#39;template&#39;, &#39;userdata.txt.j2&#39;) }}&#34;</span>
  <span style="color:#f92672">register</span>: <span style="color:#ae81ff">ec2_result</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">wait for WinRM to answer on all hosts</span>
  <span style="color:#f92672">wait_for</span>:
    <span style="color:#f92672">port</span>: <span style="color:#ae81ff">5986</span>
    <span style="color:#f92672">host</span>: <span style="color:#e6db74">&#34;{{ item.public_ip }}&#34;</span>
    <span style="color:#f92672">delay</span>: <span style="color:#ae81ff">30</span>
    <span style="color:#f92672">timeout</span>: <span style="color:#ae81ff">300</span>
    <span style="color:#f92672">state</span>: <span style="color:#ae81ff">started</span>
  <span style="color:#f92672">with_items</span>: <span style="color:#e6db74">&#34;{{ ec2_result.tagged_instances }}&#34;</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">add hosts to groups</span>
  <span style="color:#f92672">add_host</span>:
    <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;win-temp-{{ item.id }}&#34;</span>
    <span style="color:#f92672">ansible_ssh_host</span>: <span style="color:#e6db74">&#34;{{ item.public_ip }}&#34;</span>
    <span style="color:#f92672">ec2_id</span>: <span style="color:#e6db74">&#34;{{ item.id }}&#34;</span>
    <span style="color:#f92672">groups</span>: <span style="color:#ae81ff">win</span>
  <span style="color:#f92672">changed_when</span>: <span style="color:#66d9ef">false</span>
  <span style="color:#f92672">with_items</span>: <span style="color:#e6db74">&#34;{{ ec2_result.tagged_instances }}&#34;</span>
</code></pre></div><p>Agora vamos conectar na instância e fazer a instalação do que precisamos, vamos contar com auxilio de um script para instalar o Chocolatey e algumas ferramentas (JDK e git) somente para exemplo. <!-- raw HTML omitted -->
Vamos também instalar algumas features do Windows como IIS, Powershell e .NET Framework, também somente para aprendizado. Também usaremos o módulo do Chocolatey para instalar o 7zip. <!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#75715e"># cat roles/deploy/tasks/main.yml</span>
- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Copy Script config</span>
  <span style="color:#f92672">win_copy</span>:
    <span style="color:#f92672">src</span>: <span style="color:#ae81ff">script.ps1</span>
    <span style="color:#f92672">dest</span>: <span style="color:#ae81ff">C:\Windows\Temp\script.ps1</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Execute script</span>
  <span style="color:#f92672">win_shell</span>: <span style="color:#ae81ff">C:\Windows\Temp\script.ps1</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">ensure IIS and ASP.NET are installed</span>
  <span style="color:#f92672">win_feature</span>:
    <span style="color:#f92672">name</span>:
      - <span style="color:#ae81ff">Web-Server</span>
      - <span style="color:#ae81ff">Web-Http-Redirect</span>
      - <span style="color:#ae81ff">Web-DAV-Publishing</span>
      - <span style="color:#ae81ff">Web-Custom-Logging</span>
      - <span style="color:#ae81ff">Web-Log-Libraries</span>
      - <span style="color:#ae81ff">Web-ODBC-Logging</span>
      - <span style="color:#ae81ff">Web-Request-Monitor</span>
      - <span style="color:#ae81ff">Web-Http-Tracing</span>
      - <span style="color:#ae81ff">Web-Dyn-Compression</span>
      - <span style="color:#ae81ff">Web-Basic-Auth</span>
      - <span style="color:#ae81ff">Web-CertProvider</span>
      - <span style="color:#ae81ff">Web-Client-Auth</span>
      - <span style="color:#ae81ff">Web-Digest-Auth</span>
      - <span style="color:#ae81ff">Web-Cert-Auth</span>
      - <span style="color:#ae81ff">Web-IP-Security</span>
      - <span style="color:#ae81ff">Web-Url-Auth</span>
      - <span style="color:#ae81ff">Web-Windows-Auth</span>
      - <span style="color:#ae81ff">Web-App-Dev</span>
      - <span style="color:#ae81ff">Web-Net-Ext</span>
      - <span style="color:#ae81ff">Web-Net-Ext45</span>
      - <span style="color:#ae81ff">Web-Asp-Net45</span>
      - <span style="color:#ae81ff">Web-ISAPI-Ext</span>
      - <span style="color:#ae81ff">Web-ISAPI-Filter</span>
      - <span style="color:#ae81ff">Web-Mgmt-Tools</span>
      - <span style="color:#ae81ff">Web-Scripting-Tools</span>
      - <span style="color:#ae81ff">Web-Mgmt-Console</span>
      - <span style="color:#ae81ff">Web-Mgmt-Service</span>
      - <span style="color:#ae81ff">NET-Framework-Features</span>
      - <span style="color:#ae81ff">NET-Framework-Core</span>
      - <span style="color:#ae81ff">NET-HTTP-Activation</span>
      - <span style="color:#ae81ff">NET-Non-HTTP-Activ</span>
      - <span style="color:#ae81ff">NET-Framework-45-Features</span>
      - <span style="color:#ae81ff">NET-Framework-45-Core</span>
      - <span style="color:#ae81ff">NET-Framework-45-ASPNET</span>
      - <span style="color:#ae81ff">NET-WCF-Services45</span>
      - <span style="color:#ae81ff">MSMQ</span>
      - <span style="color:#ae81ff">MSMQ-Services</span>
      - <span style="color:#ae81ff">MSMQ-Server</span>
      - <span style="color:#ae81ff">FS-SMB1</span>
      - <span style="color:#ae81ff">Telnet-Client</span>
      - <span style="color:#ae81ff">PowerShellRoot</span>
      - <span style="color:#ae81ff">PowerShell</span>
      - <span style="color:#ae81ff">PowerShell-V2</span>
      - <span style="color:#ae81ff">PowerShell-ISE</span>
      - <span style="color:#ae81ff">WAS</span>
      - <span style="color:#ae81ff">WAS-Process-Model</span>
      - <span style="color:#ae81ff">WAS-NET-Environment</span>
      - <span style="color:#ae81ff">WAS-Config-APIs</span>
      - <span style="color:#ae81ff">WoW64-Support</span>
    <span style="color:#f92672">state</span>: <span style="color:#ae81ff">present</span>
    <span style="color:#f92672">include_management_tools</span>: <span style="color:#66d9ef">yes</span>
  <span style="color:#f92672">register</span>: <span style="color:#ae81ff">windows_install</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Reboot if installing Web-Server feature requires it</span>
  <span style="color:#f92672">win_reboot</span>:
  <span style="color:#f92672">when</span>: <span style="color:#ae81ff">windows_install.reboot_required</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Install 7Zip</span>
  <span style="color:#f92672">win_chocolatey</span>:
    <span style="color:#f92672">name</span>: <span style="color:#ae81ff">7zip</span>
    <span style="color:#f92672">state</span>: <span style="color:#ae81ff">present</span>
    
- <span style="color:#f92672">debug</span>:
    <span style="color:#f92672">msg</span>: <span style="color:#ae81ff">web application is available at http://{{ ansible_ssh_host }}/</span>
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#75715e"># cat roles/deploy/files/script.ps1</span>
<span style="color:#75715e"># Install Chocolatey</span>
<span style="color:#ae81ff">iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://chocolatey.org/install.ps1&#39;))</span>
<span style="color:#75715e"># Globally Auto confirm every action</span>
<span style="color:#ae81ff">choco feature enable -n allowGalobalConfirmation</span>

<span style="color:#75715e"># Install JDK 8 and git</span>
<span style="color:#ae81ff">choco install jdk8</span>
<span style="color:#ae81ff">choco install git</span>
</code></pre></div><p>Agora vamos gerar nossa AMI personalizada, lembrando que o nome deve ser sempre diferente ao gerar uma nova AMI, aqui é interessante incluir uma variável com o número do build do seu pipeline por exemplo: <!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#75715e"># cat roles/build-ami/tasks/main.yml</span>
- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Create AMI</span>
  <span style="color:#f92672">ec2_ami</span>:
    <span style="color:#f92672">region</span>: <span style="color:#e6db74">&#34;{{ target_aws_region }}&#34;</span>
    <span style="color:#f92672">instance_id</span>: <span style="color:#e6db74">&#34;{{ item.id }}&#34;</span>
    <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;windows-personalizado&#34;</span>
    <span style="color:#f92672">wait</span>: <span style="color:#66d9ef">yes</span>
    <span style="color:#f92672">state</span>: <span style="color:#ae81ff">present</span>
  <span style="color:#f92672">with_items</span>: <span style="color:#e6db74">&#34;{{ ec2_result.tagged_instances }}&#34;</span>
  <span style="color:#f92672">register</span>: <span style="color:#ae81ff">ami</span>

- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Set New AMI id variable</span>
  <span style="color:#f92672">set_fact</span>:
    <span style="color:#f92672">ami_result</span>: <span style="color:#e6db74">&#34;{{ (ami.results | first).image_id  }}&#34;</span>
</code></pre></div><p>Para não ficarmos com essa instância base rodando sem necessidade, vamos exclui-la: <!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#75715e"># cat roles/terminate/tasks/main.yml</span>
- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">ensure instances are not running</span>
  <span style="color:#f92672">ec2</span>:
    <span style="color:#f92672">region</span>: <span style="color:#e6db74">&#34;{{ target_aws_region }}&#34;</span>
    <span style="color:#f92672">image</span>: <span style="color:#e6db74">&#34;{{ win_ami_id }}&#34;</span>
    <span style="color:#f92672">instance_type</span>: <span style="color:#e6db74">&#34;{{ instance_type }}&#34;</span>
    <span style="color:#f92672">group_id</span>: <span style="color:#e6db74">&#34;{{ sg_out.group_id }}&#34;</span>
    <span style="color:#f92672">key_name</span>: <span style="color:#e6db74">&#34;{{ keypair }}&#34;</span>
    <span style="color:#f92672">wait</span>: <span style="color:#66d9ef">yes</span>
    <span style="color:#f92672">wait_timeout</span>: <span style="color:#ae81ff">500</span>
    <span style="color:#f92672">exact_count</span>: <span style="color:#ae81ff">0</span>
    <span style="color:#f92672">assign_public_ip</span>: <span style="color:#66d9ef">yes</span>
    <span style="color:#f92672">vpc_subnet_id</span>: <span style="color:#e6db74">&#34;{{ subnet }}&#34;</span>
    <span style="color:#f92672">count_tag</span>:
      <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">stock-win-ami-test</span>
    <span style="color:#f92672">instance_tags</span>:
      <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">stock-win-ami-test</span>
  <span style="color:#f92672">register</span>: <span style="color:#ae81ff">ec2_result</span>
</code></pre></div><p>Então nosso arquivo principal para realizarmos essa tarega ficará assim: <!-- raw HTML omitted --></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#75715e"># cat deploy.yml</span>
- <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">localhost</span>
  <span style="color:#f92672">gather_facts</span>: <span style="color:#66d9ef">no</span>
  <span style="color:#f92672">roles</span>:
    - <span style="color:#f92672">role</span>: <span style="color:#ae81ff">launch</span>
      <span style="color:#f92672">name</span>: <span style="color:#ae81ff">win</span>

- <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">win</span>
  <span style="color:#f92672">roles</span>:
    - <span style="color:#ae81ff">deploy</span>

- <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">localhost</span>
  <span style="color:#f92672">gather_facts</span>: <span style="color:#66d9ef">no</span>
  <span style="color:#f92672">connection</span>: <span style="color:#ae81ff">local</span>
  <span style="color:#f92672">roles</span>:
    - <span style="color:#ae81ff">build-ami</span>
    - <span style="color:#ae81ff">terminate</span>
</code></pre></div><p>E para rodar tudo e ser feliz basta executar: <em><strong>ansible-playbook -i hosts deploy.yml</strong></em></p>
<p><strong>Iniciando a execução:</strong></p>
<p><img src="/img/aws-ami/1.png" alt="Iniciando Instância"></p>
<p><strong>Instância rodando na AWS:</strong></p>
<p><img src="/img/aws-ami/5.png" alt="Instância iniciada"></p>
<p><strong>Instalando aplicações e configurações:</strong></p>
<p><img src="/img/aws-ami/2.png" alt="Realizando deploy das aplicações"></p>
<p><strong>Gerando a AMI e encerrando a instância base:</strong></p>
<p><img src="/img/aws-ami/3.png" alt="Gerando a AMI e encerrando instância"></p>
<p><strong>AMI gerada no painel da AWS:</strong></p>
<p><img src="/img/aws-ami/6.png" alt="AMI gerada"></p>
<p><strong>Resumo das execuções no Ansible:</strong></p>
<p><img src="/img/aws-ami/4.png" alt="Resumo das execuções"></p>
<p>Referencia: <a href="http://blog.rolpdog.com/2015/09/manage-stock-windows-amis-with-ansible_3.html">http://blog.rolpdog.com/2015/09/manage-stock-windows-amis-with-ansible_3.html</a></p>
]]></content></item><item><title>Ansible: Criado AMI Windows personalizada na AWS (Parte 1)</title><link>https://sidneiweber.com.br/ansible-criado-ami-windows-personalizada-na-aws-parte-1/</link><pubDate>Wed, 27 Nov 2019 09:13:21 +0000</pubDate><guid>https://sidneiweber.com.br/ansible-criado-ami-windows-personalizada-na-aws-parte-1/</guid><description>Quando vamos trabalhar com Ansbile usando Windows na AWS notamos que as imagens padrões do Windows não estão com o WinRM configurado e as senhas são geradas aleatoriamente usando a chave selecionada, sendo somente acessíveis alguns minutos após a instância iniciar. Conectando em uma instância Windows.
Uma alternativa é criar uma AMI personalizada com WinRM configurado e uma senha pré-definida, estando assim disponível imediatamente para uso. O primeiro passo é iniciar uma instância Windows colocando o script abaixo em User Data.</description><content type="html"><![CDATA[<p>Quando vamos trabalhar com Ansbile usando Windows na AWS notamos que as imagens padrões do Windows não estão com o WinRM configurado e as senhas são geradas aleatoriamente usando a chave selecionada, sendo somente acessíveis alguns minutos após a instância iniciar. <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html">Conectando em uma instância Windows</a>.</p>
<p>Uma alternativa é criar uma AMI personalizada com WinRM configurado e uma senha pré-definida, estando assim disponível imediatamente para uso. O primeiro passo é iniciar uma instância Windows colocando o script abaixo em User Data. Atenção para o campo onde está definido a senha, o script também irá baixar e executar o script para configurar o WinRM.</p>
<pre><code>&lt;powershell&gt;
$admin = [adsi](&quot;WinNT://./administrator, user&quot;)
$admin.PSBase.Invoke(&quot;SetPassword&quot;, &quot;myTempPassword123!&quot;)
Invoke-Expression ((New-Object System.Net.Webclient).DownloadString('https://raw.githubusercontent.com/ansible/ansible/devel/examples/scripts/ConfigureRemotingForAnsible.ps1'))
&lt;/powershell&gt;
</code></pre><p><img src="/img/aws-ami/user-data.png" alt="UserData"></p>
<p>Caso você use o <a href="https://www.packer.io">Packer</a> para gerar suas imagens esse script também por ser usado no parâmetro <strong>user_data_file</strong>.</p>
<p>Na configuração de <strong>Security Group</strong> da instância lembre-se de liberar as portas 3389 e 5986. Caso não saiba a porta 5986 é usada para conexão segura com o WinRM, que é usado pelo Ansible para conexão. Após alguns instantes após iniciar a instância ela já vai estar liberada para o acesso.</p>
<p>No arquivo de hosts do ansible, configure usando os dados abaixo e a senha definida no script acima</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">[<span style="color:#ae81ff">windows]</span>
<span style="color:#ae81ff">ip-host-windows</span>

[<span style="color:#ae81ff">windows:vars]</span>
<span style="color:#ae81ff">ansible_connection=winrm</span>
<span style="color:#ae81ff">ansible_ssh_port=5986</span>
<span style="color:#ae81ff">ansible_ssh_user=Administrator</span>
<span style="color:#ae81ff">ansible_ssh_pass=myTempPassword123!</span>
</code></pre></div><p>Após alguns instantes estando a instância disponível para acesso. Podemos testar usando o módulo do ansible <a href="https://docs.ansible.com/ansible/latest/modules/win_ping_module.html">win_ping</a>. No nosso exemplo usando o comando <em>ansible windows -i hosts -m win_ping</em>. O retorno deve ser parecido com esse:</p>
<p><img src="/img/aws-ami/win-ping.png" alt="Win Ping"></p>
<p>Bom essa é a primeira etapa, na parte 2 iremos ver como configurar o Windows e gerar uma nova AMI personalizada usando o Ansible</p>
]]></content></item><item><title>Exemplo de comandos da AWS S3 para gerenciar buckets</title><link>https://sidneiweber.com.br/exemplo-de-comandos-do-aws-s3-para-gerenciar-buckets/</link><pubDate>Fri, 25 Oct 2019 16:55:50 +0000</pubDate><guid>https://sidneiweber.com.br/exemplo-de-comandos-do-aws-s3-para-gerenciar-buckets/</guid><description>Este tutorial explica os conceitos básicos de como gerenciar buckets do S3 e seus objetos usando o aws s3 cli usando os seguintes exemplos:
Criar bucket aws s3 mb s3://bucketname # região diferente aws s3 mb s3://bucketname --region us-east-2 Remover Bucket aws s3 rb s3://bucketname aws s3 rb s3://bucketname --force Opção ls aws s3 ls aws s3 ls s3://bucketname aws s3 ls s3://bucketname --recursive aws s3 ls s3://bucketname --recursive --human-readable --summarize Opção cp aws s3 cp getdata.</description><content type="html"><![CDATA[<p>Este tutorial explica os conceitos básicos de como gerenciar buckets do S3 e seus objetos usando o aws s3 cli usando os seguintes exemplos:</p>
<h2 id="criar-bucket">Criar bucket</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aws s3 mb s3://bucketname

<span style="color:#75715e"># região diferente</span>
aws s3 mb s3://bucketname --region us-east-2
</code></pre></div><h2 id="remover-bucket">Remover Bucket</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aws s3 rb s3://bucketname
aws s3 rb s3://bucketname --force
</code></pre></div><h2 id="opção-ls">Opção ls</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aws s3 ls
aws s3 ls s3://bucketname
aws s3 ls s3://bucketname --recursive
aws s3 ls s3://bucketname --recursive  --human-readable --summarize
</code></pre></div><h2 id="opção-cp">Opção cp</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aws s3 cp getdata.php s3://bucketname
aws s3 cp /local/dir/data s3://bucketname --recursive
aws s3 cp s3://bucketname/getdata.php /local/dir/data
aws s3 cp s3://bucketname/ /local/dir/data --recursive
aws s3 cp s3://bucketname/init.xml s3://backup-bucket
aws s3 cp s3://bucketname s3://backup-bucket --recursive
</code></pre></div><h2 id="opção-mv">Opção mv</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aws s3 mv source.json s3://bucketname
aws s3 mv s3://bucketname/getdata.php /home/project
aws s3 mv s3://bucketname/source.json s3://backup-bucket
aws s3 mv /local/dir/data s3://bucketname/data --recursive
aws s3 mv s3://bucketname s3://backup-bucket --recursive
</code></pre></div><h2 id="opção-rm">Opção rm</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aws s3 rm s3://bucketname/queries.txt
aws s3 rm s3://bucketname --recursive
</code></pre></div><h2 id="opção-sync">Opção sync</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aws s3 sync backup s3://bucketname
aws s3 sync s3://bucketname/backup /tmp/backup
aws s3 sync s3://bucketname s3://backup-bucket
</code></pre></div><h2 id="criar-website-bucket">Criar website bucket</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aws s3 website s3://bucketname/ --index-document index.html --error-document error.html
</code></pre></div><p>Caso tenham mais dúvidas, segue a documentação oficial: <a href="https://docs.aws.amazon.com/cli/latest/reference/s3/">https://docs.aws.amazon.com/cli/latest/reference/s3/</a></p>
]]></content></item><item><title>Instalar Ansible AWX com Docker no Centos 7</title><link>https://sidneiweber.com.br/instalar-ansible-awx-com-docker-no-centos-7/</link><pubDate>Mon, 09 Sep 2019 16:55:50 +0000</pubDate><guid>https://sidneiweber.com.br/instalar-ansible-awx-com-docker-no-centos-7/</guid><description>Ansible AWX é a versão OpenSource do ansible Tower, produto comercial desenvolvido pela Red Hat. O AWX fornece uma interface de usuário baseada na Web, API REST e um mecanismo de tarefas construído sobre o Ansible.
Neste tutorial, mostrarei como instalar e configurar o AWX usando o Docker.
Desabilitar SELinux:
systemctl stop firewalld systemctl disable firewalld Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service. Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service. Habilitar repositório epel:
yum install -y epel-release Instalar pacotes necessários:</description><content type="html"><![CDATA[<p>Ansible AWX é a versão OpenSource do <a href="https://www.ansible.com/products/tower">ansible Tower</a>, produto  comercial desenvolvido pela Red Hat. O AWX fornece uma interface de usuário baseada na Web, API REST e um mecanismo de tarefas construído sobre o Ansible.</p>
<p>Neste tutorial, mostrarei como instalar e configurar o AWX usando o Docker.</p>
<p>Desabilitar SELinux:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl stop firewalld
systemctl disable firewalld
Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.
Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.
</code></pre></div><p>Habilitar repositório epel:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">yum install -y epel-release
</code></pre></div><p>Instalar pacotes necessários:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">yum install -y yum-utils device-mapper-persistent-data lvm2 ansible git python-devel python-pip python-docker-py vim-enhanced
</code></pre></div><p>Configurar repositório stable do Docker e instalá-lo</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
yum install docker-ce -y
</code></pre></div><p>Iniciar serviço</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">systemctl start docker
systemctl enable docker
</code></pre></div><p>Clonar repositório AWX</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone https://github.com/ansible/awx.git
cd awx/
git clone https://github.com/ansible/awx-logos.git
pwd
/root/awx
</code></pre></div><p>Entrar na pasta de instalação</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd installer/
</code></pre></div><p>Executar playbook da instalação</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ansible-playbook -i inventory install.yml -vv
</code></pre></div><p>A instalação irá subir alguns container, pode conferir com o comando abaixo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker container ls
CONTAINER ID        IMAGE                     COMMAND                  CREATED             STATUS              PORTS                                NAMES
318c7c95dcbb        ansible/awx_task:latest   <span style="color:#e6db74">&#34;/tini -- /bin/sh -c.&#34;</span>   <span style="color:#ae81ff">12</span> minutes ago      Up <span style="color:#ae81ff">12</span> minutes       8052/tcp                             awx_task
642c2f272e31        ansible/awx_web:latest    <span style="color:#e6db74">&#34;/tini -- /bin/sh -c.&#34;</span>   <span style="color:#ae81ff">12</span> minutes ago      Up <span style="color:#ae81ff">12</span> minutes       0.0.0.0:80-&gt;8052/tcp                 awx_web
641b42ab536f        memcached:alpine          <span style="color:#e6db74">&#34;docker-entrypoint.s.&#34;</span>   <span style="color:#ae81ff">18</span> minutes ago      Up <span style="color:#ae81ff">18</span> minutes       11211/tcp                            memcached
b333012d90ac        rabbitmq:3                <span style="color:#e6db74">&#34;docker-entrypoint.s.&#34;</span>   <span style="color:#ae81ff">19</span> minutes ago      Up <span style="color:#ae81ff">19</span> minutes       4369/tcp, 5671-5672/tcp, 25672/tcp   rabbitmq
ada52935513a        postgres:9.6              <span style="color:#e6db74">&#34;docker-entrypoint.s.&#34;</span>   <span style="color:#ae81ff">19</span> minutes ago      Up <span style="color:#ae81ff">19</span> minutes       5432/tcp                             postgres
<span style="color:#f92672">[</span>root@awx installer<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</code></pre></div><p>Para acessar basta acessar no navegador o endereço do seu computador. Se aparecer a tela login está tudo pronto para usar.
O usuário para login é &ldquo;admin&rdquo; e a senha é &ldquo;password&rdquo;.</p>
<p><img src="/img/awx.jpg" alt="Login AWX"></p>
]]></content></item><item><title>Pigz - Compactador eficiente e rápido</title><link>https://sidneiweber.com.br/pigz-compactador-eficiente-e-rapido/</link><pubDate>Fri, 21 Jun 2019 14:06:42 -0300</pubDate><guid>https://sidneiweber.com.br/pigz-compactador-eficiente-e-rapido/</guid><description>Talvez nem todos saibam mas a compactação usando gzip temos uma limitação da ferramenta não conseguir executar com múltiplos processadores. Para contornos essa limitação podemos usar uma ferramenta chama PIGZ, que usando threads consegue utilizar múltiplos processadores.
A instalação depende da sua distribuição, mas utiliziando as mais comuns temos ela nos repositórios. Caso não tenho basta baixar o fonte no site deles.
Manjaro:
pacman -S pigz Ubuntu:
apt-get install pigz O uso do pigz se dá assim:</description><content type="html"><![CDATA[<p>Talvez nem todos saibam mas a compactação usando gzip temos uma limitação da ferramenta não conseguir executar com múltiplos processadores. Para contornos essa limitação podemos usar uma ferramenta chama <a href="https://zlib.net/pigz/">PIGZ</a>, que usando threads consegue utilizar múltiplos processadores.</p>
<p>A instalação depende da sua distribuição, mas utiliziando as mais comuns temos ela nos repositórios. Caso não tenho basta baixar o <a href="https://zlib.net/pigz/pigz-2.4.tar.gz">fonte no site deles.</a></p>
<p><strong>Manjaro:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pacman -S pigz
</code></pre></div><p><strong>Ubuntu:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apt-get install pigz
</code></pre></div><p>O uso do pigz se dá assim:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">Usage: pigz <span style="color:#f92672">[</span>options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>files ...<span style="color:#f92672">]</span>

tar -c --use-compress-program<span style="color:#f92672">=</span>pigz -f tar.file dir_to_zip

tar --use-compress-program<span style="color:#f92672">=</span>pigz -cf OUTPUT_FILE.tar.gz paths_to_archive
</code></pre></div><p>Para teste vamos compactar uma mesma pasta usando as duas ferramentas, gzip e pigz usando compressão máxima (-9)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">╭─sidnei@black ~
╰─$ du -sh web             
4,2G	web
</code></pre></div><h3 id="usando-gzip">Usando GZIP</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">╭─sidnei@black ~
╰─$ time tar -cf - web/ |gzip -9 - &amp;gt; web.tar.gz
tar -cf - web/  2,81s user 30,31s system 9% cpu 5:56,01 total
gzip -9 - &amp;gt; web.tar.gz  267,42s user 6,43s system 76% cpu 5:56,01 total
╭─sidnei@black ~
╰─$ du -h web.tar.gz
2,2G	web.tar.gz
</code></pre></div><h3 id="usando-pigz">Usando PIGZ</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">╭─sidnei@black ~
╰─$ time tar -c --use-compress-program<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pigz -9&#34;</span> -f web.tar.gz web/                                                                                                        <span style="color:#ae81ff">130</span> ↵
tar -c --use-compress-program<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pigz -9&#34;</span> -f web.tar.gz web/  356,10s user 35,11s system 175% cpu 3:43,30 total
╭─sidnei@black ~
╰─$ du -sh web.tar.gz  
2,2G	web.tar.gz
</code></pre></div><p>Na comparação a compactação teve o mesmo tamanho final, porém com o uso de CPU muito maior por parte do PIGZ, lembrando que quanto melhor sua máquina, mais recursos, melhor será o desempenho.</p>
<p>É claro que dependendo a quantidade de arquivos e os tamanhos você não notará tanta diferença, mas com grandes quantidades de arquivos é notório o melhor desempenho. <a href="https://vbtechsupport.com/1576/">Nesse site</a> temos um comparativo bem legal com várias ferramentas de compressão.</p>
]]></content></item><item><title>Exemplos de uso do comando ping</title><link>https://sidneiweber.com.br/exemplos-de-uso-do-comando-ping/</link><pubDate>Fri, 26 Apr 2019 09:56:31 -0300</pubDate><guid>https://sidneiweber.com.br/exemplos-de-uso-do-comando-ping/</guid><description>Segundo o Wikipédia ping é …
“Ping ou latência como podemos chamar, é um utilitário que usa o protocolo ICMP para testar a conectividade entre equipamentos. É um comando disponível praticamente em todos os sistemas operacionais. Seu funcionamento consiste no envio de pacotes para o equipamento de destino e na escuta das respostas. Se o equipamento de destino estiver ativo, uma resposta &amp;ldquo;pong&amp;rdquo;, uma analogia ao famoso jogo de ping-pong) é devolvida ao computador solicitante.</description><content type="html"><![CDATA[<p>Segundo o Wikipédia ping é …</p>
<p>“<strong>Ping</strong> ou <strong>latência</strong> como podemos chamar, é um utilitário que usa o protocolo ICMP para testar a conectividade entre equipamentos. É um comando disponível praticamente em todos os sistemas operacionais. Seu funcionamento consiste no envio de pacotes para o equipamento de destino e na escuta das respostas. Se o equipamento de destino estiver ativo, uma resposta &ldquo;pong&rdquo;, uma analogia ao famoso jogo de ping-pong) é devolvida ao computador solicitante. ”</p>
<p>Sabendo dessa teoria agora vamos a alguns exemplos:</p>
<p><strong>Exemplo 1</strong>: Aumentar ou diminuir o intervalo de tempo entre os pacotes enviados. O ping abaixo esperará cinco segundos antes de enviar o próximo pacote:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping -i <span style="color:#ae81ff">5</span> 192.168.3.1
</code></pre></div><p>E para diminuir o intervalo de tempo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping -i 0.3 192.168.3.1
</code></pre></div><p><strong>Exemplo 2</strong>: Verificar se a interface está ativa. Por exemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping 127.0.0.1
PING 127.0.0.1 <span style="color:#f92672">(</span>127.0.0.1<span style="color:#f92672">)</span> 56<span style="color:#f92672">(</span>84<span style="color:#f92672">)</span> bytes of data.
<span style="color:#ae81ff">64</span> bytes from 127.0.0.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.046 ms
<span style="color:#ae81ff">64</span> bytes from 127.0.0.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.054 ms
<span style="color:#ae81ff">64</span> bytes from 127.0.0.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.055 ms
<span style="color:#ae81ff">64</span> bytes from 127.0.0.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.052 ms
</code></pre></div><p>Quando obtiver um tempo de resposta é por que a interface está comunicando, caso contrário irá exibir alguma mensagem de erro:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping 192.168.3.50
PING 192.168.3.50 <span style="color:#f92672">(</span>192.168.3.50<span style="color:#f92672">)</span> 56<span style="color:#f92672">(</span>84<span style="color:#f92672">)</span> bytes of data.
From 192.168.3.18 icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> Destination Host Unreachable
From 192.168.3.18 icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> Destination Host Unreachable
From 192.168.3.18 icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> Destination Host Unreachable
From 192.168.3.18 icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span> Destination Host Unreachable
</code></pre></div><p><strong>Exemplo 3</strong>: Envie N pacotes e pare. No Linux e outras espécies Unix, o comando ping não termina até que você pressione Ctrl + C, para enviar um certo número de pacotes usamos o argumento -c. Vamos testar enviando 2 pacotes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping -c <span style="color:#ae81ff">2</span> 192.168.3.1
PING 192.168.3.1 <span style="color:#f92672">(</span>192.168.3.1<span style="color:#f92672">)</span> 56<span style="color:#f92672">(</span>84<span style="color:#f92672">)</span> bytes of data.
<span style="color:#ae81ff">64</span> bytes from 192.168.3.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span> time<span style="color:#f92672">=</span>2.72 ms
<span style="color:#ae81ff">64</span> bytes from 192.168.3.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span> time<span style="color:#f92672">=</span>2.70 ms

--- 192.168.3.1 ping statistics ---
<span style="color:#ae81ff">2</span> packets transmitted, <span style="color:#ae81ff">2</span> received, 0% packet loss, time 3ms
rtt min/avg/max/mdev <span style="color:#f92672">=</span> 2.696/2.707/2.718/0.011 ms
</code></pre></div><p><strong>Exemplo 4</strong>: ping com áudio, envia um beep a cada ping com sucesso</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping -a localhost
</code></pre></div><p><strong>Exemplo 5:</strong> “Inundar” a rede. Dísponivel somente para superusuários, envia cem ou mais pacotes por segundo, imprimindo um ponto por cada pacote enviado e um espaço quando recebido.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo ping -f 192.168.3.1                                                                                                                              <span style="color:#ae81ff">2</span> ↵
<span style="color:#f92672">[</span>sudo<span style="color:#f92672">]</span> senha para sidnei:
PING 192.168.3.1 <span style="color:#f92672">(</span>192.168.3.1<span style="color:#f92672">)</span> 56<span style="color:#f92672">(</span>84<span style="color:#f92672">)</span> bytes of data.
.^C
--- 192.168.3.1 ping statistics ---
<span style="color:#ae81ff">1858</span> packets transmitted, <span style="color:#ae81ff">1857</span> received, 0.0538213% packet loss, time 412ms
rtt min/avg/max/mdev <span style="color:#f92672">=</span> 1.962/2.381/48.167/2.565 ms, pipe 3, ipg/ewma 2.373/2.276 ms
</code></pre></div><p><strong>Exemplo 6</strong>: Encontrar o endereço IP de um domínio. Quando um ping é disparado em um nome domínio, antes do envio dos pacotes o comando escreve a saída padrão entre parênteses, depois do nome de domínio, o IP do mesmo.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping -c1 google.com
PING google.com<span style="color:#f92672">(</span>2800:3f0:4001:803::200e <span style="color:#f92672">(</span>2800:3f0:4001:803::200e<span style="color:#f92672">))</span> <span style="color:#ae81ff">56</span> data bytes
<span style="color:#ae81ff">64</span> bytes from 2800:3f0:4001:803::200e <span style="color:#f92672">(</span>2800:3f0:4001:803::200e<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">57</span> time<span style="color:#f92672">=</span>33.1 ms

--- google.com ping statistics ---
<span style="color:#ae81ff">1</span> packets transmitted, <span style="color:#ae81ff">1</span> received, 0% packet loss, time 0ms
rtt min/avg/max/mdev <span style="color:#f92672">=</span> 33.078/33.078/33.078/0.000 ms
</code></pre></div><p><strong>Exemplo 7</strong>: Mostrar apenas as estatísticas do comando. No final do comando é mostrado estatísticas como quantidade de pacotes transmitidos, recebidos, porcentagem de pacotes perdidos e tempo. Se queremos ver somente as estatísticas sem observar cada linha de pacote enviado podemos utilizar a opção -q (quiet).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping -c5 -q 127.0.0.1
PING 127.0.0.1 <span style="color:#f92672">(</span>127.0.0.1<span style="color:#f92672">)</span> 56<span style="color:#f92672">(</span>84<span style="color:#f92672">)</span> bytes of data.

--- 127.0.0.1 ping statistics ---
<span style="color:#ae81ff">5</span> packets transmitted, <span style="color:#ae81ff">5</span> received, 0% packet loss, time 63ms
rtt min/avg/max/mdev <span style="color:#f92672">=</span> 0.047/0.058/0.090/0.017 ms
</code></pre></div><p><strong>Exemplo 8</strong>: Modificar o tamanho do pacote. Por padrão o tamanho do pacote do ping fica entre 56 a 100 bytes. Se utiliza o tamanho do pacote 100, verá 128 bytes, isto se deve a que 28 bytes é o tamanho do cabeçalho do ping.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping -c5 -s <span style="color:#ae81ff">100</span> localhost
PING localhost<span style="color:#f92672">(</span>localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">))</span> <span style="color:#ae81ff">100</span> data bytes
<span style="color:#ae81ff">108</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.029 ms
<span style="color:#ae81ff">108</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.048 ms
<span style="color:#ae81ff">108</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.047 ms
<span style="color:#ae81ff">108</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.047 ms
<span style="color:#ae81ff">108</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.047 ms

--- localhost ping statistics ---
<span style="color:#ae81ff">5</span> packets transmitted, <span style="color:#ae81ff">5</span> received, 0% packet loss, time 73ms
rtt min/avg/max/mdev <span style="color:#f92672">=</span> 0.029/0.043/0.048/0.010 ms
</code></pre></div><p><strong>Exemplo 9</strong>: Especificar o tempo. O parâmetro <strong>-w</strong> especifica o tempo limite para terminar o ping. Por exemplo -w 5, o comando ping terminará após os cinco segundos, independentemente quantos pacotes foram enviados e recebidos.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping -w <span style="color:#ae81ff">5</span> localhost
PING localhost<span style="color:#f92672">(</span>localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">))</span> <span style="color:#ae81ff">56</span> data bytes
<span style="color:#ae81ff">64</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.028 ms
<span style="color:#ae81ff">64</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.046 ms
<span style="color:#ae81ff">64</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.047 ms
<span style="color:#ae81ff">64</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.038 ms
<span style="color:#ae81ff">64</span> bytes from localhost <span style="color:#f92672">(</span>::1<span style="color:#f92672">)</span>: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.081 ms

--- localhost ping statistics ---
<span style="color:#ae81ff">5</span> packets transmitted, <span style="color:#ae81ff">5</span> received, 0% packet loss, time 54ms
rtt min/avg/max/mdev <span style="color:#f92672">=</span> 0.028/0.048/0.081/0.017 ms
</code></pre></div><p><strong>Exemplo 10</strong>: Ping online. Existem páginas como <a href="https://ping.eu/">Ping.eu</a> que nos permitem realizar um ping de diferentes localizações para nosso servidor.</p>
<p><strong>Exemplo 11</strong>: Estatísticas parciais sem sair. Ao invez de apertar Ctrl+C para terminar (SIGQUIT) o comando ping, podemos utilizar Ctrl+I para mostrar estatísticas parciais e continuar o envio de pacotes.</p>
]]></content></item><item><title>Iniciando com MongoDB</title><link>https://sidneiweber.com.br/iniciando-com-mongodb/</link><pubDate>Tue, 02 Apr 2019 16:59:07 -0300</pubDate><guid>https://sidneiweber.com.br/iniciando-com-mongodb/</guid><description>Após termos realizado a instalação do MongoDB nesse post, hoje vamos iniciar com os primeiros passos com nosso banco de dados.
Utilizando o Mongo Shell Quando estamos utilizando o mongo em localhost (127.0.0.1) não é necessário usuário e senha para realizar a conexão.
$mongo MongoDB shell version v4.0.6 connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName=mongodb Implicit session: session { &amp;#34;id&amp;#34; : UUID(&amp;#34;319f1942-5755-4448-a5a5-282acf77ed6d&amp;#34;) } MongoDB server version: 4.0.6 Primeiro comando a ser usado é o use, utilizado para selecionar o banco usado.</description><content type="html"><![CDATA[<p>Após termos realizado a instalação do MongoDB <a href="https://sidneiweber.com.br/2019/03/08/instalando-mongodb-community-edition-4-0-no-ubuntu/">nesse post</a>, hoje vamos iniciar com os primeiros passos com nosso banco de dados.</p>
<h3 id="utilizando-o-mongo-shell">Utilizando o Mongo Shell</h3>
<p>Quando estamos utilizando o mongo em localhost (127.0.0.1) não é necessário usuário e senha para realizar a conexão.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$mongo
MongoDB shell version v4.0.6
connecting to: mongodb://127.0.0.1:27017/?gssapiServiceName<span style="color:#f92672">=</span>mongodb
Implicit session: session <span style="color:#f92672">{</span> <span style="color:#e6db74">&#34;id&#34;</span> : UUID<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;319f1942-5755-4448-a5a5-282acf77ed6d&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">}</span>
MongoDB server version: 4.0.6
</code></pre></div><p>Primeiro comando a ser usado é o <strong>use,</strong> utilizado para selecionar o banco usado.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$use usuarios
switched to db usuarios
</code></pre></div><p>Método <strong>insert( )</strong> para armazenar um documento contendo as chaves &ldquo;name&rdquo; e &ldquo;idade&rdquo;. As informações são armazenadas na estrutura, chave/valor, similar ao JSON.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">db.usuarios.insert<span style="color:#f92672">({</span> name: <span style="color:#e6db74">&#34;Sidnei&#34;</span>, idade: 31<span style="color:#f92672">}</span> <span style="color:#f92672">)</span>
WriteResult<span style="color:#f92672">({</span> <span style="color:#e6db74">&#34;nInserted&#34;</span> : <span style="color:#ae81ff">1</span> <span style="color:#f92672">})</span>
</code></pre></div><p>No comando db.<strong>usuarios</strong>.insert, esse usuários corresponde a uma coleção, e ela não precisa de uma estrutura definida, podendo ser dinâmica caso haja necessidade. Podemos usar o comando abaixo sem alterar nenhum tipo de definição de estrutura que o insert irá funcionar normalmente.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">db.usuarios.insert<span style="color:#f92672">({</span> name: <span style="color:#e6db74">&#34;Sidnei&#34;</span>, idade: 31, cidade: <span style="color:#e6db74">&#34;Sapiranga&#34;</span> <span style="color:#f92672">})</span>
WriteResult<span style="color:#f92672">({</span> <span style="color:#e6db74">&#34;nInserted&#34;</span> : <span style="color:#ae81ff">1</span> <span style="color:#f92672">})</span>
</code></pre></div><p>Use o método <strong>find( )</strong> para visualizar os documentos inseridos. Vamos buscar o que foi salvo na coleção <strong>usuarios</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">db.getCollection<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;usuarios&#39;</span><span style="color:#f92672">)</span>.find<span style="color:#f92672">({})</span>
<span style="color:#f92672">{</span> <span style="color:#e6db74">&#34;_id&#34;</span> : ObjectId<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;5ca3bbb7719bb01a6641f7cb&#34;</span><span style="color:#f92672">)</span>, <span style="color:#e6db74">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;Sidnei&#34;</span>, <span style="color:#e6db74">&#34;idade&#34;</span> : <span style="color:#ae81ff">31</span> <span style="color:#f92672">}</span>
<span style="color:#f92672">{</span> <span style="color:#e6db74">&#34;_id&#34;</span> : ObjectId<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;5ca3bd99719bb01a6641f7cc&#34;</span><span style="color:#f92672">)</span>, <span style="color:#e6db74">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;Sidnei&#34;</span>, <span style="color:#e6db74">&#34;idade&#34;</span> : 31, <span style="color:#e6db74">&#34;cidade&#34;</span> : <span style="color:#e6db74">&#34;Sapiranga&#34;</span> <span style="color:#f92672">}</span>
</code></pre></div><p>Essa pesquisa também pode ser aprofundada, por exemplo pesquisando só quem está na cidade &ldquo;Sapiranga&rdquo;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">db.getCollection<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;usuarios&#39;</span><span style="color:#f92672">)</span>.find<span style="color:#f92672">({</span>cidade:<span style="color:#e6db74">&#34;Sapiranga&#34;</span><span style="color:#f92672">})</span>
<span style="color:#f92672">{</span> <span style="color:#e6db74">&#34;_id&#34;</span> : ObjectId<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;5ca3bd99719bb01a6641f7cc&#34;</span><span style="color:#f92672">)</span>, <span style="color:#e6db74">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;Sidnei&#34;</span>, <span style="color:#e6db74">&#34;idade&#34;</span> : 31, <span style="color:#e6db74">&#34;cidade&#34;</span> : <span style="color:#e6db74">&#34;Sapiranga&#34;</span> <span style="color:#f92672">}</span>
</code></pre></div><p>E para sairmos do nosso shell basta executar o comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$exit
bye
</code></pre></div><p>Para o início está de bom tamanho, até a próxima.</p>
]]></content></item><item><title>Instalando MongoDB Community Edition 4.0 no Ubuntu</title><link>https://sidneiweber.com.br/instalando-mongodb-community-edition-4-0-no-ubuntu/</link><pubDate>Fri, 08 Mar 2019 16:12:05 -0300</pubDate><guid>https://sidneiweber.com.br/instalando-mongodb-community-edition-4-0-no-ubuntu/</guid><description>O que é MongoDB O MongoDB é um banco de dados NoSQL orientado a documentos de alto desempenho (sistema noSQL significa que ele não fornece tabelas, linhas, etc.). Ele armazena dados em documentos semelhantes a JSON com esquemas dinâmicos para melhor desempenho.
Adicionando repositórios Para instalar MongoDB Community Edition no Ubuntu, precisamos primeiro importar a chave pública usada pelo gerenciador de pacotes.
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4 No Ubuntu 18.</description><content type="html"><![CDATA[<h3 id="span-ido_que_e_mongodbo-que-é-mongodbspan"><!-- raw HTML omitted -->O que é MongoDB<!-- raw HTML omitted --></h3>
<p>O MongoDB é um banco de dados NoSQL orientado a documentos de alto desempenho (sistema noSQL significa que ele não fornece tabelas, linhas, etc.). Ele armazena dados em documentos semelhantes a JSON com esquemas dinâmicos para melhor desempenho.</p>
<h3 id="span-idadicionando_repositoriosadicionando-repositóriosspan"><!-- raw HTML omitted -->Adicionando repositórios<!-- raw HTML omitted --></h3>
<p>Para instalar <strong>MongoDB Community Edition</strong> no Ubuntu, precisamos primeiro importar a chave pública usada pelo gerenciador de pacotes.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 9DA31620334BD75D9DCB49F368818C72E52529D4
</code></pre></div><p>No Ubuntu 18.04</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">echo <span style="color:#e6db74">&#34;deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/4.0 multiverse&#34;</span> | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list
sudo apt-get update
</code></pre></div><p>No Ubuntu 16.04</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">echo <span style="color:#e6db74">&#34;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/4.0 multiverse&#34;</span> | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list
sudo apt-get update
</code></pre></div><p>No Ubuntu 14.04</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">echo <span style="color:#e6db74">&#34;deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu trusty/mongodb-org/4.0 multiverse&#34;</span> | sudo tee /etc/apt/sources.list.d/mongodb-org-4.0.list
sudo apt-get update
</code></pre></div><h3 id="span-idinstalando_o_pacoteinstalando-o-pacotespan"><!-- raw HTML omitted -->Instalando o pacote<!-- raw HTML omitted --></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-get install -y mongodb-org
</code></pre></div><h3 id="span-idhabilitando_e_iniciando_servicohabilitando-e-iniciando-serviçospan"><!-- raw HTML omitted -->Habilitando e iniciando serviço<!-- raw HTML omitted --></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl enable mongod.service
systemctl start mongod.service
</code></pre></div><p>E pronto já podemos usar no mongo, lembrando que é necessário liberar a porta 27017 no firewall caso o mesmo esteja habilitado. Nos próximos posts falaremos um pouco mais sobre o mongo.</p>
]]></content></item><item><title>Instalando última versão do Ansible no Ubuntu/Debian</title><link>https://sidneiweber.com.br/instalando-ultima-versao-ansible-no-ubuntu-debian/</link><pubDate>Tue, 22 Jan 2019 22:20:00 +0000</pubDate><guid>https://sidneiweber.com.br/instalando-ultima-versao-ansible-no-ubuntu-debian/</guid><description>Caso não saiba o que é Ansible, pode dar uma lida nesse post.
A forma mais simples para instalar o Ansible é com o comando abaixo, porém é instalado uma versão mais antiga.
sudo apt-get update sudo apt-get install ansible Agora para baixar uma versão mais atualizada basta seguir os passos abaixo:
sudo aptitude update sudo aptitude install python-pip sudo pip install ansible</description><content type="html"><![CDATA[<p>Caso não saiba o que é Ansible, pode dar uma lida <a href="https://sidneiweber.com.br/2018/06/19/ansible-o-que-e-e-para-que-serve/">nesse post.</a></p>
<p>A forma mais simples para instalar o Ansible é com o comando abaixo, porém é instalado uma versão mais antiga.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-get update
sudo apt-get install ansible
</code></pre></div><p>Agora para baixar uma versão mais atualizada basta seguir os passos abaixo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo aptitude update
sudo aptitude install python-pip
sudo pip install ansible
</code></pre></div>]]></content></item><item><title>Identificar sistema operacional com ping</title><link>https://sidneiweber.com.br/identificar-sistema-operacional-com-ping/</link><pubDate>Thu, 17 Jan 2019 15:21:50 -0300</pubDate><guid>https://sidneiweber.com.br/identificar-sistema-operacional-com-ping/</guid><description>O comando ping utiliza o protocolo icmp e é muito útil para alguns testes de rede. O que pouca gente sabe é que durante a resposta do comando ping, uma informação pode nos informar qual o sistema operacional está respondendo. Essa informação é TTL (Time to Live).
Ex:
ping 127.0.0.1 PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data. 64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.030 ms 64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.</description><content type="html"><![CDATA[<p>O comando ping utiliza o protocolo icmp e é muito útil para alguns testes de rede. O que pouca gente sabe é que durante a resposta do comando ping, uma informação pode nos informar qual o sistema operacional está respondendo. Essa informação é TTL (Time to Live).</p>
<p>Ex:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ping 127.0.0.1
PING 127.0.0.1 <span style="color:#f92672">(</span>127.0.0.1<span style="color:#f92672">)</span> 56<span style="color:#f92672">(</span>84<span style="color:#f92672">)</span> bytes of data.
<span style="color:#ae81ff">64</span> bytes from 127.0.0.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.030 ms
<span style="color:#ae81ff">64</span> bytes from 127.0.0.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.035 ms
<span style="color:#ae81ff">64</span> bytes from 127.0.0.1: icmp_seq<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> ttl<span style="color:#f92672">=</span><span style="color:#ae81ff">64</span> time<span style="color:#f92672">=</span>0.041 ms
</code></pre></div><p>Podemos ver que nesse exemplo o TTL é 64 que corresponde ao Linux. É bom lembrar que cada vez que um pacote passa por um roteador é reduzido um do valor TTL. Caso a resposta seja 64, significa que o pacote veio de um Linux e passou por 2 roteadores.</p>
<p><strong>Unix = 255</strong><br>
<strong>Linux = 64</strong><br>
<strong>Windows = 128</strong></p>
]]></content></item><item><title>Limpar container antigos Docker</title><link>https://sidneiweber.com.br/limpar-container-antigos-docker/</link><pubDate>Wed, 26 Dec 2018 11:48:35 -0300</pubDate><guid>https://sidneiweber.com.br/limpar-container-antigos-docker/</guid><description>Caso sua lista de container esteja muito grande e queira remover alguns containers do seu host, podemos usar o comando abaixo para remover container parados a mais tempo:
docker ps --filter &amp;#34;status=exited&amp;#34; | grep &amp;#39;weeks ago&amp;#39; | awk &amp;#39;{print $1}&amp;#39; | xargs --no-run-if-empty docker rm Explicando:
docker ps --filter &amp;#34;status=exited&amp;#34; Lista somente os containers parados, que não estão em execução
grep &amp;#39;weeks ago&amp;#39; Filtra por containers criados a semanas atrás</description><content type="html"><![CDATA[<p>Caso sua lista de container esteja muito grande e queira remover alguns containers do seu host, podemos usar o comando abaixo para remover container parados a mais tempo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker ps --filter <span style="color:#e6db74">&#34;status=exited&#34;</span> | grep <span style="color:#e6db74">&#39;weeks ago&#39;</span> | awk <span style="color:#e6db74">&#39;{print $1}&#39;</span> | xargs --no-run-if-empty docker rm
</code></pre></div><p>Explicando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker ps --filter <span style="color:#e6db74">&#34;status=exited&#34;</span>
</code></pre></div><p>Lista somente os containers parados, que não estão em execução</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">grep <span style="color:#e6db74">&#39;weeks ago&#39;</span>
</code></pre></div><p>Filtra por containers criados a semanas atrás</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">awk <span style="color:#e6db74">&#39;{print $1}&#39;</span>
</code></pre></div><p>Exibe a primeira coluna, que refere ao CONTAINER ID</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">xargs --no-run-if-empty docker rm
</code></pre></div><p>Pega o que foi filtrado até agora e joga como parâmetro para o <em>docker rm</em></p>
<p>Sempre use os comandos com muito cuidado caso não tenha certeza do que está fazendo, não me responsabilizo por qualquer erro humano ;).</p>
]]></content></item><item><title>Convertendo arquivos DOS ^M com Vim</title><link>https://sidneiweber.com.br/convertendo-arquivos-dos-m-com-vim/</link><pubDate>Tue, 06 Nov 2018 10:03:27 -0300</pubDate><guid>https://sidneiweber.com.br/convertendo-arquivos-dos-m-com-vim/</guid><description>Quem nunca passou pela situação de executar um script e o mesmo apresentar erro. Normal, mas algumas vezes o erro ocorre pela formatação, principalmente se foi escrito ou salvo em um Windows. Ocorre de no final de cada linha ele acrescentar um ^M, o que não o Linux não consegue interpretar.
Existem algumas formas de corrigir esse problema, a mais conhecida é usando o aplicativo dos2unix
Mas o quero apresentar hoje é usando o poderoso Vim.</description><content type="html"><![CDATA[<p>Quem nunca passou pela situação de executar um script e o mesmo apresentar erro. Normal, mas algumas vezes o erro ocorre pela formatação, principalmente se foi escrito ou salvo em um Windows. Ocorre de no final de cada linha ele acrescentar um ^M, o que não o Linux não consegue interpretar.</p>
<p>Existem algumas formas de corrigir esse problema, a mais conhecida é usando o aplicativo <a href="https://sourceforge.net/projects/dos2unix">dos2unix</a></p>
<p>Mas o quero apresentar hoje é usando o poderoso <strong>Vim.</strong> Basta estando dentro do arquivo digitar o comando abaixo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim">:<span style="color:#a6e22e">set</span> <span style="color:#a6e22e">ff</span>=<span style="color:#a6e22e">unix</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Simples e rápido, caso por algum motivo queira fazer o processo contrário, basta executar:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vim" data-lang="vim">:<span style="color:#a6e22e">set</span> <span style="color:#a6e22e">ff</span>=<span style="color:#a6e22e">dos</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div>]]></content></item><item><title>Comando fuser - Quem mexeu no meu arquivo</title><link>https://sidneiweber.com.br/comando-fuser-quem-mexeu-no-meu-arquivo/</link><pubDate>Tue, 06 Nov 2018 09:28:53 -0300</pubDate><guid>https://sidneiweber.com.br/comando-fuser-quem-mexeu-no-meu-arquivo/</guid><description>O fuser é um programa que permite que saibamos qual processo está utilizando determinado arquivo, socket (portas) e sistema de arquivos especificado. Aprender sua manipulação é essencial para poder administrar um servidor para saber o que está acontecendo principalmente nas conexões. É um comando extremamente flexível, vamos ver suas opções e seu uso.
Diretiva Descrição Exemplo -a, &amp;ndash;all Mostra todos os arquivos, inclusive os que estão sem uso fuser -a * -k, &amp;ndash;kill Desativa/Mata os processos que estão utilizando determinado arquivo fuser -k /home/zonebin -i, &amp;ndash;interactive Pede confirmação sempre que for matar um processo utilizando um arquivo fuser -ik /home/zonebin -m, &amp;ndash;mount Especifica um sistema de arquivos para descobrir qual processo está sendo utilizado fuser -m /dev/sda1 -s, &amp;ndash;silent Realiza as operações indicadas silenciosamente, não use a opção -a, -u, -v fuser -ks /home -u, &amp;ndash;user Mostra o nome de usuário que iniciou o processo que está utilizando o arquivo fuser -u /var/log/messages -4, &amp;ndash;ipv4 Mostra processos de IPV4 somente fuser -4 ssh/tcp -6 -ipv6 Mostra somente processos de sockets IPV6 fuser -6 25/tcp Tipos de acesso:</description><content type="html"><![CDATA[<p>O <strong>fuser</strong> é um programa que permite que saibamos qual processo está utilizando determinado arquivo, socket (portas) e sistema de arquivos especificado. Aprender sua manipulação é essencial para poder administrar um servidor para saber o que está acontecendo principalmente nas conexões. É um comando extremamente flexível, vamos ver suas opções e seu uso.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Diretiva</th>
<th style="text-align:center">Descrição</th>
<th style="text-align:center">Exemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-a, &ndash;all</td>
<td style="text-align:center">Mostra todos os arquivos, inclusive os que estão sem uso</td>
<td style="text-align:center">fuser -a *</td>
</tr>
<tr>
<td style="text-align:center">-k, &ndash;kill</td>
<td style="text-align:center">Desativa/Mata os processos que estão utilizando determinado arquivo</td>
<td style="text-align:center">fuser -k /home/zonebin</td>
</tr>
<tr>
<td style="text-align:center">-i, &ndash;interactive</td>
<td style="text-align:center">Pede confirmação sempre que for matar um processo utilizando um arquivo</td>
<td style="text-align:center">fuser -ik /home/zonebin</td>
</tr>
<tr>
<td style="text-align:center">-m, &ndash;mount</td>
<td style="text-align:center">Especifica um sistema de arquivos para descobrir qual processo está sendo utilizado</td>
<td style="text-align:center">fuser -m /dev/sda1</td>
</tr>
<tr>
<td style="text-align:center">-s, &ndash;silent</td>
<td style="text-align:center">Realiza as operações indicadas silenciosamente, não use a opção -a, -u, -v</td>
<td style="text-align:center">fuser -ks /home</td>
</tr>
<tr>
<td style="text-align:center">-u, &ndash;user</td>
<td style="text-align:center">Mostra o nome de usuário que iniciou o processo que está utilizando o arquivo</td>
<td style="text-align:center">fuser -u /var/log/messages</td>
</tr>
<tr>
<td style="text-align:center">-4, &ndash;ipv4</td>
<td style="text-align:center">Mostra processos de IPV4 somente</td>
<td style="text-align:center">fuser -4 ssh/tcp -6</td>
</tr>
<tr>
<td style="text-align:center">-ipv6</td>
<td style="text-align:center">Mostra somente processos de sockets IPV6</td>
<td style="text-align:center">fuser -6 25/tcp</td>
</tr>
</tbody>
</table>
<p><strong>Tipos de acesso:</strong><br>
c  Diretório atual<br>
e  Arquivo executável rodando<br>
f  Arquivo aberto (omitido no modo de display padrão)<br>
F  arquivo aberto para escrita (omitido no modo de display padrão)<br>
r  Diretório root<br>
m  Arquivo mapeado ou biblioteca compartilhada</p>
<p><strong>Exemplos:</strong>
Mostrar os processos em execução no diretório atual</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">fuser -v .
</code></pre></div><p>Verificando se está sendo usado socket TCP ou UDP, como a porta 22 (SSH):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">fuser -v -n tcp <span style="color:#ae81ff">22</span>
</code></pre></div><p>Para mais informações:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">man fuser
</code></pre></div>]]></content></item><item><title>Iniciando Zabbix com Docker Compose</title><link>https://sidneiweber.com.br/iniciando-zabbix-com-docker-compose/</link><pubDate>Thu, 06 Sep 2018 23:16:18 -0300</pubDate><guid>https://sidneiweber.com.br/iniciando-zabbix-com-docker-compose/</guid><description>Obviamente precisaremos ter instalado o docker e docker-compose, caso não saiba como instalar pode acessar o link e esse outro link. Precisaremos criar um arquivo docker-compose.yml com o seguinte conteúdo:
persistentDB: img &amp;#34;busybox:latest&amp;#34; volumes: - /var/lib/mysql zabbixDB: img &amp;#34;monitoringartist/zabbix-db-mariadb&amp;#34; environment: MARIADB_USER: zabbix MARIADB_PASS: senha PHP_date_timezone: America/Sao_Paulo ZS_StartDiscoverers: &amp;#34;5&amp;#34; ZS_StartPingers: &amp;#34;5&amp;#34; volumes_from: - persistentDB volumes: - &amp;#34;/etc/localtime:/etc/localtime:ro&amp;#34; - &amp;#34;/srv/zabbix/backups:/backups&amp;#34; hostname: zabbix-db zabbix: img &amp;#34;monitoringartist/zabbix-3.0-xxl:latest&amp;#34; ports: - &amp;#34;80:80&amp;#34; - &amp;#34;10051:10051&amp;#34; volumes: - &amp;#34;/etc/localtime:/etc/localtime:ro&amp;#34; links: - &amp;#34;zabbixDB:zabbix.</description><content type="html"><![CDATA[<p>Obviamente precisaremos ter instalado o docker e docker-compose, caso não saiba como instalar pode acessar o <a href="https://docs.docker.com/install/">link</a> e esse outro <a href="https://docs.docker.com/compose/install/">link</a>. Precisaremos criar um arquivo <strong>docker-compose.yml</strong> com o seguinte conteúdo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">persistentDB</span>:
  <span style="color:#ae81ff">img &#34;busybox:latest&#34;</span>
  <span style="color:#f92672">volumes</span>:
    - <span style="color:#ae81ff">/var/lib/mysql</span>
<span style="color:#f92672">zabbixDB</span>:
  <span style="color:#ae81ff">img &#34;monitoringartist/zabbix-db-mariadb&#34;</span>
  <span style="color:#f92672">environment</span>:
    <span style="color:#f92672">MARIADB_USER</span>: <span style="color:#ae81ff">zabbix</span>
    <span style="color:#f92672">MARIADB_PASS</span>: <span style="color:#ae81ff">senha</span>
    <span style="color:#f92672">PHP_date_timezone</span>: <span style="color:#ae81ff">America/Sao_Paulo</span>
    <span style="color:#f92672">ZS_StartDiscoverers</span>: <span style="color:#e6db74">&#34;5&#34;</span>
    <span style="color:#f92672">ZS_StartPingers</span>: <span style="color:#e6db74">&#34;5&#34;</span>
  <span style="color:#f92672">volumes_from</span>:
    - <span style="color:#ae81ff">persistentDB</span>
  <span style="color:#f92672">volumes</span>:
    - <span style="color:#e6db74">&#34;/etc/localtime:/etc/localtime:ro&#34;</span>
    - <span style="color:#e6db74">&#34;/srv/zabbix/backups:/backups&#34;</span>
  <span style="color:#f92672">hostname</span>: <span style="color:#ae81ff">zabbix-db</span>
<span style="color:#f92672">zabbix</span>:
  <span style="color:#ae81ff">img &#34;monitoringartist/zabbix-3.0-xxl:latest&#34;</span>
  <span style="color:#f92672">ports</span>:
    - <span style="color:#e6db74">&#34;80:80&#34;</span>
    - <span style="color:#e6db74">&#34;10051:10051&#34;</span>
  <span style="color:#f92672">volumes</span>:
    - <span style="color:#e6db74">&#34;/etc/localtime:/etc/localtime:ro&#34;</span>
  <span style="color:#f92672">links</span>:
    - <span style="color:#e6db74">&#34;zabbixDB:zabbix.db&#34;</span>
  <span style="color:#f92672">environment</span>:
    <span style="color:#f92672">ZS_DBHost</span>: <span style="color:#ae81ff">zabbix.db</span>
    <span style="color:#f92672">ZS_DBUser</span>: <span style="color:#ae81ff">zabbix</span>
    <span style="color:#f92672">ZS_DBPassword</span>: <span style="color:#ae81ff">senha</span>
    <span style="color:#f92672">TERM</span>: <span style="color:#ae81ff">xterm</span>
</code></pre></div><p>E iremos executar o seguinte comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker-compose up -d
</code></pre></div><p>Caso queiram contribuir segue o github desse código: <a href="https://github.com/sidneiweber/zabbix-docker">https://github.com/sidneiweber/zabbix-docker</a></p>
]]></content></item><item><title>Gerenciando serviços com SystemD</title><link>https://sidneiweber.com.br/gerenciando-servicos-com-systemd/</link><pubDate>Mon, 02 Jul 2018 21:31:31 -0300</pubDate><guid>https://sidneiweber.com.br/gerenciando-servicos-com-systemd/</guid><description>Com SystemD é possível gerenciar o sistema e serviços no seu Linux. Ele usa o Control Groups (CGroups), cada serviço iniciado pelo systemd roda dentro de um cgroup separado, fazendo com que se tenha garantia que cada processo iniciado por serviço seja encerrado corretamente.
Para listar todos os serviços em execução:
systemctl -t service Para ver o status de um serviço:
systemctl status cups.service Para ativar um serviço na inicialização:</description><content type="html"><![CDATA[<p>Com SystemD é possível gerenciar o sistema e serviços no seu Linux. Ele usa o <strong>Control Groups (CGroups)</strong>, cada serviço iniciado pelo systemd roda dentro de um cgroup separado, fazendo com que se tenha garantia que cada processo iniciado por serviço seja encerrado corretamente.</p>
<p>Para listar todos os serviços em execução:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl -t service
</code></pre></div><p>Para ver o status de um serviço:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl status cups.service
</code></pre></div><p>Para ativar um serviço na inicialização:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl enable cups.service
</code></pre></div><p>Para retirar um serviço da inicialização:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl disable cups.service
</code></pre></div><p>Para listar units sendo executadas:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl

systemctl list-units
</code></pre></div><p>Para listar units que falharam:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl --failed
</code></pre></div><p>Listar os serviços instalados:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl list-unit-files
</code></pre></div><p>Reiniciar o sistema:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl reboot
</code></pre></div><p>Desliga e encerra o sistema:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl poweroff
</code></pre></div><p>Suspender o sistema:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl suspend
</code></pre></div><p>Colocar o sistema em modo de hibernação:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl hibernate
</code></pre></div><p>Colocar o sistema em modo de suspensão:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">systemctl hybrid-sleep
</code></pre></div>]]></content></item><item><title>Review Emmi Linux por O Cara do TI [Vídeo]</title><link>https://sidneiweber.com.br/review-emmi-linux-por-o-cara-do-ti/</link><pubDate>Mon, 02 Jul 2018 19:52:42 -0300</pubDate><guid>https://sidneiweber.com.br/review-emmi-linux-por-o-cara-do-ti/</guid><description/><content type="html"><![CDATA[<p><a href="https://www.youtube.com/watch?v=dNl5cblJNhs"><img src="https://img.youtube.com/vi/dNl5cblJNhs/0.jpg" alt="Video"></a></p>
]]></content></item><item><title>Review Emmi Linux por Prof. Juliano Ramos [Vídeo]</title><link>https://sidneiweber.com.br/review-emmi-linux-por-prof-juliano-ramos/</link><pubDate>Mon, 02 Jul 2018 19:51:27 -0300</pubDate><guid>https://sidneiweber.com.br/review-emmi-linux-por-prof-juliano-ramos/</guid><description/><content type="html"><![CDATA[<p><a href="https://www.youtube.com/watch?v=rUNrFIn9gT8"><img src="https://img.youtube.com/vi/rUNrFIn9gT8/0.jpg" alt="Video"></a></p>
]]></content></item><item><title>Ansible - O que é e para que serve</title><link>https://sidneiweber.com.br/ansible-o-que-e-e-para-que-serve/</link><pubDate>Tue, 19 Jun 2018 20:34:23 -0300</pubDate><guid>https://sidneiweber.com.br/ansible-o-que-e-e-para-que-serve/</guid><description>ANSIBLE LOVES THE REPETITIVE WORK YOUR PEOPLE HATE
Com essa frase começa a apresentação da ferramenta Ansible em seu próprio site. Bom, resumidamente o Ansible é um software que automatiza o provisionamento de software, gerenciamento de configuração e implantação de aplicativos. Ou seja, tudo aquilo que era feito repetidas vezes para configurar, atualizar um servidor ou serviço, pode ser automatizado com Ansible.
Bem vindo ao mundo da automação 🙂</description><content type="html"><![CDATA[<blockquote>
<p>ANSIBLE LOVES THE REPETITIVE WORK YOUR PEOPLE HATE</p>
</blockquote>
<p>Com essa frase começa a apresentação da ferramenta Ansible em seu próprio site. Bom, resumidamente o Ansible é um software que automatiza o provisionamento de software, gerenciamento de configuração e implantação de aplicativos. Ou seja, tudo aquilo que era feito repetidas vezes para configurar, atualizar um servidor ou serviço, pode ser automatizado com Ansible.</p>
<p>Bem vindo ao mundo da automação 🙂</p>
<p>Obviamente o Ansible não é a única ferramenta que pode fazer esse trabalho, temos outras ferramentas como Chef, Puppet, Saltstack. Todas elas tem suas características, qualidades e defeitos em particular, não realizar comparação entre essas ferramentas, vou somente dar a minha posição de o por que escolhi o Ansible.</p>
<h4 id="simplicidade-e-recursos">Simplicidade e recursos:</h4>
<p>Ansible foi desenvolvido em Python, então praticamente todas as versões de Linux terão suporte a mesma.<br>
Mais de 1000 módulos para tudo quanto é tipo de áreas: banco de dados, monitoramento, nuvem e até para Windows.<br>
Comandos &ldquo;ad-hoc&rdquo; diretamente para diversos recursos. Podemos criar playbooks usando o padrão YAML de fácil entendimento.<br>
Possui módulos para Docker, Vmware, Proxmox, AWS, Openstack, Azure, gerenciamento de pacotes, enfim, são muitos módulos mesmo. Caso queira ver a lista completa, <a href="https://docs.ansible.com/ansible/latest/modules/list_of_all_modules.html">acesse este endereço</a>.</p>
<h4 id="sem-agentes">Sem agentes:</h4>
<p>Principal recurso que me fez optar em estudar o Ansible foi pelo fato de não necessitar o uso de agentes nos clientes, basta que o cliente tenha Python instalado e acesso via SSH ou Winrm para Windows.</p>
<h3 id="instalação-ansible">Instalação Ansible:</h3>
<p>A instalação segue o mesmo nível de simplicidade de seu uso, basta utilizar o gerenciador de pacotes de sua distribuição:</p>
<p><strong>Ubuntu</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-get install software-properties-common
sudo apt-add-repository ppa:ansible/ansible
sudo apt-get update -y <span style="color:#f92672">&amp;&amp;</span> sudo apt-get install -y ansible
</code></pre></div><p><strong>Centos, Fedora:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yum install -y epel-release <span style="color:#f92672">&amp;&amp;</span> yum install -y ansible
</code></pre></div><h3 id="execução-ad-hoc-vs-playbook">Execução: AD HOC vs Playbook</h3>
<p>Essa são as duas maneiras que temos de executar nossos comandos no Ansible como dito anteriormente. Um arquivo muito importante para é o <em>/etc/ansible/hosts</em> onde a gente pode organizar as máquinas onde poderemos realizar as execuções, em breve escrevei um artigo com alguns macetes desse arquivo.</p>
<p>Vamos por a mão na massa executando nosso primeiro comando em localhost, somente para teste usaremos o módulo &ldquo;ping&rdquo;:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">root@localhost:~# ansible 127.0.0.1 -m ping

127.0.0.1 | SUCCESS <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;changed&#34;</span>: false,
    <span style="color:#e6db74">&#34;ping&#34;</span>: <span style="color:#e6db74">&#34;pong&#34;</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Sucesso, tivemos o retorno do ping do nosso localhost ;).</p>
<p>Bom no próximo artigo irei explicar como realizar execuções em algumas máquinas remotas ao mesmo tempo e alguns outro macetes. Até a próxima!</p>
]]></content></item><item><title>Instalação Postresql no Centos a partir do código fonte</title><link>https://sidneiweber.com.br/instalacao-postresql-no-centos-a-partir-do-codigo-fonte/</link><pubDate>Thu, 03 May 2018 21:28:13 -0300</pubDate><guid>https://sidneiweber.com.br/instalacao-postresql-no-centos-a-partir-do-codigo-fonte/</guid><description>Estou realizando a instalação na última versão do Centos no momento, que seria a 7. Porém o procedimento para outras versões deve seguir o mesmo padrão.
Instalando dependências:
yum install -y make wget gcc readline-devel zlib-devel Vamos baixar a última versão do Postresql (10.3 no momento dos testes) e após o download concluído iremos descompactar:
wget -c https://ftp.postgresql.org/pub/source/v10.3/postgresql-10.3.tar.gz tar -xzvf postgresql-10.3.tar.gz Após isso vamos realizar o processo de compilação, instalação e criação do usuário postgres.</description><content type="html"><![CDATA[<p>Estou realizando a instalação na última versão do Centos no momento, que seria a 7. Porém o procedimento para outras versões deve seguir o mesmo padrão.</p>
<p>Instalando dependências:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yum install -y make wget gcc readline-devel zlib-devel
</code></pre></div><p>Vamos baixar a última versão do Postresql (10.3 no momento dos testes) e após o download concluído iremos descompactar:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">wget -c https://ftp.postgresql.org/pub/source/v10.3/postgresql-10.3.tar.gz
tar -xzvf postgresql-10.3.tar.gz
</code></pre></div><p>Após isso vamos realizar o processo de compilação, instalação e criação do usuário <strong>postgres</strong>. Dependendo da configuração de sua máquina esse processo pode demorar um pouco:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">./configure
gmake
gmake install
adduser postgres
mkdir -p /usr/local/postgres/data
chown postgres /usr/local/postgres/data
</code></pre></div><p>Iniciaremos o serviço:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">su - postgres
/usr/local/pgsql/bin/initdb -D /usr/local/postgres/data
/usr/local/pgsql/bin/postgres -D /usr/local/postgres/data &gt;logfile 2&gt;&amp;<span style="color:#ae81ff">1</span> &amp;
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>postgres@a984adfc81b5 ~<span style="color:#f92672">]</span>$ ps -ef |grep postgres
root      <span style="color:#ae81ff">8636</span>     <span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">0</span> 00:21 pts/0    00:00:00 su - postgres
postgres  <span style="color:#ae81ff">8637</span>  <span style="color:#ae81ff">8636</span>  <span style="color:#ae81ff">0</span> 00:21 pts/0    00:00:00 -bash
postgres  <span style="color:#ae81ff">8667</span>  <span style="color:#ae81ff">8637</span>  <span style="color:#ae81ff">0</span> 00:23 pts/0    00:00:00 /usr/local/pgsql/bin/postgres -D /usr/local/postgres/data
postgres  <span style="color:#ae81ff">8669</span>  <span style="color:#ae81ff">8667</span>  <span style="color:#ae81ff">0</span> 00:23 ?        00:00:00 postgres: checkpointer process   
postgres  <span style="color:#ae81ff">8670</span>  <span style="color:#ae81ff">8667</span>  <span style="color:#ae81ff">0</span> 00:23 ?        00:00:00 postgres: writer process   
postgres  <span style="color:#ae81ff">8671</span>  <span style="color:#ae81ff">8667</span>  <span style="color:#ae81ff">0</span> 00:23 ?        00:00:00 postgres: wal writer process   
postgres  <span style="color:#ae81ff">8672</span>  <span style="color:#ae81ff">8667</span>  <span style="color:#ae81ff">0</span> 00:23 ?        00:00:00 postgres: autovacuum launcher process   
postgres  <span style="color:#ae81ff">8673</span>  <span style="color:#ae81ff">8667</span>  <span style="color:#ae81ff">0</span> 00:23 ?        00:00:00 postgres: stats collector process   
postgres  <span style="color:#ae81ff">8674</span>  <span style="color:#ae81ff">8667</span>  <span style="color:#ae81ff">0</span> 00:23 ?        00:00:00 postgres: bgworker: logical replication launcher   
postgres  <span style="color:#ae81ff">8677</span>  <span style="color:#ae81ff">8637</span>  <span style="color:#ae81ff">0</span> 00:23 pts/0    00:00:00 ps -ef
</code></pre></div><p>Agora com tudo instalado e serviço iniciado realizar alguns testes:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/usr/local/pgsql/bin/createdb teste
/usr/local/pgsql/bin/psql teste
psql <span style="color:#f92672">(</span>10.3<span style="color:#f92672">)</span>
Type <span style="color:#e6db74">&#34;help&#34;</span> <span style="color:#66d9ef">for</span> help.

teste<span style="color:#f92672">=</span><span style="color:#75715e">#</span>
</code></pre></div><p><img src="/img/uploads/2018/05/Captura-de-tela-de-2018-05-03-21-27-17.png" alt=""></p>
<p>Instalação finalizada com sucesso 🙂</p>
]]></content></item><item><title>Instalando e gerenciando programas no Windows com Chocolatey</title><link>https://sidneiweber.com.br/instalando-e-gerenciando-programas-no-windows-com-chocolatey/</link><pubDate>Tue, 17 Apr 2018 19:38:34 -0300</pubDate><guid>https://sidneiweber.com.br/instalando-e-gerenciando-programas-no-windows-com-chocolatey/</guid><description>Hoje lhes apresento uma ferramenta muito boa para gerenciar os programas no Windows, chamada Chocolatey. Para quem está acostumando com gerenciadores de pacotes do Linux como apt, yum, etc, vai se sentir em casa. Ele consegue instalar e atualizar e remover diversos programas, facilitando muito o trabalho dos técnicos e até para gerenciar um grande parque de máquinas do seu trabalho.
O programa é suporte do Windows 7 em diante e Windows server 2003 em diante, tem como pré requisito o programa .</description><content type="html"><![CDATA[<p>Hoje lhes apresento uma ferramenta muito boa para gerenciar os programas no Windows, chamada <a href="https://chocolatey.org/">Chocolatey</a>. Para quem está acostumando com gerenciadores de pacotes do Linux como apt, yum, etc, vai se sentir em casa. Ele consegue instalar e atualizar e remover diversos programas, facilitando muito o trabalho dos técnicos e até para gerenciar um grande parque de máquinas do seu trabalho.</p>
<p>O programa é suporte do Windows 7 em diante e Windows server 2003 em diante, tem como pré requisito o programa .NET Framework 4+.</p>
<p>A instalação é bem simples e pode ser feita via <strong>cmd</strong> ou <strong>Powershell</strong></p>
<p>Instalando via CMD:</p>
<pre><code>@&quot;%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe&quot; -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command &quot;iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))&quot; &amp;&amp; SET &quot;PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin&quot;
</code></pre><p>Instalando via Powershell</p>
<pre><code>Set-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))
</code></pre><p>Após a instalação o comando choco já estará disponivel. Segue algumas opções do comando:</p>
<ul>
<li>list - Lista os pacotes disponíveis, enquanto fazia testes haviam incríveis <strong>5644 pacotes</strong></li>
<li>search - Realiza pesquisa de pacotes</li>
<li>info - Traz informações sobre um pacote</li>
<li>install - Obviamente, instala</li>
<li>upgrade - Atualiza</li>
<li>uninstall - Adivinhe, remove 🙂</li>
</ul>
<p>Caso queiramos instalar o VLC por exemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">choco install vlc
</code></pre></div><p><img src="/img/uploads/2018/04/Captura-de-tela-de-2018-04-17-20-32-04.png" alt="chocolatey"></p>
<p>Há também uma página onde pode se verificar uma lista com os pacotes pelo link <a href="https://chocolatey.org/packages">https://chocolatey.org/packages</a>.</p>
<p>Sem contar ainda em um gerenciador gráfico chamado Chocolatey GUI, que pode sem instalado com o comando <em>choco install chocolateygui.</em></p>
<p><img src="https://chocolatey.org/content/images/ChocolateyGUI_main_screen.png" alt="chocolatey"></p>
]]></content></item><item><title>Rundeck - Automatizando suas tarefas</title><link>https://sidneiweber.com.br/rundeck-automatizando-suas-tarefas/</link><pubDate>Mon, 09 Apr 2018 21:08:17 -0300</pubDate><guid>https://sidneiweber.com.br/rundeck-automatizando-suas-tarefas/</guid><description>O que é esse tal de Rundeck
Falando a grosso modo Rundeck é um automatizador e agendador de tarefas. Obviamente que ele faz muito mais do que isso, ele consegue rodar essas tarefas tanto em Linux quanto em Windows. Consegue-se criar um workflow de tarefas, fazendo uma tarefa depender de outra ou conforme sua execução com sucesso ou insucesso.
Escrito em java e tem sua administração por uma interface web bem simples de ser usado e usa ssh para conexões com Linux e Winrm para conexões com Windows.</description><content type="html"><![CDATA[<p>O que é esse tal de Rundeck</p>
<p>Falando a grosso modo Rundeck é um automatizador e agendador de tarefas. Obviamente que ele faz muito mais do que isso, ele consegue rodar essas tarefas tanto em Linux quanto em Windows. Consegue-se criar um workflow de tarefas, fazendo uma tarefa depender de outra ou conforme sua execução com sucesso ou insucesso.</p>
<p>Escrito em java e tem sua administração por uma interface web bem simples de ser usado e usa ssh para conexões com Linux e Winrm para conexões com Windows. As configurações ficam salvas em arquivos, geralmente XML, tanto dos jobs (trabalhos) quanto dos nodes (hosts).</p>
<p>Tem uma grande vantagem pois não precisa de agentes rodando nas máquinas clientes e se consegue fazer uma verdadeira orquestração de jobs, podendo escolher se os jobs vão rodar em paralelo ou sequência e assim por diante. Se consegue criar chaves de acesso, ou chaves com senhas dentro do próprio dashboard.<br>
Existe uma integração com diversos serviços:</p>
<p><img src="/img/uploads/2018/04/Captura-de-tela-de-2018-04-09-21-09-32-300x142.png" alt="rundeck ><"></p>
<p>Uma das poucas desvantagens que achei até o momento, que algumas configurações como de usuários, nodes, terem que ser feitas pela linha de comando editando diretamente os arquivos.</p>
<p>Para usar o Rundeck, precisamos ter instalado o java (1.8) em nosso servidor. Realizei alguns testes no Centos.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">java -version

java version <span style="color:#e6db74">&#34;1.8.0_131&#34;</span>
Java<span style="color:#f92672">(</span>TM<span style="color:#f92672">)</span> SE Runtime Environment <span style="color:#f92672">(</span>build 1.8.0_131-b11<span style="color:#f92672">)</span>
Java HotSpot<span style="color:#f92672">(</span>TM<span style="color:#f92672">)</span> 64-Bit Server VM <span style="color:#f92672">(</span>build 25.131-b11, mixed mode<span style="color:#f92672">)</span>
</code></pre></div><p>E instalaremos o rundeck adicionando o repositório.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">rpm -Uvh http://repo.rundeck.org/latest.rpm
yum install rundeck
</code></pre></div><p>Após instalação ocorrer tudo bem, podemos conferir verificando a porta onde o serviço roda. Lembrando que caso tenha algum firewall ou bloqueio de portas o mesmo deve ser liberado.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">netstat -an | egrep <span style="color:#e6db74">&#39;4440|4443&#39;</span>
tcp46      <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span>  *.4440                 *.*                    LISTEN
</code></pre></div><p>Agora basta acessarmos o IP do nosso servidor seguido da porta. Ex: http://localhost:4440 e usar a famosa senha de admin/admin</p>
<p><img src="/img/uploads/2018/04/1DavE3K2jDhlyPljVdaeAeQ-300x300.png" alt="rundeck ><"></p>
<p>Bom de momento vamos ficar somente com a instalação, nos próximos artigos vamos aprender a cadastrar nodes, executar comandos, scripts e demais coisas que essa baita ferramenta disponibiliza.</p>
<p>Site: <a href="http://rundeck.org/">http://rundeck.org/</a></p>
]]></content></item><item><title>Podcast - Conversa com Dionatan do Canal Diolinux</title><link>https://sidneiweber.com.br/podcast-conversa-com-dionatan-do-canal-diolinux/</link><pubDate>Mon, 02 Apr 2018 21:37:31 -0300</pubDate><guid>https://sidneiweber.com.br/podcast-conversa-com-dionatan-do-canal-diolinux/</guid><description>Mais um podcast gravado para o canal do Slackjeff.
Canal Diolinux</description><content type="html"><![CDATA[<p>Mais um podcast gravado para o canal do <a href="https://www.youtube.com/channel/UClz3DneoYlccluy4hBlx86Q">Slackjeff</a>.</p>
<p>Canal <a href="https://www.youtube.com/channel/UCEf5U1dB5a2e2S-XUlnhxSA">Diolinux</a></p>
<p><a href="https://www.youtube.com/watch?v=NQ4_pc9gM8E"><img src="https://img.youtube.com/vi/NQ4_pc9gM8E/0.jpg" alt="Video"></a></p>
]]></content></item><item><title>Podcast - Mercado, Dinheiro e Opensource</title><link>https://sidneiweber.com.br/podcast-mercado-dinheiro-e-opensource/</link><pubDate>Mon, 02 Apr 2018 21:33:42 -0300</pubDate><guid>https://sidneiweber.com.br/podcast-mercado-dinheiro-e-opensource/</guid><description>Podcast gravado recentemente no Canal do Slackjeff</description><content type="html"><![CDATA[<p>Podcast gravado recentemente no Canal do <a href="https://www.youtube.com/channel/UClz3DneoYlccluy4hBlx86Q">Slackjeff</a></p>
<p><a href="https://www.youtube.com/watch?v=pVB3MvNp51U"><img src="https://img.youtube.com/vi/pVB3MvNp51U/0.jpg" alt="Video ><"></a></p>
]]></content></item><item><title>Reconhecer HD novo Linux sem reiniciar</title><link>https://sidneiweber.com.br/reconhecer-hd-novo-linux-sem-reiniciar/</link><pubDate>Tue, 30 Jan 2018 20:53:54 -0300</pubDate><guid>https://sidneiweber.com.br/reconhecer-hd-novo-linux-sem-reiniciar/</guid><description>Hoje vamos a mais uma dica rápida. Pra que usa seus servidores virtualizados e precisa adicionar um novo HD seja por falta de espaço ou pelo motivo que for, não precisa reiniciar o servidor para ter o HD reconhecido. Basta apenas executar um simples comando que ordena um &amp;ldquo;scan&amp;rdquo; no barramento.
Vale lembrar também que essa dica é para virtualizações com Hot plug habilitado.
echo &amp;#34;- – -&amp;#34; &amp;gt; /sys/class/scsi_host/host0/scan Obrigado e até a próxima.</description><content type="html"><![CDATA[<p>Hoje vamos a mais uma dica rápida. Pra que usa seus servidores virtualizados e precisa adicionar um novo HD seja por falta de espaço ou pelo motivo que for, não precisa reiniciar o servidor para ter o HD reconhecido. Basta apenas executar um simples comando que ordena um &ldquo;scan&rdquo; no barramento.</p>
<p>Vale lembrar também que essa dica é para virtualizações com Hot plug habilitado.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">echo <span style="color:#e6db74">&#34;- – -&#34;</span> &gt; /sys/class/scsi_host/host0/scan
</code></pre></div><p>Obrigado e até a próxima.</p>
]]></content></item><item><title>Configurar sudo sem senha</title><link>https://sidneiweber.com.br/configurar-sudo-sem-senha/</link><pubDate>Fri, 01 Dec 2017 21:29:13 -0300</pubDate><guid>https://sidneiweber.com.br/configurar-sudo-sem-senha/</guid><description>Para configurar o uso do uso sem senha, o que não é recomendado, somente em casos de algum programa precise de permissão para executar determinado comando. Podemos usar como exemplo o Zabbix que quer rodar algum programa com privilégio de root sem comprometer a segurança. O arquivo a ser editado será o /etc/sudoers:
Configurar sudo sem senha para tudo:
zabbix ALL=NOPASSWD: ALL Ou podemos configurar para executar somente algo em específico:</description><content type="html"><![CDATA[<p>Para configurar o uso do uso sem senha, o que não é recomendado, somente em casos de algum programa precise de permissão para executar determinado comando. Podemos usar como exemplo o Zabbix que quer rodar algum programa com privilégio de root sem comprometer a segurança. O arquivo a ser editado será o /etc/sudoers:</p>
<p>Configurar sudo sem senha para tudo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">zabbix    ALL<span style="color:#f92672">=</span>NOPASSWD: ALL
</code></pre></div><p>Ou podemos configurar para executar somente algo em específico:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">zabbix ALL<span style="color:#f92672">=</span>NOPASSWD: /usr/bin/nmap
<span style="color:#75715e"># Mais de um comando</span>
zabbix ALL<span style="color:#f92672">=</span>NOPASSWD: /usr/bin/nmap, /etc/init.d/apache2 restart
</code></pre></div><p>E por hoje era isso pessoal, aquele abraço</p>
]]></content></item><item><title>Hora mais legível no dmesg</title><link>https://sidneiweber.com.br/hora-mais-legivel-no-dmesg/</link><pubDate>Fri, 20 Oct 2017 22:34:17 -0300</pubDate><guid>https://sidneiweber.com.br/hora-mais-legivel-no-dmesg/</guid><description>Saída padrão do dmesg:
[ 7515.054630] CPU7: Core temperature above threshold, cpu clock throttled (total events = 29938) [ 7515.055666] CPU3: Core temperature/speed normal [ 7515.055668] CPU7: Core temperature/speed normal [ 9253.929870] CPU4: Core temperature above threshold, cpu clock throttled (total events = 5697) [ 9253.929873] CPU0: Core temperature above threshold, cpu clock throttled (total events = 5697) [ 9253.930911] CPU4: Core temperature/speed normal [ 9253.930913] CPU0: Core temperature/speed normal Saída do comando dmesg -T:</description><content type="html"><![CDATA[<p>Saída padrão do <strong>dmesg:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span> 7515.054630<span style="color:#f92672">]</span> CPU7: Core temperature above threshold, cpu clock throttled <span style="color:#f92672">(</span>total events <span style="color:#f92672">=</span> 29938<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span> 7515.055666<span style="color:#f92672">]</span> CPU3: Core temperature/speed normal
<span style="color:#f92672">[</span> 7515.055668<span style="color:#f92672">]</span> CPU7: Core temperature/speed normal
<span style="color:#f92672">[</span> 9253.929870<span style="color:#f92672">]</span> CPU4: Core temperature above threshold, cpu clock throttled <span style="color:#f92672">(</span>total events <span style="color:#f92672">=</span> 5697<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span> 9253.929873<span style="color:#f92672">]</span> CPU0: Core temperature above threshold, cpu clock throttled <span style="color:#f92672">(</span>total events <span style="color:#f92672">=</span> 5697<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span> 9253.930911<span style="color:#f92672">]</span> CPU4: Core temperature/speed normal
<span style="color:#f92672">[</span> 9253.930913<span style="color:#f92672">]</span> CPU0: Core temperature/speed normal
</code></pre></div><p>Saída do comando <strong>dmesg -T:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>Sex Out <span style="color:#ae81ff">20</span> 21:56:10 2017<span style="color:#f92672">]</span> CPU7: Core temperature above threshold, cpu clock throttled <span style="color:#f92672">(</span>total events <span style="color:#f92672">=</span> 29938<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>Sex Out <span style="color:#ae81ff">20</span> 21:56:10 2017<span style="color:#f92672">]</span> CPU3: Core temperature/speed normal
<span style="color:#f92672">[</span>Sex Out <span style="color:#ae81ff">20</span> 21:56:10 2017<span style="color:#f92672">]</span> CPU7: Core temperature/speed normal
<span style="color:#f92672">[</span>Sex Out <span style="color:#ae81ff">20</span> 22:25:08 2017<span style="color:#f92672">]</span> CPU4: Core temperature above threshold, cpu clock throttled <span style="color:#f92672">(</span>total events <span style="color:#f92672">=</span> 5697<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>Sex Out <span style="color:#ae81ff">20</span> 22:25:08 2017<span style="color:#f92672">]</span> CPU0: Core temperature above threshold, cpu clock throttled <span style="color:#f92672">(</span>total events <span style="color:#f92672">=</span> 5697<span style="color:#f92672">)</span>
<span style="color:#f92672">[</span>Sex Out <span style="color:#ae81ff">20</span> 22:25:08 2017<span style="color:#f92672">]</span> CPU4: Core temperature/speed normal
<span style="color:#f92672">[</span>Sex Out <span style="color:#ae81ff">20</span> 22:25:08 2017<span style="color:#f92672">]</span> CPU0: Core temperature/speed normal
</code></pre></div><p>Podemos incluise criar um alias no bashrc:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">alias dmesg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dmesg -T&#34;</span>
</code></pre></div>]]></content></item><item><title>Bloquear resposta ao ping com sysctl</title><link>https://sidneiweber.com.br/bloquear-resposta-ao-ping-com-sysctl/</link><pubDate>Fri, 20 Oct 2017 22:21:16 -0300</pubDate><guid>https://sidneiweber.com.br/bloquear-resposta-ao-ping-com-sysctl/</guid><description>A dica de hoje é super rápida e prática, para bloquear as respostas de ping podemos usar o comando sysctl:
Para bloquear:
sysctl -w net.ipv4.icmp_echo_ignore_all=1 Para desbloquear:
sysctl -w net.ipv4.icmp_echo_ignore_all=0</description><content type="html"><![CDATA[<p>A dica de hoje é super rápida e prática, para bloquear as respostas de ping podemos usar o comando sysctl:</p>
<p>Para bloquear:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sysctl -w net.ipv4.icmp_echo_ignore_all<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</code></pre></div><p>Para desbloquear:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sysctl -w net.ipv4.icmp_echo_ignore_all<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</code></pre></div>]]></content></item><item><title>Alterar politica de senhas no Linux com PAM</title><link>https://sidneiweber.com.br/alterar-politica-de-senhas-no-linux/</link><pubDate>Tue, 17 Oct 2017 12:41:59 -0300</pubDate><guid>https://sidneiweber.com.br/alterar-politica-de-senhas-no-linux/</guid><description>Para podermos ter um controle maior sobre a segurança dos nossos sistemas e rede de computadores, podemos definir uma política de senhas onde as mesmas devem ter um grau alto de dificuldade. Podendo definir quantidade de caracteres especiais, números, tamanho da senha, tempo que ela vai expirar, não repetir a mesma senha digitada anteriormente, etc.
Como não podemos confiar totalmente nas instruções passadas para os usuários, devemos forçar essas opções. Usaremos o pam para realizar esses ajustes.</description><content type="html"><![CDATA[<p>Para podermos ter um controle maior sobre a segurança dos nossos sistemas e rede de computadores, podemos definir uma política de senhas onde as mesmas devem ter um grau alto de dificuldade. Podendo definir quantidade de caracteres especiais, números, tamanho da senha, tempo que ela vai expirar, não repetir a mesma senha digitada anteriormente, etc.</p>
<p>Como não podemos confiar totalmente nas instruções passadas para os usuários, devemos forçar essas opções. Usaremos o pam para realizar esses ajustes.</p>
<p>O <strong>PAM</strong> surgiu como um intermediador entre as aplicações e o mecanismo de autenticação. Todas as aplicações agora têm suporte ao PAM, que tem uma interface de comunicação única. Então quando quisermos fazer qualquer modificação de onde autenticar, basta apenas modificar a configuração do PAM e todo o resto das aplicações já estará configurada automaticamente. Muito mais prático.</p>
<p>Na família Debian, o arquivo a ser ajustado será o /etc/pam.d/common-password. Em outros sistemas procure verificar se o arquivo será o mesmo. Como requisito precisaremos instalar o pacote <em><strong>libpam-cracklib.</strong></em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apt-get install libpam-cracklib
</code></pre></div><p>Faça um backup do arquivo para garantir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cp /etc/pam.d/common-password /root/
</code></pre></div><p>E agora vamos editá-lo, deixando com apenas a linha abaixo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">vi /etc/pam.d/common-password
</code></pre></div><p>password requisite pam_cracklib.so minlen=8 difok=3 ucredit=-1 ocredit=-1 retry=3<!-- raw HTML omitted --></p>
<p>Onde:</p>
<p><strong>retry = 3</strong> : tentativas antes de retornar com erro. O padrão é 1.<br>
<strong>minlen = 8</strong> : O tamanho mínimo aceitável para a nova senha.<br>
<strong>difok = 3</strong> : Essa opção não deixa ter 3 letras iguais a senha antiga. Por exemplo a senha antigo é pastel e tentar alterar para pastoso irá ser rejeitada<br>
<strong>ucredit =</strong> -1 : A nova senha deve conter pelo menos 1 caracteres maiúsculos.<br>
<strong>ocredit</strong> = -2 : A nova senha deve conter pelo menos 2 caracteres especiais.</p>
<h4 id="diferença-entre-opções-positivas-e-negativas">Diferença entre opções positivas e negativas</h4>
<p>Como podemos ver na opção <strong>ucredit</strong> usamos um valor negativo isso porque os números negativos significam que queremos no mínimo o valor x, sendo uma exigência. Quando usamos o numero positivo estamos indicando o valor máximo.</p>
<h4 id="outras-opções">Outras opções</h4>
<p><strong>dcredit=x</strong>: Informa a quantidade digitos, numeros, exigidos na senha<br>
<strong>lcredit=x</strong>: Representa a quantidade caracteres minusculos, acredito que seja pouco usada</p>
<h4 id="proibir-senhas-já-usadas">Proibir senhas já usadas</h4>
<p>No mesmo arquivos iremos acrescentar</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">password sufficient pam_unix.so use_authtok md5 shadow remember<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>
</code></pre></div><p><strong>remember=10</strong> : Senha não poderá ser igual as ultimas 10</p>
<p>Testando, lembrando que se tentar trocar senha como root, ele dará o aviso porém irá alterar a senha mesmo assim. Caso seja um usuário comum ele não irá aceita a troca da senha.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">passwd sidnei
SENHA INCORRETA: é simples demais
</code></pre></div><p>Fonte:<br>
<a href="http://blog.marcelocavalcante.net/blog/2011/09/27/politica-de-senhas-no-linux-senhas-com-data-para-expirar/">http://blog.marcelocavalcante.net/blog/2011/09/27/politica-de-senhas-no-linux-senhas-com-data-para-expirar/</a>
<a href="https://www.cyberciti.biz/faq/securing-passwords-libpam-cracklib-on-debian-ubuntu-linux/">https://www.cyberciti.biz/faq/securing-passwords-libpam-cracklib-on-debian-ubuntu-linux/</a></p>
]]></content></item><item><title>Resetar senha Admin Zabbix</title><link>https://sidneiweber.com.br/resetar-senha-admin-zabbix/</link><pubDate>Tue, 17 Oct 2017 09:44:49 -0300</pubDate><guid>https://sidneiweber.com.br/resetar-senha-admin-zabbix/</guid><description>Hoje vamos a uma dica rápida para quem esqueceu ou não sabe a senha de Admin do painel de administração do Zabbix. Eu estava testando a ferramenta e depois de um tempo se mexer havia esquecido a senha, tive que resetá-la. Para isso a única coisa que precisamos é ter a senha de root do mysql, tendo ela podemos logar no terminal:
mysql -u root -p Enter password: Dentro do terminal a gente vai fazer o seguinte:</description><content type="html"><![CDATA[<p>Hoje vamos a uma dica rápida para quem esqueceu ou não sabe a senha de Admin do painel de administração do Zabbix. Eu estava testando a ferramenta e depois de um tempo se mexer havia esquecido a senha, tive que resetá-la. Para isso a única coisa que precisamos é ter a senha de root do mysql, tendo ela podemos logar no terminal:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysql -u root -p
Enter password:
</code></pre></div><p>Dentro do terminal a gente vai fazer o seguinte:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysql&gt; use zabbix;
mysql&gt; UPDATE users SET passwd<span style="color:#f92672">=</span>md5<span style="color:#f92672">(</span>‘novasenha’<span style="color:#f92672">)</span> WHERE alias<span style="color:#f92672">=</span>’Admin’;
</code></pre></div><p>Pronto, senha resetada.</p>
<p><a href="https://jorgepretel.com.br/2016/04/reset-na-senha-admin-do-zabbix/">Fonte:</a></p>
]]></content></item><item><title>Extensões de arquivos no Linux</title><link>https://sidneiweber.com.br/extensoes-de-arquivos-no-linux/</link><pubDate>Tue, 19 Sep 2017 13:30:06 -0300</pubDate><guid>https://sidneiweber.com.br/extensoes-de-arquivos-no-linux/</guid><description>Primeiramente o que devemos saber é que no Linux a extensão é opcional, o tipo de arquivo é reconhecido pelo seu conteúdo e não pela sua extensão. Mas para facilitar a vida é bom conhecer algumas extensões no Linux.
Arquivos Executáveis out: formato binário usado nas primeiras versões do GNU/Linux
pl: script em linguagem Perl
py: script em linguagem Python
sh: script de shell, usado para criar pequenos programas
Códigos fontes e bibliotecas c: código em linguagem C</description><content type="html"><![CDATA[<p>Primeiramente o que devemos saber é que no Linux a extensão é opcional, o tipo de arquivo é reconhecido pelo seu conteúdo e não pela sua extensão. Mas para facilitar a vida é bom conhecer algumas extensões no Linux.</p>
<h4 id="span-idarquivos_executaveisarquivos-executáveisspan"><!-- raw HTML omitted -->Arquivos Executáveis<!-- raw HTML omitted --></h4>
<p><strong>out</strong>: formato binário usado nas primeiras versões do GNU/Linux<br>
<strong>pl</strong>: script em linguagem Perl<br>
<strong>py</strong>: script em linguagem Python<br>
<strong>sh</strong>: script de shell, usado para criar pequenos programas</p>
<h4 id="span-idcodigos_fontes_e_bibliotecascódigos-fontes-e-bibliotecasspan"><!-- raw HTML omitted -->Códigos fontes e bibliotecas<!-- raw HTML omitted --></h4>
<p><strong>c</strong>: código em linguagem C<br>
<strong>cpp</strong>: código em linguagem C++<br>
<strong>diff</strong>: conjunto de instruções que definem as trocas a aplicar um patch<br>
<strong>h:</strong> cabeçalho de arquivos programados em C<br>
<strong>lo</strong>: arquivo temporário criado pela compilação de uma library<br>
<strong>o</strong>: arquivo temporário criado pela compilação de um programa<br>
<strong>so</strong>: bibliotecas compartilhadas equivalentes aos “dll” em windows</p>
<h4 id="span-idarquivos_compactadosarquivos-compactadosspan"><!-- raw HTML omitted -->Arquivos compactados<!-- raw HTML omitted --></h4>
<p><strong>bz2</strong>: arquivo comprimido pelo Bzip2<br>
<strong>gz</strong>: arquivo gerado pelo programa Gzip que substituiu o obsoleto Compress<br>
<strong>rar</strong>: substituto natural do Arj, que permite uma maior compressão e dividir arquivos grandes em vários menores<br>
<strong>tar</strong>: arquivo empacotado sem compressão, usado para num único ficheiro o conteúdo de um pasta com vários arquivos<br>
<strong>tbz2 (tar.bz2)</strong>: arquivo resultante da compressão em Bzip2 dum ficheiro Tar<br>
<strong>tgz (tar.gz)</strong>: resultado da compressão em Gzip dum ficheiro Tar.<br>
<strong>z</strong>: arquivo comprimido com o programa Compress<br>
<strong>zip</strong>: formato de compressão mais usado na internet. Tem menos compressão que o Bzip2.</p>
<h4 id="span-idarquivos_do_sistemaarquivos-do-sistemaspan"><!-- raw HTML omitted -->Arquivos do Sistema<!-- raw HTML omitted --></h4>
<p><strong>conf</strong>: arquivo de configuração de um programa<br>
<strong>ko</strong>: módulos do núcleo do kernel 2.6<br>
<strong>lock</strong>: indica o bloqueio de um serviço, processo ou programa<br>
<strong>log</strong>: arquivo de de informação gerado pelo núcleo do kernel, pelos programas e pelos serviços instalados. É nele que ficam guardados os estados e erros que se produzem pelos programas<br>
<strong>pid</strong>: arquivos indicadores de processos necessários para o correto funcionamento dos serviços em execução<br>
<strong>socket</strong>: meio de comunicação entre dois programas situados em equipamentos diferentes<br>
<strong>tmp</strong>: ficheiro temporário criado por um programa para armazenar informação</p>
<h4 id="span-idarquivos_de_pacotesarquivos-de-pacotesspan"><!-- raw HTML omitted -->Arquivos de pacotes<!-- raw HTML omitted --></h4>
<p><strong>deb</strong>: usado pela Debian e distribuições derivadas da Debian<br>
<strong>dsc</strong>: arquivo de informação do código fonte de um pacote Debian<br>
<strong>ebuild</strong>: script usado pela Gentoo para compilar e instalar pacotes a partir do código fonte<br>
<strong>rpm</strong>: arquivo usado pela Red Hat, Fedora, CentOS, SUSE, Mandriva e outros<br>
<strong>tgz</strong>: arquivo Tar.gz já compilados para Slackware</p>
]]></content></item><item><title>Segurança da Informação - O que preciso saber?</title><link>https://sidneiweber.com.br/seguranca-da-informacao-o-que-preciso-saber/</link><pubDate>Tue, 05 Sep 2017 13:55:37 -0300</pubDate><guid>https://sidneiweber.com.br/seguranca-da-informacao-o-que-preciso-saber/</guid><description>Hoje falaremos sobre um assunto que a cada dia se torna mais importante no mundo técnologico e corporativo, Segurança da Informação.
Segundo a ISO 27002 segurança da informação é:
A proteção da informação contra vários tipos de ameaças para garantir a continuidade do negocio, minimizar riscos, maximizar o retorno sobre os investimentos e as oportunidades de negócios.
Com a evolução da internet a empresas ampliaram seus aspectos de negócio, chegando praticamente em todos os setores e segmentos.</description><content type="html"><![CDATA[<p>Hoje falaremos sobre um assunto que a cada dia se torna mais importante no mundo técnologico e corporativo, Segurança da Informação.</p>
<p>Segundo a <strong>ISO 27002</strong> segurança da informação é:<br>
A proteção da informação contra vários tipos de ameaças para garantir a continuidade do negocio, minimizar riscos, maximizar o retorno sobre os investimentos e as oportunidades de negócios.</p>
<p>Com a evolução da internet a empresas ampliaram seus aspectos de negócio, chegando praticamente em todos os setores e segmentos. A informatização das empresas se tornou algo necessário, migrando as informações para o formato digital. E essas informações deve ser protegidas devido ao riscos as quais elas podem estar expostas.</p>
<h4 id="o-que-se-deve-proteger">O que se deve proteger:</h4>
<p>– Registro de negócios;<br>
– Base de dados;<br>
– Informações pessoais;<br>
– Registros financeiros;<br>
– Informações de mercado.</p>
<p>Para a segurança da informação é importante lembrar que a proteção é indiferente de onde a informação esteja, papel, computador, trafegando na rede, backup.</p>
<p><img src="/img/uploads/2017/09/seguranca-da-informacao-em-profundidade-300x186.jpg" alt="segurança ><"></p>
<h4 id="o-que-um-ataque-a-essas-informações-pode-acarretar">O que um ataque a essas informações pode acarretar:</h4>
<p>– Negativar a imagem da empresa;<br>
– Perda de clientes;<br>
– Vazamento de informações;<br>
– Prejuizo financeiro</p>
<p>A segurança da informação baseia-se em 3 pilares:<br>
– <strong>Confidencialidade</strong>: Garantir que a informação esteja disponivel somente as pessoas autorizadas<br>
– <strong>Integridade</strong>: Garantir que a informação esteja integra, ou seja, completa e no seu estado original<br>
– <strong>Disponibilidade</strong>: Garantir que a informação esteja disponivel e utilizavel</p>
<p>E pode envolver processos, tecnologia e pessoas (o elo mais fraco).</p>
<h4 id="vulnerabilidade">Vulnerabilidade</h4>
<p>É uma possível falha em um procedimento ou controle de um sistema que possa ser explorada, resultando em uma brecha de segurança</p>
<h4 id="vulnerabilidade-tecnologias">Vulnerabilidade tecnologias:</h4>
<p>– Protocolos<br>
– Sistema operacional<br>
– Equipamento rede</p>
<h4 id="vulnerabilidade-de-configuração">Vulnerabilidade de configuração:</h4>
<p>– Manter configurações default ou inseguras<br>
– Senhas simples<br>
– Configuração incorreta de equipamento ou serviços</p>
<h4 id="vulnerabilidade-de-politica-de-segurança">Vulnerabilidade de Politica de segurança:</h4>
<p>– Falta de uma politica<br>
– Falta de controle de acessos<br>
– Instalações de software ou hardware que nao seguem a politica<br>
– Falta de orientação sobre a policita, quando existir</p>
<h4 id="ameaça">Ameaça</h4>
<p>Quem ou que, pode explorar acidentalmente ou propositalmente alguma dessas vulnerabilidades</p>
<h4 id="ameaças-acidentais">Ameaças acidentais</h4>
<p>– Falha de equipamentos<br>
– Erro humano<br>
– Natureza</p>
<h4 id="ameaças-propositais">Ameaças propositais</h4>
<p>– Espionagem<br>
– Crimes<br>
– Empregados desonestos ou insatisfeitos<br>
– Vandalismo<br>
– Terrorismo</p>
<h4 id="risco">Risco</h4>
<p>É a probabilidade de uma ameaça explorar um vulnerabilidade, resultando algum impacto ou prejuizo para organização</p>
<h4 id="engenharia-social">Engenharia social</h4>
<p>É a prática utilizada para obter informações importantes por meio das pessoas envolvidades. O atacante consegue retirar informações ou acessos sem mesmo chegar perto de um computador, somente se valendo da má instrução das pessoas.</p>
<h4 id="tipos-de-ataques-mais-comuns-realizados-pela-internet">Tipos de ataques mais comuns realizados pela internet:</h4>
<p>Explorar vulnerabilidades<br>
Scan de rede<br>
Falsificação de emails<br>
Sniffing<br>
Força bruta<br>
Negação de serviço (DDos)</p>
<h4 id="para-diminuir-os-riscos-pode-se-usar-alguns-recursos-como">Para diminuir os riscos pode-se usar alguns recursos, como:</h4>
<p>– Politica de segurança<br>
– Notificação de incidentes<br>
– Contas e senhas<br>
– Criptografia<br>
– Backup<br>
– Logs<br>
– Ferramentas de antivirus<br>
– Firewall</p>
<p>Pode-se também adotar uma política de segurança da informação, que vem a ser de muita valia para as organizações, mas isso já cabe outro post mais pra frente. </p>
]]></content></item><item><title>Dica rápida - Verificar pastas que ocupam mais espaço</title><link>https://sidneiweber.com.br/dica-rapida-verificar-pastas-que-ocupam-mais-espaco/</link><pubDate>Thu, 17 Aug 2017 13:15:51 -0300</pubDate><guid>https://sidneiweber.com.br/dica-rapida-verificar-pastas-que-ocupam-mais-espaco/</guid><description>Bom essa dica é bem simples mas muito útil, vamos usar uma combinação de comandos para listar as 5 pastas que mais utilizam espaço no diretório corrente. O bom comando seria esse:
du -Sh | sort -rh | head -5 Saida: 2,1G ./log/journal/457f9ec73a36473ab3a70f2a1ebce863 196M ./lib/mysql 189M ./lib/docker/aufs/diff/105ad3b8329fb9264b17543f7d70746b1c330f18523f27cdee5ad3fdff966697/usr/bin 116M ./lib/nvidia 111M ./lib/docker/aufs/diff/105ad3b8329fb9264b17543f7d70746b1c330f18523f27cdee5ad3fdff966697/usr/share/cattle/0e44936b6b56ae4372799b0f48e6e934/WEB-INF/lib Explicando: O comando du faz a verificação do uso das pastas em si;
O comando sort faz a ordenação do maior pro menor;</description><content type="html"><![CDATA[<p>Bom essa dica é bem simples mas muito útil, vamos usar uma combinação de comandos para listar as 5 pastas que mais utilizam espaço no diretório corrente. O bom comando seria esse:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">du -Sh | sort -rh | head -5
</code></pre></div><h4 id="saida">Saida:</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">2,1G	./log/journal/457f9ec73a36473ab3a70f2a1ebce863
196M	./lib/mysql
189M	./lib/docker/aufs/diff/105ad3b8329fb9264b17543f7d70746b1c330f18523f27cdee5ad3fdff966697/usr/bin
116M	./lib/nvidia
111M	./lib/docker/aufs/diff/105ad3b8329fb9264b17543f7d70746b1c330f18523f27cdee5ad3fdff966697/usr/share/cattle/0e44936b6b56ae4372799b0f48e6e934/WEB-INF/lib
</code></pre></div><h4 id="explicando">Explicando:</h4>
<p>O comando <strong>du</strong> faz a verificação do uso das pastas em si;<br>
O comando <strong>sort</strong> faz a ordenação do maior pro menor;<br>
E o comando <strong>head</strong> mostra os 5 primeiros, pode ser usado qualquer quantidade.</p>
<p>Se alguém tiver dúvidas quanto as opções usadas, basta digitar o nome do comando –help, que terá todas as informações.</p>
]]></content></item><item><title>Gerar lista de pacotes instalados no Debian, Ubuntu, etc</title><link>https://sidneiweber.com.br/gerar-lista-de-pacotes-instalados-no-debian-ubuntu-etc/</link><pubDate>Thu, 22 Jun 2017 13:22:53 -0300</pubDate><guid>https://sidneiweber.com.br/gerar-lista-de-pacotes-instalados-no-debian-ubuntu-etc/</guid><description>Para gerar uma lista dos pacotes instalados no sistema, poderemos usar o dpkg para isso. Pode ser muito útil na hora de criar sistemas com a mesma base
Gerando lista de pacotes sudo dpkg --get-selections &amp;gt; install.list Instalando pacotes a partir da lista sudo dpkg --set-selections &amp;lt; install.list sudo apt-get -y update sudo apt-get dselect-upgrade Fonte</description><content type="html"><![CDATA[<p>Para gerar uma lista dos pacotes instalados no sistema, poderemos usar o <strong>dpkg</strong> para isso. Pode ser muito útil na hora de criar sistemas com a mesma base</p>
<h4 id="gerando-lista-de-pacotes">Gerando lista de pacotes</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo dpkg --get-selections &gt; install.list
</code></pre></div><h4 id="instalando-pacotes-a-partir-da-lista">Instalando pacotes a partir da lista</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo dpkg --set-selections &lt; install.list
sudo apt-get -y update
sudo apt-get dselect-upgrade
</code></pre></div><p><a href="http://www.dicas-l.com.br/dicas-l/20161025.php">Fonte</a></p>
]]></content></item><item><title>Limitando e atualizando limites de memória e CPU no docker</title><link>https://sidneiweber.com.br/limitando-e-atualizando-limites-de-memoria-e-cpu-no-docker/</link><pubDate>Tue, 13 Jun 2017 13:55:20 -0300</pubDate><guid>https://sidneiweber.com.br/limitando-e-atualizando-limites-de-memoria-e-cpu-no-docker/</guid><description>Bom hoje vamos seguir com nosso aprendizado em docker, já vimos sobre comandos básicos, iniciar servidor apache, exportar e importar containers e agora a dica é bem simples porém muito útil. Toda vez que subimos um container sem colocar limites nos recursos, o container pode usar todo o recurso da máquina fisica, isso nem sempre é bom, seja por onerar o host ou mesmo para testes da sua aplicação. Então vamos as dicas.</description><content type="html"><![CDATA[<p>Bom hoje vamos seguir com nosso aprendizado em docker, já vimos sobre <a href="http://sidneiweber.com.br/comandos-basicos-docker/">comandos básicos</a>, <a href="http://sidneiweber.com.br/iniciando-servidor-apache-no-docker/">iniciar servidor apache</a>, <a href="http://sidneiweber.com.br/exportar-e-importar-containers-no-docker/">exportar e importar containers</a> e agora a dica é bem simples porém muito útil. Toda vez que subimos um container sem colocar limites nos recursos, o container pode usar todo o recurso da máquina fisica, isso nem sempre é bom, seja por onerar o host ou mesmo para testes da sua aplicação. Então vamos as dicas.</p>
<p>Antes da dica, vamos a outra dica :), com o comando <em><strong>docker stats</strong></em> podemos ver o consumo de nossos containers:</p>
<p><img src="/img/uploads/2017/06/Captura-de-tela_2017-06-13_13-47-34-1024x79.png" alt="docker"></p>
<p>Agora vamos as nossas dicas de hoje.</p>
<h4 id="limitar-memória-do-container">Limitar memória do container</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># Para limitar a 512 MEGAS</span>
docker run -it -m 512M ubuntu /bin/bash
<span style="color:#75715e">#Para limitar a 1 GIGA</span>
docker run -it -m 1G ubuntu /bin/bash
<span style="color:#75715e"># Verificando a quantidade de memória</span>
docker inspect <span style="color:#f92672">[</span>container id<span style="color:#f92672">]</span> |grep -i mem
</code></pre></div><h4 id="limitar-cpu-do-container">Limitar CPU do container</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run -it --cpu-shares <span style="color:#ae81ff">1024</span> ubuntu /bin/bash
docker inspect <span style="color:#f92672">[</span>container id<span style="color:#f92672">]</span> |grep -i cpu
</code></pre></div><h3 id="atualizar-limites-de-container-em-execução">Atualizar limites de container em execução</h3>
<h4 id="alterando-limite-de-memória">Alterando limite de memória</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker update -m 256M <span style="color:#f92672">[</span>container id<span style="color:#f92672">]</span>
</code></pre></div><h4 id="atualizar-limite-cpu">Atualizar limite CPU</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker update --cpu-shares <span style="color:#ae81ff">512</span> <span style="color:#f92672">[</span>container id<span style="color:#f92672">]</span>
</code></pre></div><p>Sempre lembrando que para pegar o id do container basta executar <em><strong>docker ps</strong></em>.</p>
]]></content></item><item><title>Iniciando servidor web PHP e Mysql com Docker</title><link>https://sidneiweber.com.br/iniciando-servidor-web-php-e-mysql-com-docker/</link><pubDate>Wed, 31 May 2017 13:41:27 -0300</pubDate><guid>https://sidneiweber.com.br/iniciando-servidor-web-php-e-mysql-com-docker/</guid><description>De uma maneira muito rápida podemos iniciar um servidor web para testarmos aplicações, páginas, sistemas, etc. Para isso precisaremos de duas ferramentas:
Docker Docker Compose Vou levar em consideração de já tenha os mesmos instalados, pois cada sistema tem seu próprio gerenciador de pacotes e não vou especificar isso no momento.
Iniciando DockerFile Para iniciar criaremos um Dockerfile, para quem não está muito familiarizado pode ver um post com comandos básico do docker aqui.</description><content type="html"><![CDATA[<p>De uma maneira muito rápida podemos iniciar um servidor web para testarmos aplicações, páginas, sistemas, etc. Para isso precisaremos de duas ferramentas:</p>
<ul>
<li>Docker</li>
<li>Docker Compose</li>
</ul>
<p>Vou levar em consideração de já tenha os mesmos instalados, pois cada sistema tem seu próprio gerenciador de pacotes e não vou especificar isso no momento.</p>
<h3 id="iniciando">Iniciando</h3>
<h4 id="dockerfile">DockerFile</h4>
<p>Para iniciar criaremos um Dockerfile, para quem não está muito familiarizado pode ver um <a href="http://sidneiweber.com.br/comandos-basicos-docker/">post com comandos básico do docker aqui</a>. Usaremos uma imagem base do Docker Hub, a <a href="https://hub.docker.com/r/tutum/lamp/">tutum/lamp</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> tutum/lamp</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">MAINTAINER</span><span style="color:#e6db74"> PAAS EMAIL &lt;email@site.com&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h4 id="docker-compose">Docker Compose</h4>
<p>Agora na mesma pasta iremos criar o arquivo <strong>docker-compose.yml</strong>. Com o conteúdo abaixo:</p>
<p><em>Ps: Lembre de verificar se os caminhos dos arquivos estão corretos em seu sistema, pode variar de linux para linux.</em></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#f92672">dev</span>:
  <span style="color:#f92672">dockerfile</span>: <span style="color:#ae81ff">Dockerfile</span>
  <span style="color:#f92672">volumes</span>:
    - <span style="color:#ae81ff">.:/var/www/html</span>
    - <span style="color:#ae81ff">/etc/timezone:/etc/timezone</span>
    - <span style="color:#ae81ff">/etc/localtime:/etc/localtime</span>
 
  <span style="color:#f92672">build</span>: <span style="color:#ae81ff">.</span>
  <span style="color:#f92672">expose</span>:
    - <span style="color:#e6db74">&#34;80&#34;</span>
 
  <span style="color:#f92672">ports</span>:
    - <span style="color:#e6db74">&#34;80:80&#34;</span>
</code></pre></div><h4 id="subindo-a-aplicação">Subindo a aplicação</h4>
<p>Subiremos a aplicação com o seguinte comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker-compose up
</code></pre></div><p>Basta acessar seu localhost, ou ip de sua máquina que o servidor estará UP. A pasta onde foi criado os arquivos anteriores será a pasta raíz do servidor web. Ao iniciar será gerado uma saída parecido com a abaixo:</p>
<p><img src="/img/uploads/2017/05/Captura-de-tela_2017-05-31_13-34-26-1024x233.png" alt="docker"></p>
<p><a href="http://blog.locaweb.com.br/artigos/desenvolvimento-artigos/docker-php-em-5-minutos/">Fonte</a></p>
]]></content></item><item><title>Monitoramento via TCP no Nagios</title><link>https://sidneiweber.com.br/monitoramento-via-tcp-no-nagios/</link><pubDate>Fri, 28 Apr 2017 11:06:44 -0300</pubDate><guid>https://sidneiweber.com.br/monitoramento-via-tcp-no-nagios/</guid><description>Hoje vamos dar seguinte a configuração do Nagios que instalamos um tempo atrás.
Iniciaremos por um dos monitramentos mais simples que é o monitoramento via TCP, caso tennha alguns sites e queira monitorar caso algum deles caia, será muito útil.
Bom a estrutura do Nagios é bem simples mas não mostrarei hoje, para melhorar nos organizarmos vamos criar um arquivo de template próprio, dentro da pasta /usr/local/nagios/etc. Aqui no meu caso crei o arquivo templatesNagios.</description><content type="html"><![CDATA[<p>Hoje vamos dar seguinte a configuração do Nagios <a href="http://sidneiweber.com.br/instalando-nagios-instalacao-basica/">que instalamos um tempo atrás</a>.</p>
<p>Iniciaremos por um dos monitramentos mais simples que é o monitoramento via TCP, caso tennha alguns sites e queira monitorar caso algum deles caia, será muito útil.</p>
<p>Bom a estrutura do Nagios é bem simples mas não mostrarei hoje, para melhorar nos organizarmos vamos criar um arquivo de template próprio, dentro da pasta /usr/local/nagios/etc. Aqui no meu caso crei o arquivo templatesNagios.cfg. Já com o template do servico de monitoramento e templates para monitorar linux, windows e hosts de rede.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">### Template do serviço de monitoramento de Rede e ICMP</span>
define service<span style="color:#f92672">{</span>
	name TemplateService
	active_checks_enabled <span style="color:#ae81ff">1</span>
	notifications_enabled <span style="color:#ae81ff">1</span>
	passive_checks_enabled <span style="color:#ae81ff">0</span>
	retain_status_information <span style="color:#ae81ff">1</span>
	is_volatile <span style="color:#ae81ff">0</span>
	max_check_attempts <span style="color:#ae81ff">3</span>
	check_interval <span style="color:#ae81ff">3</span>
	normal_check_interval <span style="color:#ae81ff">5</span>
	retry_check_interval <span style="color:#ae81ff">5</span>
	check_period 24x7
	notification_interval <span style="color:#ae81ff">0</span>
	notification_period 24x7
	notification_options u,c,r
	register <span style="color:#ae81ff">0</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">#### Template &#34;HOST&#34; Windows</span>
define host<span style="color:#f92672">{</span>
	name TemplateHostWindows
	max_check_attempts <span style="color:#ae81ff">3</span>
	check_interval <span style="color:#ae81ff">5</span>
	retry_check_interval <span style="color:#ae81ff">5</span>
	active_checks_enabled <span style="color:#ae81ff">1</span>
	passive_checks_enabled <span style="color:#ae81ff">0</span>
	check_period 24x7
	retain_status_information <span style="color:#ae81ff">1</span>
	notification_interval <span style="color:#ae81ff">60</span> ; tempo de envio de alerta
	notification_period 24x7
	notification_options d,u,r
	register <span style="color:#ae81ff">0</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">### Template &#34;HOST&#34; Linux</span>
define host<span style="color:#f92672">{</span>
	name TemplateHostLinux
	check_command check-host-alive
	max_check_attempts <span style="color:#ae81ff">3</span>
	check_interval <span style="color:#ae81ff">3</span>
	retry_check_interval <span style="color:#ae81ff">5</span>
	active_checks_enabled <span style="color:#ae81ff">1</span>
	check_period 24x7
	retain_status_information <span style="color:#ae81ff">1</span>
	notification_interval <span style="color:#ae81ff">60</span>
	notification_period 24x7
	notification_options d,u,r
<span style="color:#f92672">}</span>

<span style="color:#75715e">### Template &#34;HOST&#34; Rede</span>
define host<span style="color:#f92672">{</span>
	name TemplateHostRede
	check_command check-host-alive
	max_check_attempts <span style="color:#ae81ff">2</span>
	check_interval <span style="color:#ae81ff">5</span>
	retry_check_interval <span style="color:#ae81ff">5</span>
	active_checks_enabled <span style="color:#ae81ff">1</span>
	check_period 24x7
	retain_status_information <span style="color:#ae81ff">1</span>
	notification_interval <span style="color:#ae81ff">60</span>
	notification_period 24x7
	notification_options d,u,r
<span style="color:#f92672">}</span>

<span style="color:#75715e"># &#39;check_tcp&#39; command definition</span>
define command<span style="color:#f92672">{</span>
	command_name check_tcpNP
	command_line $USER1$/check_tcp -H $HOSTADDRESS$ -p $ARG1$ -w $ARG2$ -c $ARG3$
<span style="color:#f92672">}</span>
</code></pre></div><p>Feito isso precisamos adicionar nosso arquivo de configuração no arquivo /usr/local/nagios/etc/nagios.cfg</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cfg_file<span style="color:#f92672">=</span>/usr/local/nagios/etc/templatesNagios.cfg
</code></pre></div><p>Agora dentro da pasta /usr/local/nagios/etc/ criaremos a pasta network, onde adicionaremos todos os nossos hosts para monitoramento via TCP. Criaremos em outro momento uma pasta linux e uma windows, ficando muito mais organizada nossas configurações. Também precisamos adicionar esse caminho no arquivo /usr/local/nagios/etc/nagios.cfg</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cfg_dir<span style="color:#f92672">=</span>/usr/local/nagios/etc/network/
</code></pre></div><p>Dentro da pasta network vamos criar nosso primeiro host para monitorar. Vou criar o arquivo sidneiweber.cfg com o conteúdo abaixo. As opções são auto explicativas, mas comentei para facilitar o entendimento.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">define host<span style="color:#f92672">{</span>
	host_name Site_Sidnei ; Nome que irá aparecer no nagios
	use TemplateHostRede ; Template a ser usado. Configura no nosso templatesNagios.cfg
	alias Site Sidnei Weber ; Um alias
	address www.sidneiweber.com.br ; O endereço
	contact_groups admins ; Grupo que receberá os alertas

<span style="color:#f92672">}</span>

define service<span style="color:#f92672">{</span>
	use TemplateService ; Template <span style="color:#66d9ef">do</span> serviço
	host_name Site_Sidnei ; Nome <span style="color:#66d9ef">do</span> seu servidor
	service_description PING-Disponibilidade ; Descrição <span style="color:#66d9ef">do</span> Serviço a ser monitorado para o host
	check_command check_ping!100,20%!200,60% ; Plugin e Parametros
	contact_groups admins

<span style="color:#f92672">}</span>

define service<span style="color:#f92672">{</span>
	use TemplateService
	host_name Site_Sidnei ; Nome <span style="color:#66d9ef">do</span> seu servidor
	service_description HTTP ; Descrição <span style="color:#66d9ef">do</span> Serviço a ser monitorado para o host
	check_command check_tcpNP!80!1!2! ; Plugin e Parametros
	contact_groups admins
<span style="color:#f92672">}</span>
</code></pre></div><p>Após essa configuração basta verificar se está tudo configurado sem erros com o comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
</code></pre></div><p>Se não retornar nenhum erro, basta iniciar o serviço do nagios:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/usr/local/nagios/bin/nagios -d /usr/local/nagios/etc/nagios.cfg
</code></pre></div><p>Caso o serviço já esteja rodando e precise reiniciar, eu faço da seguinte maneira:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># Matando todos os processos nagios</span>
killall nagios
<span style="color:#75715e"># Iniciando</span>
/usr/local/nagios/bin/nagios -d /usr/local/nagios/etc/nagios.cfg
</code></pre></div><p>Pronto, primeiro serviço monitorado, e isso pode ser feito com qualquer site ou serviço de ping, uma monitoração simples, mas não deixa de ser um monitoramento.</p>
]]></content></item><item><title>Script instalação automatizada Nagios no Debian</title><link>https://sidneiweber.com.br/script-instalacao-automatizada-nagios-no-debian/</link><pubDate>Wed, 26 Apr 2017 13:27:40 -0300</pubDate><guid>https://sidneiweber.com.br/script-instalacao-automatizada-nagios-no-debian/</guid><description>Script para instalação do Nagios e Nagios plugins no Debian baixando o código fonte. Script está funcional, porém pode vir a melhorar.
Retirado de https://github.com/sidneiweber/meu-canivete-suico/blob/master/nagios/instalar-nagios-debian.sh
#!/bin/bash # instalar-nagios-debian.sh # Criado por Sidnei Weber # Variaveis VERSAO_NAGIOS=4.2.4 VERSAO_PLUGINS=2.1.4 USUARIO=`whoami` # Verificar se é root if [ &amp;#34;$USUARIO&amp;#34; == &amp;#34;root&amp;#34; ] then echo &amp;#34;O poder está em suas mãos!&amp;#34; else echo &amp;#34;Você precisa ter poderes de Super Vaca!&amp;#34; exit 0 fi # Verificar internet clear echo &amp;#34;Verificando conexão com internet&amp;#34; curl www.</description><content type="html"><![CDATA[<p>Script para instalação do Nagios e Nagios plugins no Debian baixando o código fonte. Script está funcional, porém pode vir a melhorar.</p>
<p>Retirado de <a href="https://github.com/sidneiweber/meu-canivete-suico/blob/master/nagios/instalar-nagios-debian.sh">https://github.com/sidneiweber/meu-canivete-suico/blob/master/nagios/instalar-nagios-debian.sh</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span><span style="color:#75715e"># instalar-nagios-debian.sh</span>
<span style="color:#75715e"># Criado por Sidnei Weber</span>

<span style="color:#75715e"># Variaveis</span>
VERSAO_NAGIOS<span style="color:#f92672">=</span>4.2.4
VERSAO_PLUGINS<span style="color:#f92672">=</span>2.1.4
USUARIO<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>whoami<span style="color:#e6db74">`</span>

<span style="color:#75715e"># Verificar se é root</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$USUARIO<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;root&#34;</span> <span style="color:#f92672">]</span>
<span style="color:#66d9ef">then</span>
	echo <span style="color:#e6db74">&#34;O poder está em suas mãos!&#34;</span>
<span style="color:#66d9ef">else</span>
	echo <span style="color:#e6db74">&#34;Você precisa ter poderes de Super Vaca!&#34;</span>
	exit <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">fi</span>

<span style="color:#75715e"># Verificar internet</span>
clear
echo <span style="color:#e6db74">&#34;Verificando conexão com internet&#34;</span>
curl www.google.com <span style="color:#f92672">&amp;&amp;</span>gt; /dev/null
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$?<span style="color:#e6db74">&#34;</span> !<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
  echo <span style="color:#e6db74">&#34;Sem conexao. Saindo do instalador&#34;</span>
  exit <span style="color:#ae81ff">0</span>
 <span style="color:#66d9ef">else</span>
  echo <span style="color:#e6db74">&#34;Conexao ok. Continuando!&#34;</span>
<span style="color:#66d9ef">fi</span>

<span style="color:#75715e"># Instalação das dependencias</span>
echo <span style="color:#e6db74">&#34;Instalando dependencias&#34;</span>
apt-get install wget build-essential apache2 php-gd libgdchart-gd2-xpm libgdchart-gd2-xpm-dev libapache2-mod-php

<span style="color:#75715e"># Baixando Nagios</span>
<span style="color:#75715e"># Nagios core</span>
echo <span style="color:#e6db74">&#34;Baixando pacotes do Nagios&#34;</span>
wget -c https://assets.nagios.com/downloads/nagioscore/releases/nagios-$VERSAO_NAGIOS.tar.gz
<span style="color:#75715e"># Nagios plugins</span>
wget -c https://nagios-plugins.org/download/nagios-plugins-$VERSAO_PLUGINS.tar.gz
<span style="color:#75715e"># Extrair pacotes</span>
tar -xzvf https://assets.nagios.com/downloads/nagioscore/releases/nagios-$VERSAO_NAGIOS.tar.gz
<span style="color:#75715e"># Nagios plugins</span>
tar -xzvf https://nagios-plugins.org/download/nagios-plugins-$VERSAO_PLUGINS.tar.gz

<span style="color:#75715e"># Adicionar usuario e grupo</span>
useradd nagios
groupadd nagios
usermod -a -G nagios nagios
usermod -a -G nagios www-data

<span style="color:#75715e"># Compilar Nagios</span>
cd nagios-$VERSAO_NAGIOS
./configure --with-command-group<span style="color:#f92672">=</span>nagios
make all
make install
make install-init
make install-config
make install-commandmode
make install-webconf

<span style="color:#75715e"># Reiniciar apache</span>
echo <span style="color:#e6db74">&#34;Reiniciando Apache&#34;</span>
service apache2 restart

<span style="color:#75715e"># Criar usuario e senha para acessar NAGIOS</span>
echo <span style="color:#e6db74">&#34;Escolha uma senha para o usuário nagiosadmin.&#34;</span>
htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin

<span style="color:#75715e"># Compilar plugins</span>
cd ..
cd nagios-plugins-$VERSAO_PLUGINS
./configure --with-nagios-user<span style="color:#f92672">=</span>nagios --with-nagios-group<span style="color:#f92672">=</span>nagios
make
make install

<span style="color:#75715e"># Habilitar CGI no apache</span>
cp -r /etc/apache2/mods-available/cgi.load /etc/apache2/mods-enable/
service apache2 reload

<span style="color:#75715e"># Verificar configuracao</span>
/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg

<span style="color:#75715e"># Iniciar instancia</span>
/usr/local/nagios/bin/nagios -d /usr/local/nagios/etc/nagios.cfg
</code></pre></div>]]></content></item><item><title>Emmi Linux - Uma distribuição pequena e leve</title><link>https://sidneiweber.com.br/emmi-linux-uma-distribuicao-pequena-e-leve/</link><pubDate>Fri, 24 Mar 2017 13:34:39 -0300</pubDate><guid>https://sidneiweber.com.br/emmi-linux-uma-distribuicao-pequena-e-leve/</guid><description>Hoje vou falar um pouco sobre essa distribuição que conheci e acabei me envolvendo no projeto: Emmi Linux. Bom segue palavras do próprio autor do projeto, Jefferson Rocha:
Assim como Debian todas versões serão LTS, com suporte ativo por 5 anos.
Leve, um computador de 1 GB de ram vai rodar muito bem a Emmi, então aquele computador de 2007 vai ser ressucitado e vai ter um novo folego!</description><content type="html"><![CDATA[<p>Hoje vou falar um pouco sobre essa distribuição que conheci e acabei me envolvendo no projeto: <strong>Emmi Linux.</strong> Bom segue palavras do próprio autor do projeto, Jefferson Rocha:</p>
<blockquote>
<p>Assim como Debian todas versões serão LTS, com suporte ativo por 5 anos.</p>
<p>Leve, um computador de 1 GB de ram vai rodar muito bem a Emmi, então aquele computador de 2007 vai ser ressucitado e vai ter um novo folego!<br>
O tamanho da iso é muito importante para nós, com apenas 700 mb, o que para as distros de hoje é dificil achar uma iso com este tamanho.</p>
<p>Ambiente totalmente moderno e leve com XFCE.<br>
Não vamos de maneira alguma empurrar pacotes pré instalados, a distribuição vem com a base e alguns utilitarios, o resto o usuário pode moldar como querer do seu jeito, esse é o foco da distro, ou seja sabe aquela porrada de programas muitas vezes que não usamos nem uma parte que vem junto com algumas distribuições? na Emmi não vem.<br>
Boot e poweroff, incrivelmente rápido.</p>
<p>Assim como Debian não incentivamos os usuários a instalar pacotes fora do repositorio, ppa? muito menos.<br>
Pacotes que não tem no Debian nos vamos testar, empacotar e disponibilizar em nosso repositorio. (não temos ainda um repositorio proprio, mas está nos planos já.)</p>
<p>Agora falando em facilidade para usuários novos e leigos, a distribuição tem tudo para ser até mais fácil que o Linux mint, o plano é esse.</p>
<p>Bom de resto é testando para você ver.</p>
<p>Basicamente é isso, nossa proposta é diferente, com tempo tudo se acerta.</p>
</blockquote>
<p><img src="http://static.efetividade.net/img/emmi2-650px-56809.jpg" alt="emmi ><"></p>
<p>Realmente o sistema está muito bonito e fluído, vale a pena testar. Em breve postarei um review sobre a distro com mais detalhes.</p>
<p>Link para site: <a href="http://emmios.com.br">Emmi Linux</a></p>
]]></content></item><item><title>Knock SSH - Adicionando uma camada extra de segurança no servidor</title><link>https://sidneiweber.com.br/knock-ssh-adicionando-uma-camada-extra-de-seguranca-no-servidor/</link><pubDate>Tue, 21 Mar 2017 16:03:09 -0300</pubDate><guid>https://sidneiweber.com.br/knock-ssh-adicionando-uma-camada-extra-de-seguranca-no-servidor/</guid><description>Hoje vamos falar do Knock, uma ferramenta muito interessante para quem precisar acessar seus servidores remotamente. Bom o que o Knock faz, ele adiciona essa camada a mais da seguinte forma, por exemplo se acessamos nosso servidor pela porta 22 do ssh ela deveria estar liberada. Porém com Knock ela pode estar bloqueada, você acertando uma sequência específica de portas ele irá liberar a porta 22, e somente se acertar a sequencia definida.</description><content type="html"><![CDATA[<p>Hoje vamos falar do <strong>Knock,</strong> uma ferramenta muito interessante para quem precisar acessar seus servidores remotamente. Bom o que o Knock faz, ele adiciona essa camada a mais da seguinte forma, por exemplo se acessamos nosso servidor pela porta 22 do ssh ela deveria estar liberada. Porém com Knock ela pode estar bloqueada, você acertando uma sequência específica de portas ele irá liberar a porta 22, e somente se acertar a sequencia definida.</p>
<h3 id="no-servidor">No servidor</h3>
<p>Precisamos instalar somente um pacote em nosso servidor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apt-get install knockd
</code></pre></div><p>O arquivo de configuração fica no <strong><em>/etc/knockd.conf.</em></strong> Eis a configuração padrão que veio no Debian.</p>
<p><img src="/img/uploads/2017/03/Selecao_007.png" alt="ssh ><"></p>
<p>Eu alterei para a configuração ficar como no exemplo abaixo, sempre colocando a regra de ACCEPT na primeira linha, pois caso tenha sido bloqueada e seja adiciona no final do arquivo a regra não funcionará.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>options<span style="color:#f92672">]</span>
        UseSyslog

<span style="color:#f92672">[</span>openSSH<span style="color:#f92672">]</span>
        sequence    <span style="color:#f92672">=</span> 7000,8000,9000
        seq_timeout <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
        command     <span style="color:#f92672">=</span> /sbin/iptables -I INPUT <span style="color:#ae81ff">1</span> -s %IP% -p tcp --dport <span style="color:#ae81ff">22</span> -j ACCEPT
        tcpflags    <span style="color:#f92672">=</span> syn

<span style="color:#f92672">[</span>closeSSH<span style="color:#f92672">]</span>
        sequence    <span style="color:#f92672">=</span> 9000,8000,7000
        seq_timeout <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
        command     <span style="color:#f92672">=</span> /sbin/iptables -D INPUT -s %IP% -p tcp --dport <span style="color:#ae81ff">22</span> -j ACCEPT
        tcpflags    <span style="color:#f92672">=</span> syn
</code></pre></div><p>Após editaremos o arquivo <strong><em>/etc/default/knockd</em></strong> para especificar nossa placa de rede:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">START_KNOCKD<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
KNOCKD_OPTS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-i enp0s3&#34;</span>
</code></pre></div><p>Feito a configuração reiniciaremos o serviço:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/etc/init.d/knockd restart
</code></pre></div><p>Caso não tenha a porta 22 fechada, vamos fecha-lá. Lembrando que isso deve estar no script firewall do seu servidor.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT -p tcp --dport <span style="color:#ae81ff">22</span> -j DROP
</code></pre></div><h3 id="no-cliente">No cliente</h3>
<p>No cliente instalaremos o mesmo utilitário, porém sem precisar fazer as configurações feitas anteriormente.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">aptitude install knockd
</code></pre></div><p>Agora vamos bater nas portas em sequência conforme configurado no nosso servidor (7000, 8000, 9000)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">knock 10.0.0.106 7000:tcp 8000:tcp 9000:tcp
</code></pre></div><p>Com as batidas corretamente executadas, podemos verificar o log do nosso servidor e veremos que o foi passado por 3 estágios e após os mesmos estarem corretos, nosso porta 22 foi liberada pelo firewall</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-s" data-lang="s">Mar <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">15</span><span style="color:#f92672">:</span><span style="color:#ae81ff">49</span><span style="color:#f92672">:</span><span style="color:#ae81ff">21</span> server knockd<span style="color:#f92672">:</span> starting up, listening on enp0s3
Mar <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">15</span><span style="color:#f92672">:</span><span style="color:#ae81ff">49</span><span style="color:#f92672">:</span><span style="color:#ae81ff">26</span> server knockd<span style="color:#f92672">:</span> <span style="color:#ae81ff">10.0.0.103</span><span style="color:#f92672">:</span> openSSH<span style="color:#f92672">:</span> Stage <span style="color:#ae81ff">1</span>
Mar <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">15</span><span style="color:#f92672">:</span><span style="color:#ae81ff">49</span><span style="color:#f92672">:</span><span style="color:#ae81ff">26</span> server knockd<span style="color:#f92672">:</span> <span style="color:#ae81ff">10.0.0.103</span><span style="color:#f92672">:</span> openSSH<span style="color:#f92672">:</span> Stage <span style="color:#ae81ff">2</span>
Mar <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">15</span><span style="color:#f92672">:</span><span style="color:#ae81ff">49</span><span style="color:#f92672">:</span><span style="color:#ae81ff">26</span> server knockd<span style="color:#f92672">:</span> <span style="color:#ae81ff">10.0.0.103</span><span style="color:#f92672">:</span> openSSH<span style="color:#f92672">:</span> Stage <span style="color:#ae81ff">3</span>
Mar <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">15</span><span style="color:#f92672">:</span><span style="color:#ae81ff">49</span><span style="color:#f92672">:</span><span style="color:#ae81ff">26</span> server knockd<span style="color:#f92672">:</span> <span style="color:#ae81ff">10.0.0.103</span><span style="color:#f92672">:</span> openSSH<span style="color:#f92672">:</span> OPEN SESAME
Mar <span style="color:#ae81ff">21</span> <span style="color:#ae81ff">15</span><span style="color:#f92672">:</span><span style="color:#ae81ff">49</span><span style="color:#f92672">:</span><span style="color:#ae81ff">26</span> server knockd<span style="color:#f92672">:</span> openSSH<span style="color:#f92672">:</span> running command<span style="color:#f92672">:</span> <span style="color:#f92672">/</span>sbin<span style="color:#f92672">/</span>iptables <span style="color:#f92672">-</span>I INPUT <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span>s <span style="color:#ae81ff">10.0.0.103</span> <span style="color:#f92672">-</span>p tcp <span style="color:#f92672">--</span>dport <span style="color:#ae81ff">22</span> <span style="color:#f92672">-</span>j ACCEPT
</code></pre></div><p>E assim podemos conectar normalmente sem bloqueio nenhum.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ssh sidnei@10.0.0.106
sidnei@10.0.0.106<span style="color:#960050;background-color:#1e0010">&#39;</span>s password:
</code></pre></div><h3 id="fechando-a-porta">Fechando a porta</h3>
<p>Depois de fazer tudo que era necessário podemos fechar a porta novamente, acertando a sequência de fechamento que também é incluida no nosso arquivo de configuração do servidor.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">knock 10.0.0.106 9000:tcp 8000:tcp 7000:tcp
</code></pre></div><p>E a porta será fechada novamente conforme o log nos informa:</p>
<pre><code>Mar 21 15:58:27 server knockd: 10.0.0.103: closeSSH: Stage 1
Mar 21 15:58:27 server knockd: 10.0.0.103: closeSSH: Stage 2
Mar 21 15:58:27 server knockd: 10.0.0.103: closeSSH: Stage 3
Mar 21 15:58:27 server knockd: 10.0.0.103: closeSSH: OPEN SESAME
Mar 21 15:58:27 server knockd: closeSSH: running command: /sbin/iptables -D INPUT -s 10.0.0.103 -p tcp --dport 22 -j ACCEPT
</code></pre><p>E era isso, acredito que seja uma camada bem interessante para nossos servidores e o mais importante, não colocando portas padrões na configuração, será muito mais dificil acertar a sequência para poder liberar o ssh.</p>
<p><a href="https://www.vivaolinux.com.br/artigo/KNOCK-+-SSH?pagina=1">Fonte</a></p>
<p>Um forte abraço</p>
]]></content></item><item><title>Instalando servidor DHCP</title><link>https://sidneiweber.com.br/instalando-servidor-dhcp/</link><pubDate>Mon, 06 Mar 2017 14:55:51 -0300</pubDate><guid>https://sidneiweber.com.br/instalando-servidor-dhcp/</guid><description>Definição: Resumidamente, o DHCP opera da seguinte forma:
Um cliente envia um pacote UDP em broadcast (destinado a todas as máquinas) com uma requisição DHCP (para a porta 67); Os servidores DHCP que capturarem este pacote irão responder (se o cliente se enquadrar numa série de critérios — ver abaixo) para a porta 68 do Host solicitante com um pacote com configurações onde constará, pelo menos, um endereço IP, uma máscara de rede e outros dados opcionais, como o gateway, servidores de DNS, etc… Fonte: Wikipedia</description><content type="html"><![CDATA[<h3 id="definição">Definição:</h3>
<p>Resumidamente, o DHCP opera da seguinte forma:</p>
<ul>
<li>Um cliente envia um pacote UDP em <em>broadcast</em> (destinado a todas as máquinas) com uma requisição DHCP (para a porta 67);</li>
<li>Os servidores DHCP que capturarem este pacote irão responder (se o cliente se enquadrar numa série de critérios — ver abaixo) para a porta 68 do <em>Host</em> solicitante com um pacote com configurações onde constará, pelo menos, um endereço IP, uma máscara de rede e outros dados opcionais, como o gateway, servidores de DNS, etc…</li>
</ul>
<p>Fonte: <a href="https://pt.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol">Wikipedia</a></p>
<p>Esse seria o desenho dos envios de pacotes de um cliente para um servidor DHCP.<!-- raw HTML omitted --></p>
<p><img src="/img/uploads/2017/03/dhcp.jpg" alt="dhcp ><"></p>
<h3 id="instalação">Instalação:</h3>
<p>Iremos fazer a instalação do nosso servidor no Debian. Para tal operação iremos instalar o pacote <strong>isc-dhcp-server,</strong> que substituiu o pacote dhcp-server3.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apt-get install isc-dhcp-server
</code></pre></div><h3 id="configurando">Configurando:</h3>
<p>Primeiramente editaremos o arquivo: <strong>/etc/default/isc-dhcp-server</strong> e colocaremos a placa de rede interna na configuração:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># On what interfaces should the DHCP server (dhcpd) serve DHCP requests?</span>
<span style="color:#75715e">#       Separate multiple interfaces with spaces, e.g. &#34;eth0 eth1&#34;.</span>
INTERFACESv4<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;enp0s8&#34;</span>
</code></pre></div><p>A configuração básica para o funcionamento é tão simples quanto a instalação. Editaremos o arquivo <strong>/etc/dhcp/dhcpd.conf</strong>. Acrescentaremos as opções básicas para o funcionamento.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">subnet 10.0.0.0 netmask 255.255.255.0 <span style="color:#f92672">{</span>
        range 10.0.0.100 10.0.0.120;
        option routers 10.0.0.1;
        option domain-name-servers 8.8.8.8;
        option broadcast-address 10.0.0.255;
<span style="color:#f92672">}</span>
</code></pre></div><p>Explicando:</p>
<p><strong>Subnet</strong>: Iniciaremos uma sub-rede para ceder IP&rsquo;s.<br>
<strong>Range</strong>: A faixa de IP&rsquo;s que será distribuida.<br>
<strong>Option Routers</strong>: Configura a rota padrão.<br>
<strong>Option domain-name-servers</strong>: Configura os servidores DNS.<strong>Option broadcast-address</strong>: Indica o fim da sub-rede.</p>
<p>Alguns outros parâmetros básicos que já vem no arquivo por padrão:</p>
<p><strong>Option domain-name:</strong> domínio.</p>
<p><strong>Default-lease-time:</strong> Tempo que o servidor verifica se o IP ainda está em uso.</p>
<p><strong>Max-lease-time:</strong> Tempo máximo de um IP.</p>
<p>Agora é só salvar o arquivo que editamos e reiniciar o serviço:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/etc/init.d/isc-dhcp-server restart
</code></pre></div><p>Pronto teremos um servidor DHCP dando IP para a nossa rede. Ainda temos algumas opções criar duas redes distintas dentro do mesmo servidor, atrelar IP&rsquo;s ao Mac Address, negar máquinas que não estejam cadastradas no servidor DHCP, enfim, inúmeros recursos que estudaremos mais adiante.</p>
<p>Obrigado e até a próxima.</p>
]]></content></item><item><title>Introdução Firewall Iptables - Começando</title><link>https://sidneiweber.com.br/introducao-firewall-iptables-comecando/</link><pubDate>Wed, 15 Feb 2017 10:44:41 -0300</pubDate><guid>https://sidneiweber.com.br/introducao-firewall-iptables-comecando/</guid><description>Conceito de Firewall: O firewall é usado basicamente como um meio de proteção. Dividindo a rede que se pretende deixar segura da rede não segura.
Geralmente um firewall é instalado na borta da rede, sendo a entrada e saida dos pacotes da mesma, fazendo a leitura de cada pacote e fazendo o controle do que pode passar para rede interna, ou dando o redirecinamento correto, servindo de filtro.
O iptables é a ferramenta de firewall a nivel de pacotes do linux desde o kernel 2.</description><content type="html"><![CDATA[<h3 id="conceito-de-firewall">Conceito de Firewall:</h3>
<p>O firewall é usado basicamente como um meio de proteção. Dividindo a rede que se pretende deixar segura da rede não segura.<br>
Geralmente um firewall é instalado na borta da rede, sendo a entrada e saida dos pacotes da mesma, fazendo a leitura de cada pacote e fazendo o controle do que pode passar para rede interna, ou dando o  redirecinamento correto, servindo de filtro.</p>
<p><img src="/img/uploads/2017/02/firewall1.png" alt="iptables"></p>
<p>O iptables é a ferramenta de firewall a nivel de pacotes do linux desde o kernel 2.4 substituindo o ipchains.<br>
Ele se baseia nas regras e parametros passados para fazer a filtragem dos pacotes, ou seja, compara as regras com os pacotes.</p>
<p>Para termos uma segurança maior, incluindo um controle de navegação na rede interna, uma dupla muito usada e que combina muito bem, é a dupla Iptables + Squid. Squid é um proxy de navegação, mas essa solução falaremos em outra oportunidade</p>
<h3 id="tabelas">Tabelas:</h3>
<p>Tabelas são os locais usados para armazenar as chains e conjunto de regras com uma determinada característica em comum. As tabelas podem ser referenciadas com a opção -t tabela e existem basicamente 4 tabelas disponíveis no iptables:<br>
<strong>Tabela FILTER</strong>: possui cadeias INPUT, OUTPUT, FORWARD<br>
<strong>Tabela NAT</strong>: possui cadeias PREROUTING, OUTPUT, POSTROUTING<br>
<strong>Tabela MANGLE</strong>: cadeias PREROUTING, OUTPUT, POSTROUTING, INPUT, FORWARD<br>
<strong>Tabela RAW</strong>: cadeias PREROUTING, OUTPUT</p>
<h3 id="o-que-são-chains">O que são chains?</h3>
<p>As Chains são locais onde as regras do firewall definidas pelo usuário são armazenadas para operação do firewall.</p>
<p><strong>INPUT</strong>: aplica regra aos pacotes que chegam ao servidor</p>
<p><strong>OUTPUT</strong>: aplica regras aos pacotes de rede originados e que partem do servidor</p>
<p><strong>FORWARD</strong>: aplica regras aos pacotes de rede roteados atraves do servidor (para outro servidor ou outra interface do mesmo servidor)</p>
<p><strong>PREROUTING</strong>: altera pacotes de rede na hora que chegam e antes do roteamento</p>
<p><strong>POSTROUTING</strong>: altera pacotes de rede após o roteamento. Usado para SNAT</p>
<h3 id="politicas-ações-targets">Politicas, ações (targets):</h3>
<p><strong>ACCEPT</strong>: pacote permitido<br>
<strong>DROP</strong>: descartar pacote<br>
<strong>QUEUE</strong>: enviar o pacote ao userspace (codigo fora do kernel)<br>
<strong>RETURN</strong>: descontinuar o processamento do pacote e aplicar a regra padrao a ele<br>
<strong>REJECT</strong>: Descarta o pacote e envia feedback ao remetente<br>
<strong>DNAT</strong>: Reescreve endereço de destino (NAT)<br>
<strong>SNAT</strong>: Reescreve endereço de origem (NAT)<br>
<strong>LOG</strong>: coloca no log informações sobre o pacte</p>
<h3 id="estrutura-do-comando">Estrutura do comando:</h3>
<h4 id="comando-principal">Comando principal:</h4>
<p>iptables subcomando chain parametro1 valor1 parametron valorn ação</p>
<h4 id="subcomandos">Subcomandos:</h4>
<p>-A cadeia – anexa a regra ao final da cadeia<br>
-L [cadeia] lista as regras da cadeia, ou todas caso a cadeia nao seja especificada<br>
-F [cadeia] apaga todas as regras na cadeia<br>
-N cadeia – Lista todas as regras na cadeia<br>
-P cadeia politica – configura a regra padrão da cadeia<br>
-D cadeia linha – apaga uma regra em um posição na cadeia<br>
-X [cadeia] excluiu uma cadeia vazia<br>
-I cadeia linha – insere uma regra em uma posição na cadeia<br>
-Z zera os contadores para todas as cadeias</p>
<h4 id="parametros-alguns">Parametros, alguns:</h4>
<p>-t tabela (filter é a padrao)<br>
-j ação<br>
-p protocolo (especifica o protocolo, icmp, tcp, udp, all)<br>
-s IP (IP de origem do pacote)<br>
-d IP (IP de destino do pacte)<br>
-i interface (nome da interface de rede de entrada do pacote)<br>
-o interface (nome da interface de rede de saida do pacote)<br>
–sport portas (Portas de origem)<br>
–dport portas (Portas de destino)<br>
–syn (identifica nova requisição de conexao)<br>
–icmp-type (tipo de mensagem icmp)</p>
<h3 id="checagem-de-estado-dos-pacotes-state-match">Checagem de estado dos pacotes (state match):</h3>
<p>-m state –state OPCAO<br>
<strong>NEW</strong> cria uma nova conexao<br>
<strong>ESTABLISHED</strong> pacote que pertence a uma conexao existente<br>
<strong>RELATED</strong> pacote relacionado mas que nao faz parte de uma conexao existente<br>
<strong>INVALID</strong> pacote nao pode ser identificado (ex. falta memoria, erro ICMP de conexao nao conhecida)</p>
<h3 id="extensões">Extensões:</h3>
<p>Extensao TCP<br>
–tcp-flags (ALL, SYN, ACK, FIN, etc)<br>
–source-port ou –sport<br>
–destination-port ou –dport</p>
<p>Extensao UDP<br>
Mesmas opções do TCP</p>
<p>Extensao ICMP<br>
–icmp-type</p>
<p>Outras extensoes<br>
-m limit quando usado em LOG serve para limitar o numero de pacotes escritos durante um certo ponto<br>
–limit valor</p>
<h3 id="arquivos-de-logs-criados-pelo-iptables">Arquivos de logs criados pelo iptables:</h3>
<p>Todo tráfego que for registrado pelo iptables é registrado por padrão no arquivo /var/log/kern.log.</p>
<h3 id="exemplos">Exemplos:</h3>
<p>Exibir todas as regras:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -L -n -v
</code></pre></div><p>Verificar regras (padrão filter –line-numbers (Exibe linhas))</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -L
iptables -S <span style="color:#f92672">(</span>lista comandos <span style="color:#66d9ef">do</span> iptables<span style="color:#f92672">)</span>
</code></pre></div><p>Verificar regras tabela nat</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -t nat -L
</code></pre></div><p>Criando uma regra, DROP em tudo que vai pra porta 123</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptabels -A INPUT -p tcp --dport <span style="color:#ae81ff">123</span> -j DROP
</code></pre></div><p>Inserindo uma regra, -I por padrao insere a regra no final<br>
# indicando a linha ja a regra para a posição referente</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -I INPUT <span style="color:#ae81ff">1</span> -p tcp --sport <span style="color:#ae81ff">321</span> --dport <span style="color:#ae81ff">123</span> -J ACCEPT
</code></pre></div><p>Substituindo uma regra, parametro -R<br>
# Substitui a regra 1 (no caso do nosso exemplo)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -R INPUT <span style="color:#ae81ff">1</span> -p tcp --sport <span style="color:#ae81ff">321</span> --dport <span style="color:#ae81ff">123</span> -J ACCEPT
</code></pre></div><p>Deletar regra, parametro -D<br>
# remove linha 1</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -D INPUT <span style="color:#ae81ff">1</span>
</code></pre></div><p># apagar usando sintaxe, usar mesmo sintaxe com parametro -D</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -D INPUT -p tcp --dport <span style="color:#ae81ff">80</span> -j ACCEPT
</code></pre></div><p>Bloquear porta específica<br>
Sainte:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A OUTPUT -p tcp --dport xxx -j DROP
</code></pre></div><p>Entrante:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT -p tcp --dport xxx -j ACCEPT
</code></pre></div><p>Ou múltiplas portas:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT  -p tcp -m multiport --dports 22,80,443 -j ACCEPT
iptables -A OUTPUT -p tcp -m multiport --sports 22,80,443 -j ACCEPT
</code></pre></div><p>Manter registros de Log’s de pacotes bloqueados:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT -i eth0 -j LOG --log-prefix <span style="color:#e6db74">&#34;Quantidade pacotes bloqueados:&#34;</span>
iptables -A INPUT -p tcp -dport <span style="color:#ae81ff">21</span> -j LOG -log-prefix “Serviço: ftp”
</code></pre></div><p>Os log’s são salvos em /var/log/messages.</p>
<p>Compartilhar internet, parametro ip_forward precisa ser 1, geralemte altera-se no arquivo “/proc/sys/net/ipv4/ip_forward”. Lembrando que a mudança não é permanente, a cada reinicialização deve-se alterar o parâmetro novamente ou quando criar um sript de firewall incluir o comando para alterar o arquivo com o cat.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT -m state --state RELATED.ESTABLISHED -j ACCEPT
iptables -A FORWARD -m state --state RELATED.ESTABLISHED -j ACCEPT
</code></pre></div><p>Ip Masquarade</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
</code></pre></div><p>Encaminhamento de portas (Ip forwarding)<br>
Tentando acessar pela interface wan</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A PREROUTING -t nat -i eth0 -p tcp --dport <span style="color:#ae81ff">80</span> -j DNAT --to 192.168.10.10:80
iptables -A FORWARD -p tcp -d 192.168.10.10 --dport <span style="color:#ae81ff">80</span> -j ACCPET
</code></pre></div><p>Reject<br>
Descarta pacote e envia um retorno a quem enviou o pacote.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT -s 192.168.10.2 -j REJECT --reject-with icmp-net-unreachable
iptables -A INPUT -s 192.168.10.2 -j REJECT --reject-with icmp-host-unreachable
iptables -A INPUT -s 192.168.10.2 -j REJECT --reject-with icmp-proto-unreachable
</code></pre></div><p>entre outras opções do –reject-with</p>
<p>Criar chain</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -t filter -N <span style="color:#f92672">[</span>chain<span style="color:#f92672">]</span>
</code></pre></div><p>Limpar regras</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -t filter -F <span style="color:#f92672">[</span>CHAIN<span style="color:#f92672">]</span>
</code></pre></div><p>remover  Chain criada pelo usuario, parametro -X<br>
zerar contador, parametro -Z</p>
<p>Alterar regra padrão, o ideal INPUT ser drop por padrão</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -P INPUT DROP
</code></pre></div><p>Liberar servidor web</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT -m state --state new -p tcp --dport <span style="color:#ae81ff">80</span> -j ACCEPT
iptables -A INPUT -m state --state new -p tcp --dport <span style="color:#ae81ff">443</span> -j ACCEPT
</code></pre></div><p>Liberar host especifico</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptabels -A INPUT -s 192.168.1.20 -j ACCEPT
</code></pre></div><p>Liberar ping (resposta liberada se output esta ACCEPT tbm)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPT
</code></pre></div><p>Liberar respostas de ping para outras maquinas</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A INPUT -p icmp --icmp-type echo-reply -j ACCEPT
</code></pre></div><p>Proteção contra Syn-flood:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A FORWARD -p tcp --syn -m limit --limit 1/s -j ACCEPT
</code></pre></div><p>Port scanner suspeito:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A FORWARD -p tcp --tcp-flags SYN,ACK,FIN,RST RST -m limit --limit 1/s -j ACCEPT
</code></pre></div><p>Ping da morte:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -A FORWARD -p icmp --icmp-type echo-request -m limit --limit 1/s -j ACCEPT
</code></pre></div><p>Salvando e restaurando as regras:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables-save &gt; arquivo
iptables-restore &lt; arquivo
</code></pre></div>]]></content></item><item><title>Criar script inicialização Nagios no Debian</title><link>https://sidneiweber.com.br/criar-script-inicializacao-nagios-no-debian/</link><pubDate>Wed, 08 Feb 2017 14:17:09 -0300</pubDate><guid>https://sidneiweber.com.br/criar-script-inicializacao-nagios-no-debian/</guid><description>Após a instalação e inicialização do Nagios no nosso servidor Debian, temos que configurar um script de inicialização, para que cada vez que a gente precisa reiniciar o serviço ou a própria máquina não precisaremos subir tudo na mão.
A primeira coisa é deletar o script já existente, lembrando que esse tutorial é válido para o Debian.
rm -rf /etc/init.d/nagios Copiar um esqueleto do sistema:
cp /etc/init.d/skeleton /etc/init.d/nagios Vamos editar o arquivo /etc/init.</description><content type="html"><![CDATA[<p>Após a instalação e inicialização do Nagios no nosso servidor Debian, temos que configurar um script de inicialização, para que cada vez que a gente precisa reiniciar o serviço ou a própria máquina não precisaremos subir tudo na mão.</p>
<p>A primeira coisa é deletar o script já existente, lembrando que esse tutorial é válido para o Debian.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">rm -rf /etc/init.d/nagios
</code></pre></div><p>Copiar um esqueleto do sistema:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cp /etc/init.d/skeleton /etc/init.d/nagios
</code></pre></div><p>Vamos editar o arquivo /etc/init.d/nagios e colocar o seguinte conteúdo. Lembrando de remover ou comentar as duas linhas existentes no final do arquivo.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># DESC=&#34;Description of the service&#34;</span>
<span style="color:#75715e"># DAEMON=/usr/sbin/daemonexecutablename</span>

DESC<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Nagios&#34;</span>
NAME<span style="color:#f92672">=</span>nagios
DAEMON<span style="color:#f92672">=</span>/usr/local/nagios/bin/$NAME
DAEMON_ARGS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-d /usr/local/nagios/etc/nagios.cfg&#34;</span>
PROFILE<span style="color:#f92672">=</span>/usr/local/nagios/var/$NAME.lock
</code></pre></div><p>Dar as permissões para execução:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chmod <span style="color:#ae81ff">755</span> nagios
</code></pre></div><p>E inicializar o serviço para subir junto com o sistema, quando o servidor for ligado:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">update-rc.d nagios defaults
</code></pre></div><p>Agora temos todas as opções disponíveis:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/etc/init.d/nagios
Usage: /etc/init.d/nagios <span style="color:#f92672">{</span>start|stop|status|restart|try-restart|force-reload<span style="color:#f92672">}</span>
</code></pre></div><p>Forte abraço e até a próxima.</p>
]]></content></item><item><title>Alterando hostname sem reiniciar computador</title><link>https://sidneiweber.com.br/alterando-hostname-sem-reiniciar-computador/</link><pubDate>Fri, 03 Feb 2017 14:15:55 -0300</pubDate><guid>https://sidneiweber.com.br/alterando-hostname-sem-reiniciar-computador/</guid><description>Para podermos alterar o nome da máquina sem precisar reiniciar é muito simples. Primeiramente precisamos alterar o arquivo /etc/hostname. Mas após a alteração notamos que o nome não muda, mesmo dando o comando hostname, o nome continua o antigo. Para essa alteração valer sem precisar reiniciar, pois as vezes pode se tratar de um servidor que não pode parar no momento, basta digitar o comando abaixo:
echo &amp;#34;novo-hostname&amp;#34; &amp;gt; /proc/sys/kernel/hostname Pronto, problema resolvido.</description><content type="html"><![CDATA[<p>Para podermos alterar o nome da máquina sem precisar reiniciar é muito simples. Primeiramente precisamos alterar o arquivo /etc/hostname. Mas após a alteração notamos que o nome não muda, mesmo dando o comando hostname, o nome continua o antigo. Para essa alteração valer sem precisar reiniciar, pois as vezes pode se tratar de um servidor que não pode parar no momento, basta digitar o comando abaixo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">echo <span style="color:#e6db74">&#34;novo-hostname&#34;</span> &gt; /proc/sys/kernel/hostname
</code></pre></div><p>Pronto, problema resolvido.</p>
<p><a href="https://www.vivaolinux.com.br/dica/Debian-Wheezy-Alterando-hostname-sem-reiniciar">Fonte</a></p>
]]></content></item><item><title>Instalando Nagios - Instalação básica</title><link>https://sidneiweber.com.br/instalando-nagios-instalacao-basica/</link><pubDate>Tue, 31 Jan 2017 13:11:40 -0300</pubDate><guid>https://sidneiweber.com.br/instalando-nagios-instalacao-basica/</guid><description>Vamos fazer a instalação básica do Nagios. Pra quem não conhece o Nagios, segue um link para conhecer melhor.
Nagios é uma popular aplicação de monitoramento de rede de código aberto distribuída sob a licença GPL. Ele pode monitorar tanto hosts quanto serviços, alertando quando ocorrerem problemas e também quando os problemas são resolvidos.
Faremos a instalação no Debian, que é uma distribuição de minha preferência. O Nagios pode ser instalado em qualquer sistema Linux, a única diferença que pode ocorrer é a instalação de dependências e/ou alguma localização de pastas</description><content type="html"><![CDATA[<p>Vamos fazer a instalação básica do Nagios. Pra quem não conhece o Nagios, segue um <a href="https://pt.wikipedia.org/wiki/Nagios">link para conhecer melhor</a>.</p>
<blockquote>
<p><strong>Nagios</strong> é uma popular aplicação de monitoramento de rede de <a href="https://pt.wikipedia.org/wiki/C%C3%B3digo_aberto" title="Código aberto">código aberto</a> distribuída sob a licença <a href="https://pt.wikipedia.org/wiki/GNU_General_Public_License" title="GNU General Public License">GPL</a>. Ele pode monitorar tanto hosts quanto serviços, alertando quando ocorrerem problemas e também quando os problemas são resolvidos.</p>
</blockquote>
<p>Faremos a instalação no Debian, que é uma distribuição de minha preferência. O Nagios pode ser instalado em qualquer sistema Linux, a única diferença que pode ocorrer é a instalação de dependências e/ou alguma localização de pastas</p>
<h3 id="instalação-das-dependências">Instalação das dependências</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-get install wget build-essential apache2 php-gd libgdchart-gd2-xpm libgdchart-gd2-xpm-dev libapache2-mod-php
</code></pre></div><h3 id="baixando-nagios">Baixando Nagios</h3>
<p>Baixaremos a última versão dos pacotes Nagios Core e Nagios Core Plugins pelo site <a href="https://www.nagios.org/downloads/">https://www.nagios.org/downloads/</a>. Ou diretamente pelos links abaixo:</p>
<p><a href="https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.2.4.tar.gz#_ga=1.92809877.98229964.1480095349">Nagios Core</a></p>
<p><a href="https://nagios-plugins.org/download/nagios-plugins-2.1.4.tar.gz#_ga=1.114959247.98229964.1480095349">Nagios Plugins</a></p>
<h3 id="extraindo-pacotes">Extraindo Pacotes</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">tar -xzvf nagios-4.2.4.tar.gz
tar -xzvf nagios-plugins-2.1.4.tar.gz
</code></pre></div><h3 id="adicionar-usuário-nagios">Adicionar usuário Nagios</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">useradd nagios
groupadd nagios
usermod -a -G nagios nagios
usermod -a -G nagios www-data
</code></pre></div><h3 id="instalação">Instalação</h3>
<h4 id="compilando-nagios">Compilando Nagios</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd nagios-4.2.4
./configure --with-command-group<span style="color:#f92672">=</span>nagios

make all
make install
make install-init
make install-config
make install-commandmode
make install-webconf
</code></pre></div><p>Reiniciando o apache</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">service apache2 restart
</code></pre></div><h4 id="criando-usuário-e-senha-do-nagios">Criando usuário e senha do Nagios</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin
</code></pre></div><h4 id="compilando-os-plugins">Compilando os plugins</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd ..
cd nagios-plugins-2.1.4
./configure --with-nagios-user<span style="color:#f92672">=</span>nagios --with-nagios-group<span style="color:#f92672">=</span>nagios
make
make install
</code></pre></div><p>Habilitar CGI no apache</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cp /etc/apache2/mods-available/cgi.load /etc/apache2/mods-enabled/
service apache2 reload
</code></pre></div><p>Antes de fazer qualquer alteração nas configurações, teste se está tudo ok :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
</code></pre></div><p><img src="/img/uploads/2017/01/Selecao_006.png" alt="nagios ><"></p>
<p>Caso não ocorra nenhum erro, podemos iniciar o serviço:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/usr/local/nagios/bin/nagios -d /usr/local/nagios/etc/nagios.cfg
</code></pre></div><p>Basta acessar pelo endereço IP/nagios (ip da máquina na qual foi instalado ou localhost se for local), com usuário nagiosadmin e a senha criada anteriormente. Segue um print do meu nagios com alguns hosts sendo monitorados e com uma interface diferente. Falaremos desses detalhes em outros posts.</p>
<p><img src="/img/uploads/2017/01/Selecao_005.png" alt="nagios ><"></p>
]]></content></item><item><title>Usando o bashrc como uma ferramenta de trabalho</title><link>https://sidneiweber.com.br/usando-o-bashrc-como-uma-ferramenta-de-trabalho/</link><pubDate>Fri, 16 Dec 2016 15:45:29 -0300</pubDate><guid>https://sidneiweber.com.br/usando-o-bashrc-como-uma-ferramenta-de-trabalho/</guid><description>Segue o meu .bashrc com vários atalhos e alterações.
# Cor Verde (Usuario comum) PS1=&amp;#39;${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ &amp;#39; # Cor Vermelha (root) #PS1=&amp;#39;${debian_chroot:+($debian_chroot)}\[\033[1;31m\]\u@\h\[\033[00m\]:\[\033[1;34m\]\w\[\033[00m\]\$ &amp;#39; # Completion if [ -f /etc/bash_completion ]; then . /etc/bash_completion fi # Configurações Historico export HISTIGNORE=&amp;#34;&amp;amp;:ls:[bf]g:exit:reset:clear:cd*&amp;#34; export HISTSIZE=4096 export HISTCONTROL=&amp;#34;ignoreboth:erasedups&amp;#34; shopt -s histreedit; # Mans coloridas export MANPAGER=&amp;#34;/usr/bin/most -s&amp;#34; # Alias alias update=&amp;#39;pacman -Syu&amp;#39; alias ls=&amp;#39;ls --color=auto&amp;#39; alias grep=&amp;#39;grep --color=auto&amp;#39; alias fgrep=&amp;#39;fgrep --color=auto&amp;#39; alias egrep=&amp;#39;egrep --color=auto&amp;#39; # Extração de arquivos # Uso: extrair &amp;lt; arquivo &amp;gt; extrair() { if [ -f $1 ] ; then case $1 in *.</description><content type="html"><![CDATA[<p>Segue o meu .bashrc com vários atalhos e alterações.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># Cor Verde (Usuario comum)</span>
PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ &#39;</span>
<span style="color:#75715e"># Cor Vermelha (root)</span>
<span style="color:#75715e">#PS1=&#39;${debian_chroot:+($debian_chroot)}\[\033[1;31m\]\u@\h\[\033[00m\]:\[\033[1;34m\]\w\[\033[00m\]\$ &#39;</span>

<span style="color:#75715e"># Completion</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /etc/bash_completion <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
    . /etc/bash_completion
<span style="color:#66d9ef">fi</span>

<span style="color:#75715e"># Configurações Historico</span>
export HISTIGNORE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&amp;:ls:[bf]g:exit:reset:clear:cd*&#34;</span>
export HISTSIZE<span style="color:#f92672">=</span><span style="color:#ae81ff">4096</span>
export HISTCONTROL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ignoreboth:erasedups&#34;</span>
shopt -s histreedit;

<span style="color:#75715e"># Mans coloridas</span>
export MANPAGER<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/usr/bin/most -s&#34;</span>

<span style="color:#75715e"># Alias</span>
alias update<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;pacman -Syu&#39;</span>

alias ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls --color=auto&#39;</span>
alias grep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;grep --color=auto&#39;</span>
alias fgrep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fgrep --color=auto&#39;</span>
alias egrep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;egrep --color=auto&#39;</span>

<span style="color:#75715e"># Extração de arquivos</span>
<span style="color:#75715e"># Uso: extrair &lt; arquivo &gt; </span>
extrair<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> 
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f $1 <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
<span style="color:#66d9ef">case</span> $1 in
*.tar.bz2<span style="color:#f92672">)</span> tar xvjf $1 ;; 
*.tar.gz<span style="color:#f92672">)</span> tar xvzf $1 ;; 
*.tar.xz<span style="color:#f92672">)</span> tar xvJf $1 ;; 
*.bz2<span style="color:#f92672">)</span> bunzip2 $1 ;; 
*.rar<span style="color:#f92672">)</span> unrar x $1 ;; 
*.gz<span style="color:#f92672">)</span> gunzip $1 ;; 
*.tar<span style="color:#f92672">)</span> tar xvf $1 ;; 
*.tbz2<span style="color:#f92672">)</span> tar xvjf $1 ;; 
*.tgz<span style="color:#f92672">)</span> tar xvzf $1 ;; 
*.zip<span style="color:#f92672">)</span> unzip $1 ;; 
*.Z<span style="color:#f92672">)</span> uncompress $1 ;; 
*.7z<span style="color:#f92672">)</span> 7z x $1 ;; 
*.xz<span style="color:#f92672">)</span> unxz $1 ;; 
*.exe<span style="color:#f92672">)</span> cabextract $1 ;; 
*<span style="color:#f92672">)</span> echo <span style="color:#e6db74">&#34;\`</span>$1<span style="color:#e6db74">&#39;: unrecognized file compression&#34;</span> ;; 
<span style="color:#66d9ef">esac</span> 
<span style="color:#66d9ef">else</span>
echo <span style="color:#e6db74">&#34;\`</span>$1<span style="color:#e6db74">&#39; is not a valid file&#34;</span>
<span style="color:#66d9ef">fi</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e"># Misc</span>
alias musica<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;mocp -m /media/Documentos/Musica/&#39;</span>

<span style="color:#75715e"># Top 10 ( mostra os 10 comandos mais utilizados ). copyright 2007 - 2010 Christopher Bratusek </span>
<span style="color:#66d9ef">function</span> top10<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> 
history | awk <span style="color:#e6db74">&#39;{a[$2]++ } END{for(i in a){print a[i] &#34; &#34; i}}&#39;</span> | sort -rn | head
<span style="color:#f92672">}</span> 

<span style="color:#75715e"># alisa previsao tempo</span>
alias tempo<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;curl http://wttr.in/sapiranga&#39;</span>
</code></pre></div>]]></content></item><item><title>Comandos de manipulação de permissões no Linux</title><link>https://sidneiweber.com.br/comandos-de-manipulacao-de-permissoes-no-linux/</link><pubDate>Tue, 13 Dec 2016 15:54:07 -0300</pubDate><guid>https://sidneiweber.com.br/comandos-de-manipulacao-de-permissoes-no-linux/</guid><description>Entenda um pouco o sistema de permissões no sistema Linux Pelo fato do Linux ser multiusuário, as permissões deve estar bem alinhadas para que o usuário tenha acesso somente aquilo que é de seu direito, incluindo pastas, arquivos e inclusive periféricos, como impressoras e drivers de CD por exemplo.
A Estrtutura básica das permissões é separada em três classes:
Dono: define as permissões ao dono do arquivo, ou seja, que criou o arquivo.</description><content type="html"><![CDATA[<h2 id="entenda-um-pouco-o-sistema-de-permissões-no-sistema-linux">Entenda um pouco o sistema de permissões no sistema Linux</h2>
<p>Pelo fato do Linux ser multiusuário, as permissões deve estar bem alinhadas para que o usuário tenha acesso somente aquilo que é de seu direito, incluindo pastas, arquivos e inclusive periféricos, como impressoras e drivers de CD por exemplo.<br>
A Estrtutura básica das permissões é separada em três classes:</p>
<ul>
<li>Dono: define as permissões ao dono do arquivo, ou seja, que criou o arquivo.</li>
<li>Grupo: define as permissões para o grupo de usuários ao qual o dono do arquivo pertence.</li>
<li>Outros: define as permissões para os demais usuarios, que não seja o dono ou que faça parte do grupo.</li>
</ul>
<p>Dentro de cada classe citada anteriormente, temos os tipos de acesso:</p>
<ul>
<li>Leitura (r): permissão de leitura para arquivos. Caso seja um diretório permite a listagem do seu conteúdo.</li>
<li>Escrita (w): permite a escrita em arquivos ou criação dentro de pastas.</li>
<li>Execução (x): permite a execução de um programa &ldquo;executável&rdquo;.</li>
</ul>
<p>Quando a gente executa um ls -la no terminal, podemos ver como funciona:</p>
<p><img src="/img/uploads/2016/12/Selecao_003.png" alt="ls ><"></p>
<p>No começo de cada linha temos 10 colunas referente as permissões de cada arquivo, onde a primeira coluna identifica o tipo do arquivo, se é um arquivo, um diretório, um link, etc. Após a primeira coluna, temos um conjunto de três colunas para cada classe de permissões, ou seja, do dono, do grupo e outros contando da esquerda para direita.</p>
<h3 id="diferença-de-permissões-entre-arquivos-e-diretórios">Diferença de permissões entre arquivos e diretórios:</h3>
<table>
<thead>
<tr>
<th>Objeto</th>
<th>Leitura (r)</th>
<th>Gravação (w)</th>
<th>Execução (x)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Arquivo</td>
<td>Permite ler o conteúdo do arquivo</td>
<td>Permite alterar o arquivo</td>
<td>Permite executar arquivo como um programa</td>
</tr>
<tr>
<td>Diretório</td>
<td>Permite listar o conteúdo do diretório</td>
<td>Permite criar e apagar arquivos no diretório</td>
<td>Permite ler e gravar arquvos no diretório</td>
</tr>
</tbody>
</table>
<h2 id="lista-de-comandos-para-trabalhar-as-permissões">Lista de comandos para trabalhar as permissões</h2>
<h3 id="chmod">chmod</h3>
<p>Muda as permissões de acesso a um determinado arquivo ou diretório.</p>
<h4 id="sintaxe">Sintaxe</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chmod <span style="color:#f92672">[</span>opções<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>permissões<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>diretório/arquivo<span style="color:#f92672">]</span>
</code></pre></div><h4 id="opções">Opções</h4>
<p><em>-v, &ndash;verbose</em></p>
<p>Mostra todos os arquivos que estão sendo processados.</p>
<p><em>-f, &ndash;silent</em></p>
<p>Não mostra a maior parte das mensagens de erro.</p>
<p><em>-c, &ndash;change</em></p>
<p>Semelhante a opção -v, mas só mostra os arquivos que tiveram as permissões alteradas.</p>
<p><em>-R, &ndash;recursive</em></p>
<p>Muda permissões de acesso do <em>diretório/arquivo</em> no diretório atual e sub-diretórios.</p>
<p>ugoa+-=rwxXst</p>
<ul>
<li><em>ugoa</em> - Indica o nível de acesso será mudado. Especificam, em ordem, usuário (u), grupo (g), outros (o), todos (a).</li>
<li><em>+-=</em> - <em>+</em> adiciona a permissão, <em>–</em> retira a permissão do arquivo e <em>=</em> define a permissão exatamente como especificado.</li>
<li>rwx - <em>r</em> permissão de leitura do arquivo. <em>w</em> permissão de gravação. <em>x</em> permissão de execução (ou acesso a diretórios).</li>
</ul>
<h4 id="exemplos">Exemplos</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chmod o-r teste.txt
<span style="color:#75715e"># Retira (-) a permissão de leitura (r) do arquivo teste.txt para os outros usuários (usuários que não são donos e não pertencem ao grupo do arquivo teste.txt).</span>
chmod a+x teste.txt
<span style="color:#75715e"># Inclui (+) a permissão de execução do arquivo teste.txt para o dono, grupo e outros usuários.</span>
chmod <span style="color:#ae81ff">777</span> teste.txt
<span style="color:#75715e"># Coloca permissão total de escrita, leitura e execução no arquivo teste.txt para todos usuários</span>
</code></pre></div><p><img src="/img/uploads/2016/12/Selecao_004.png" alt="chmod ><"></p>
<h3 id="chgrp">chgrp</h3>
<p>Muda o grupo de um arquivo ou diretório</p>
<h4 id="sintaxe-1">Sintaxe</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chgrp <span style="color:#f92672">[</span>opções<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>grupo<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>arquivo/diretório<span style="color:#f92672">]</span>
</code></pre></div><h4 id="opções-1">Opções</h4>
<p><em>-v, &ndash;verbose</em></p>
<p>Mostra todas as mensagens e arquivos sendo modificados.</p>
<p><em>-R, &ndash;recursive</em></p>
<p>Altera os grupos de arquivos/sub-diretórios do diretório atual.</p>
<h3 id="chown">chown</h3>
<p>Altera dono de um arquivo ou diretório. Pode também ser usado para mudar o grupo</p>
<h4 id="sintaxe-2">Sintaxe</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chown <span style="color:#f92672">[</span>opções<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>dono.grupo<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>diretório/arquivo<span style="color:#f92672">]</span>
</code></pre></div><h4 id="opções-2">Opções</h4>
<p><em>-v, &ndash;verbose</em></p>
<p>Mostra os arquivos enquanto são alterados.</p>
<p><em>-R, &ndash;recursive</em></p>
<p>Altera dono e grupo de arquivos no diretório atual e sub-diretórios.</p>
<h4 id="exemplos-1">Exemplos</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chown sidnei teste.txt
<span style="color:#75715e"># Muda o dono do arquivo teste.txt para sidnei.</span>

chown sidnei.admin teste.txt
<span style="color:#75715e"># Muda o dono do arquivo teste.txt para sidnei e seu grupo para admin.</span>
</code></pre></div><h3 id="umask">umask</h3>
<p>O comando umask define as permissões iniciais quando um arquivo ou diretório for criado. Digitando <em>umask</em> sem nenhum parâmetro podemos visualizar nosso umask atual. O umask cria permissão diferente caso o arquivo seja um executável e se for um arquivo texto. Veja a tabela a seguir:</p>
<pre><code> ---------------------------------------------
 |       |        ARQUIVO       | DIRETÓRIO  |
 | UMASK |----------------------|            |
 |       |   Binário  |  Texto  |            |
 |------------------------------|------------|
 |   0   |    r-x     |   rw-   |    rwx     |
 |   1   |    r--     |   rw-   |    rw-     |
 |   2   |    r-x     |   r--   |    r-x     |
 |   3   |    r--     |   r--   |    r--     |
 |   4   |    --x     |   -w-   |    -wx     |
 |   5   |    ---     |   -w-   |    -w-     |
 |   6   |    --x     |   ---   |    --x     |
 |   7   |    ---     |   ---   |    ---     |
 ---------------------------------------------
</code></pre>
<p>Caso seu umask seja 022, os arquivos de texto será criados por padrão com permissão 644, ou seja, rw- para o dono, r&ndash; para o grupo e r&ndash; para outros. Para que alterar o umask, geralmente deve-se alterar seu valor no arquivo <strong>/etc/profile</strong>.</p>
]]></content></item><item><title>[Dica rápida] Meus 10 comandos mais rodados no linux</title><link>https://sidneiweber.com.br/dica-rapida-meus-10-comandos-mais-rodados-no-linux/</link><pubDate>Mon, 28 Nov 2016 15:39:52 -0300</pubDate><guid>https://sidneiweber.com.br/dica-rapida-meus-10-comandos-mais-rodados-no-linux/</guid><description>Com este comando podemos conferir quais os 10 comandos mais rodados em nossa máquina:
history|awk &amp;#39;{print $2}&amp;#39;|awk &amp;#39;BEGIN {FS=&amp;#34;|&amp;#34;} {print $1}&amp;#39;|sort|uniq -c|sort -rn|head -10 Meu resultado foi:
history|awk &amp;#39;{print $2}&amp;#39;|awk &amp;#39;BEGIN {FS=&amp;#34;|&amp;#34;} {print $1}&amp;#39;|sort|uniq -c|sort -rn|head -10 248 sudo 148 vi 101 sh 49 ping 49 ls 40 systemctl 38 ifconfig 38 htop 31 ps 26 du sidnei@black:~$</description><content type="html"><![CDATA[<p>Com este comando podemos conferir quais os 10 comandos mais rodados em nossa máquina:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">history|awk <span style="color:#e6db74">&#39;{print $2}&#39;</span>|awk <span style="color:#e6db74">&#39;BEGIN {FS=&#34;|&#34;} {print $1}&#39;</span>|sort|uniq -c|sort -rn|head -10
</code></pre></div><p>Meu resultado foi:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">history|awk <span style="color:#e6db74">&#39;{print $2}&#39;</span>|awk <span style="color:#e6db74">&#39;BEGIN {FS=&#34;|&#34;} {print $1}&#39;</span>|sort|uniq -c|sort -rn|head -10
    <span style="color:#ae81ff">248</span> sudo
    <span style="color:#ae81ff">148</span> vi
    <span style="color:#ae81ff">101</span> sh
     <span style="color:#ae81ff">49</span> ping
     <span style="color:#ae81ff">49</span> ls
     <span style="color:#ae81ff">40</span> systemctl
     <span style="color:#ae81ff">38</span> ifconfig
     <span style="color:#ae81ff">38</span> htop
     <span style="color:#ae81ff">31</span> ps
     <span style="color:#ae81ff">26</span> du
sidnei@black:~$
</code></pre></div>]]></content></item><item><title>Reforçando segurança servidor ssh</title><link>https://sidneiweber.com.br/reforcando-seguranca-servidor-ssh/</link><pubDate>Wed, 23 Nov 2016 10:07:22 -0300</pubDate><guid>https://sidneiweber.com.br/reforcando-seguranca-servidor-ssh/</guid><description>Introdução Nos dias de hoje é de suma importância proteger nossos servidores contra ataques e invasões. Nesse caso especifico do ssh é importante mantê-lo bem seguro pois é a nossa porta de entrada para o servidor, qualquer brecha pode causar uma catástrofe. Não devemos pensar que por ser um servidor de uma pequena empresa ou um servidor VPS que não devemos ter esse cuidado, hoje a informação disponível pode estar valendo muito.</description><content type="html"><![CDATA[<h3 id="introdução">Introdução</h3>
<p>Nos dias de hoje é de suma importância proteger nossos servidores contra ataques e invasões. Nesse caso especifico do ssh é importante mantê-lo bem seguro pois é a nossa porta de entrada para o servidor, qualquer brecha pode causar uma catástrofe. Não devemos pensar que por ser um servidor de uma pequena empresa ou um <a href="https://www.melhorhospedagemdesites.com/servidor-vps/">servidor VPS</a> que não devemos ter esse cuidado, hoje a informação disponível pode estar valendo muito. É uma questão de segurança básica que devemos estar atentos para não termos dores de cabeça e continuar com nossos servidores e serviços intactos.</p>
<h3 id="restrições-de-acesso">Restrições de acesso</h3>
<p>Caso queria restringir acesso somente a grupos ou usuários específicos, acrescentaremos ou editaremos as opções abaixo no arquivo de configuração do servidor ssh, o <strong>/etc/ssh/sshd_config</strong>. O mais correto ainda seria criar um grupo somente para acessos ssh.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">AllowGroups sysadmin suporte
AllowUsers pedro juca
</code></pre></div><p>Podendo usar ou somente restrição por grupo ou somente restrição por usuário.</p>
<h3 id="não-permitir-acesso-direto-como-root">Não permitir acesso direto como root</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">PermitRootLogin no
</code></pre></div><h3 id="modificar-porta-padrão">Modificar porta padrão</h3>
<p>De preferência uma porta com valor alto.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">Port <span style="color:#ae81ff">2258</span>
</code></pre></div><h3 id="bloquear-ataques-de-força-bruta-com-iptables">Bloquear ataques de força bruta com iptables</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">iptables -I input -p tcp --dport <span style="color:#ae81ff">22</span> -i eth0 -m state --state NEW -m recent -set

iptables -I input -p tcp --dport <span style="color:#ae81ff">22</span> -i eth0 -m state --state NEW -m recent --update --seconds <span style="color:#ae81ff">60</span> --hitcount <span style="color:#ae81ff">4</span> -j DROP

iptables -A INPUT -P tcp --destination-port <span style="color:#ae81ff">22</span> -j ACCEPT
</code></pre></div><h3 id="logando-com-chaves-de-criptografia">Logando com chaves de criptografia</h3>
<p>Gerar a chave</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ssh-keygen -b <span style="color:#ae81ff">1024</span> -t dsa
</code></pre></div><p><img src="/img/uploads/2016/09/Sele%C3%A7%C3%A3o_009.png" alt="ssh ><"></p>
<p>Copiar para a outra máquina a chave pública</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ssh-copy-id -i ~/.ssh/id_dsa.pub 192.168.1.100
</code></pre></div><p><img src="/img/uploads/2016/09/Sele%C3%A7%C3%A3o_010.png" alt="ssh ><"></p>
<p>Verificar se o arquivo foi copiado para o destino em .ssh/authorized_keys e modificar a permissão para 600, por questões de segurança</p>
<h3 id="desabilitar-autenticação-por-senha">Desabilitar autenticação por senha</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">PasswordAuthentication no
</code></pre></div>]]></content></item><item><title>Exportar e importar containers no docker</title><link>https://sidneiweber.com.br/exportar-e-importar-containers-no-docker/</link><pubDate>Fri, 18 Nov 2016 14:56:26 -0300</pubDate><guid>https://sidneiweber.com.br/exportar-e-importar-containers-no-docker/</guid><description>Exportando imagem Temos aqui novamente um processo bem simples no docker, para exportar uma imagem uitlizamos o comando
docker save debian-apache &amp;gt; /tmp/imagem.tar ls -lh /tmp/ -rw-r--r-- 1 root root 225M nov 18 14:50 imagem.tar Importando imagem docker load &amp;lt; imagem.tar Fala a verdade é simples ou não é, mais fácil que isso não tem como.
Fonte</description><content type="html"><![CDATA[<h3 id="exportando-imagem">Exportando imagem</h3>
<p>Temos aqui novamente um processo bem simples no docker, para exportar uma imagem uitlizamos o comando</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker save debian-apache &gt; /tmp/imagem.tar
ls -lh /tmp/
-rw-r--r-- <span style="color:#ae81ff">1</span> root   root  225M nov <span style="color:#ae81ff">18</span> 14:50 imagem.tar
</code></pre></div><h3 id="importando-imagem">Importando imagem</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker load &lt; imagem.tar
</code></pre></div><p>Fala a verdade é simples ou não é, mais fácil que isso não tem como.</p>
<p><a href="http://devopslab.com.br/docker-como-criar-uma-imagem-docker-a-partir-de-um-container-utilizando-o-docker-commit/">Fonte</a></p>
]]></content></item><item><title>Iniciando servidor apache no docker</title><link>https://sidneiweber.com.br/iniciando-servidor-apache-no-docker/</link><pubDate>Thu, 17 Nov 2016 10:59:38 -0300</pubDate><guid>https://sidneiweber.com.br/iniciando-servidor-apache-no-docker/</guid><description>Para iniciar um servidor apache no docker é muito simples, caso tenha uma imagem que já tenha apache é mais simples ainda. Mas vamos partir do principio que não tenha essa imagem, usaremos uma imagem do repositório do docker.
Caso queira só baixar a imagem, começaremos com o comando:
docker pull eboraas/apache Para iniciar o container com nosso servidor rodaremos o comando:
docker run -it -p 80:80 -d eboraas/apache Caso queira iniciar também expondo as portas para ter suporte SSL:</description><content type="html"><![CDATA[<p>Para iniciar um servidor apache no docker é muito simples, caso tenha uma imagem que já tenha apache é mais simples ainda. Mas vamos partir do principio que não tenha essa imagem, usaremos uma imagem do repositório do docker.</p>
<p>Caso queira só baixar a imagem, começaremos com o comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker pull eboraas/apache
</code></pre></div><p>Para iniciar o container com nosso servidor rodaremos o comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run -it -p 80:80 -d eboraas/apache
</code></pre></div><p>Caso queira iniciar também expondo as portas para ter suporte SSL:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run -it -p 80:80 -p 443:443 -d eboraas/apache
</code></pre></div><p>Basta acessar o IP de sua máquina que o servidor já estará rodando. Caso queira usar algum projeto web que tenha em sua máquina podemos linkar essa pasta com a pasta do container.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run -it -p 80:80 -v /home/sidnei/meusite/:/var/www/html/ -d eboraas/apache
</code></pre></div><p>Se caso a porta 80 de seu host esteja sendo usada, é possível mapear outra porta no container. Bastando acessar o IP:8080 para ter acesso ao apache do container.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run -it -p 8080:80 -v /home/sidnei/meusite/:/var/www/html/ -d eboraas/apache
</code></pre></div><p><a href="https://hub.docker.com/r/eboraas/apache/">Fonte</a></p>
]]></content></item><item><title>Comandos básicos Docker</title><link>https://sidneiweber.com.br/comandos-basicos-docker/</link><pubDate>Thu, 17 Nov 2016 10:33:43 -0300</pubDate><guid>https://sidneiweber.com.br/comandos-basicos-docker/</guid><description>Docker é um ferramenta que venha aprendendo a pouco tempo, não explicarei o que é o docker, apenas alguns detalhes no uso. Caso queira uma explicação melhor sobre o que é docker, recomendo esse artigo do Mundo Docker.
Segue abaixo alista dos comandos mais básicos e explicações básicas sobre o docker:
docker search ubuntu # Procura versões do sistema ubuntu docker pull [nome da imagem] # baixar imagem docker images # listar imagens docker run [nome da imagem ou id] # iniciar container com a imagem baixada docker ps # listar containers docker ps -a # Verifica todos os containers, inclusive os que estão parados docker exec [id do container] [comando] # executa comandos no container docker rm [id do container] Iniciar container com alguns detalhes a mais:</description><content type="html"><![CDATA[<p>Docker é um ferramenta que venha aprendendo a pouco tempo, não explicarei o que é o docker, apenas alguns detalhes no uso. Caso queira uma explicação melhor sobre o que é docker, recomendo esse <a href="http://www.mundodocker.com.br/o-que-e-docker/">artigo do Mundo Docker</a>.</p>
<p>Segue abaixo alista dos comandos mais básicos e explicações básicas sobre o docker:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker search ubuntu <span style="color:#75715e"># Procura versões do sistema ubuntu</span>
docker pull <span style="color:#f92672">[</span>nome da imagem<span style="color:#f92672">]</span> <span style="color:#75715e"># baixar imagem</span>
docker images <span style="color:#75715e"># listar imagens</span>
docker run <span style="color:#f92672">[</span>nome da imagem ou id<span style="color:#f92672">]</span> <span style="color:#75715e"># iniciar container com a imagem baixada</span>
docker ps <span style="color:#75715e"># listar containers</span>
docker ps -a <span style="color:#75715e"># Verifica todos os containers, inclusive os que estão parados</span>
docker exec <span style="color:#f92672">[</span>id <span style="color:#66d9ef">do</span> container<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>comando<span style="color:#f92672">]</span> <span style="color:#75715e"># executa comandos no container</span>
docker rm <span style="color:#f92672">[</span>id <span style="color:#66d9ef">do</span> container<span style="color:#f92672">]</span>
</code></pre></div><p>Iniciar container com alguns detalhes a mais:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker run -it -p &lt;porta_host&gt;:&lt;porta_container&gt; --name &lt;nome_container&gt; &lt;nome_imagem&gt;
</code></pre></div><p>Sendo que o -i significa interatividade e o -t que queremos um link com o terminal do container.</p>
<p>Iniciar uma sessão bash em um container que já esteja rodando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker exec -it &lt;nome_container&gt; bash

Verificar os logs de um container:

<span style="color:#e6db74">```</span>shell
docker logs &lt;nome_container&gt;
</code></pre></div><p>Remover todos os containers parados:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker rm -f <span style="color:#66d9ef">$(</span>docker ps -a -q<span style="color:#66d9ef">)</span>
</code></pre></div><p>Remover uma imagem baixada:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker rmi -f &lt;nome_imagem&gt;
</code></pre></div><p>Copiar um arquivo do container para o host:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker cp &lt;nome_container&gt;:/caminho/no/container /caminho/no/host
</code></pre></div><h2 id="salvando-alterações-de-um-container-modificado">Salvando alterações de um container modificado</h2>
<p>Após instalar alguns programas ou fazer modificações no seu container, é possível que queira salvá-lo para não perder essas alterações. Para isso existe a opção <em>commit</em> do docker que irá gerar uma nova imagem do seu container com as alterações. Pegaremos como base o ID do nosso container:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker ps
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                  NAMES
f8d74ee7155a        7e616530e7ea        <span style="color:#e6db74">&#34;/bin/bash&#34;</span>         <span style="color:#ae81ff">12</span> minutes ago      Up <span style="color:#ae81ff">12</span> minutes       0.0.0.0:8080-&amp;gt;80/tcp   lonely_mccarthy
root@black:/home/sidnei#
</code></pre></div><p>Com nosso ID em mãos faremos o commit:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">docker commit f8d74ee7155a debian-apache
sha256:9a232ff09aaf601dfbe487c3b20802079cd5e1a55115fb3a47473f9e44ab8bf0
root@black:/home/sidnei# docker images
REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE
debian-apache         latest              9a232ff09aaf        <span style="color:#ae81ff">4</span> seconds ago       226.9 MB
</code></pre></div><h2 id="dockerfile">Dockerfile</h2>
<p>Um Dockerfile é um script que automatiza a criação de imagens docker. Veja alguns exemplos de comandos que podem ser utilizados no Dockerfile. Em outros posts trarei com mais detalhes como cada um funciona.</p>
<h4 id="from">FROM</h4>
<p>Primeira instrução, define a imagem base.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> ubuntu14:04</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h4 id="maintainer">MAINTAINER</h4>
<p>Especifica o autor da imagem.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">MAINTAINER</span><span style="color:#e6db74"> Foo foo@bar.com</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h4 id="run">RUN</h4>
<p>Equivalente ao comando docker run.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">RUN</span> apt-get install python<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h4 id="env">ENV</h4>
<p>Define uma variável de ambiente.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">ENV</span> PORT<span style="color:#f92672">=</span><span style="color:#ae81ff">8000</span>
</code></pre></div><h4 id="expose">EXPOSE</h4>
<p>Expõe portas.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">EXPOSE</span><span style="color:#e6db74"> 8000</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h4 id="add">ADD</h4>
<p>Copia arquivos do host hospedeiro para dentro da imagem.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">ADD</span> foo.txt /bar/foo.txt<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h4 id="entrypoint">ENTRYPOINT</h4>
<p>Permite que a imagem seja executada como uma aplicativo (a partir da linha de comando especificada).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">ENTRYPOINT</span> [<span style="color:#e6db74">&#34;python&#34;</span>, <span style="color:#e6db74">&#34;app.py&#34;</span>]<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h4 id="cmd">CMD</h4>
<p>Comando que será executado quando a execução do container for acionada.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">CMD</span> [<span style="color:#e6db74">&#34;supervisord&#34;</span>]<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><h4 id="exemplo-de-dockerfile">Exemplo de dockerfile</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker"><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> debian:lastest</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">MAINTAINER</span><span style="color:#e6db74"> Sidnei Weber &lt;sidnei.weber@gmal.com&gt;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> apt-get update<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> apt-get install -y apache2<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> /etc/init.d/apache2 start<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Para gerar a imagem a partir do nosso dockerfile usaremos o docker build. Lembrando que se criamos o docker file em alguma pasta especifica, deveremos estar dentro desta pasta para executar o comando a seguir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-docker" data-lang="docker">docker build -t teste .<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Por hoje era isso pessoal, em breve estaremos estudando mais sobre o assunto.</p>
<p>Fonte: <a href="http://www.diego-garcia.info/2015/02/15/docker-por-onde-comecar/">Diego Garcia</a></p>
]]></content></item><item><title>Remover extensão .php com .htaccess (Rápido e fácil)</title><link>https://sidneiweber.com.br/remover-extensao-php-com-htaccess-rapido-e-facil/</link><pubDate>Mon, 17 Oct 2016 14:34:10 -0300</pubDate><guid>https://sidneiweber.com.br/remover-extensao-php-com-htaccess-rapido-e-facil/</guid><description>Já havia tentado de várias maneiras remover a extensão .php dos meus arquivos, mas todas sem sucesso. Porém consegui fazer de uma maneira muito simples, editando o arquivo .htaccess. Lembrando que para funcionar a modulo &amp;ldquo;mod_rewrite&amp;rdquo; deve estar habilitado no seu servidor web.
Criaremos o arquivo .htaccess na raiz do nosso projeto com o seguinte conteúdo
&amp;lt;IfModule mod_rewrite.c&amp;gt; RewriteEngine on RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME}.php -f RewriteRule ^(.*)$ $1.php &amp;lt;/IfModule&amp;gt; E quando formos criarmos nosso link no php, aqui no caso estamos com o exemplo signup.</description><content type="html"><![CDATA[<p>Já havia tentado de várias maneiras remover a extensão .php dos meus arquivos, mas todas sem sucesso. Porém consegui fazer de uma maneira muito simples, editando o arquivo .htaccess. Lembrando que para funcionar a modulo &ldquo;mod_rewrite&rdquo; deve estar habilitado no seu servidor web.</p>
<p>Criaremos o arquivo .htaccess na raiz do nosso projeto com o seguinte conteúdo</p>
<pre><code>&lt;IfModule mod_rewrite.c&gt;
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.*)$ $1.php

&lt;/IfModule&gt;
</code></pre><p>E quando formos criarmos nosso link no php, aqui no caso estamos com o exemplo signup.php, basta digitar assim:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;signup&#34;</span>&gt;signup here&lt;/<span style="color:#f92672">a</span>&gt;
</code></pre></div><p>Sem a extensão .php. O servidor irá fazer todo o resto do trabalho.</p>
<p><a href="http://www.codingcage.com/2015/11/how-to-remove-php-html-extensions-with.html">Fonte</a></p>
]]></content></item><item><title>Gestão corporativa com Software Livre</title><link>https://sidneiweber.com.br/gestao-corporativa-com-software-livre/</link><pubDate>Wed, 05 Oct 2016 12:41:19 -0300</pubDate><guid>https://sidneiweber.com.br/gestao-corporativa-com-software-livre/</guid><description>Segue um trabalho que fiz na faculdade sobre gestão corporativa com software livre.
Também listarei aqui meu rascunho para apresentação do slide, caso alguem tenha interesse.
Slide 1 = Apresentação Assunto
Nome
Slide 2 = Gestão corporativa Breve introdução do assunto
Governança corporativa é o conjunto de processos, costumes, políticas, leis, regulamentos e instituições que regulam a maneira como uma empresa é dirigida, administrada ou controlada. Os principais atores tipicamente são os acionistas, a alta administração e o conselho de administração.</description><content type="html"><![CDATA[<p>Segue um trabalho que fiz na faculdade sobre gestão corporativa com software livre.</p>
<p><a href="https://docs.google.com/presentation/d/1Bj5g6ap66Pqf0QXYHzEi7vGIzzvzpiLqS82jyZcJg58/embed?start=false&amp;loop=false&amp;delayms=3000"><img src="/img/gestao_corporativa.png" alt="Video"></a></p>
<p>Também listarei aqui meu rascunho para apresentação do slide, caso alguem tenha interesse.</p>
<h3 id="slide-1--apresentação">Slide 1 = Apresentação</h3>
<p>Assunto<br>
Nome</p>
<h3 id="slide-2--gestão-corporativa">Slide 2 = Gestão corporativa</h3>
<p><strong>Breve introdução do assunto</strong></p>
<p>Governança corporativa é o conjunto de processos, costumes, políticas, leis, regulamentos e instituições que regulam a maneira como uma empresa é dirigida, administrada ou controlada. Os principais atores tipicamente são os acionistas, a alta administração e o conselho de administração. Outros participantes da governança corporativa incluem os funcionários, fornecedores, clientes, bancos e outros credores, instituições reguladoras (como a CVM, o Banco Central, etc.) e a comunidade em geral.<br>
O corporate governance visa a diminuir os eventuais problemas que podem surgir na relação entre gestores e accionistas e, consequentemente, diminuir o risco de custos de agência.</p>
<p><strong>Definição</strong></p>
<p>A Governança Corporativa visa a aumentar a probabilidade dos fornecedores de recursos garantirem para si o retorno sobre seu investimento, por meio de um conjunto de mecanismos no qual se inclui o Conselho de Administração.</p>
<p>Dito de outra forma, &ldquo;corporate governance é uma área […] que investiga a forma de garantir/motivar a gestão eficiente das empresas, utilizando mecanismos de incentivo como sejam os contratos, os padrões organizacionais e a legislação. O que frequentemente se limita à questão da melhoria do desempenho financeiro, como, por exemplo, a forma como os proprietários das empresas podem garantir/motivar os gestores das empresas a apresentarem uma taxa de retorno competitiva&rdquo;</p>
<h3 id="slide-3--sistemas-de-gestão-corporativa">Slide 3 = Sistemas de gestão corporativa</h3>
<p><strong>Breve introdução [editar]</strong><br>
<strong>Beneficios</strong><br>
Existem algumas categorias e tipos de sistemas distintos de gestão empresarial. Muitas vezes, todos estão integrados sobre as asas de um mesmo sistema ERP, mas podem vir também separados, dependendo das necessidades:<br>
Sistema de Gestão Patrimonial<br>
Sistema de Gestão Eletrônica de Documentos<br>
Sistemas de Controle de Estoque<br>
Sistemas de Controle da Produção</p>
<p>Os sistemas de gestão empresarial, nas empresas onde são implantados, trazem os seguintes beneficios:<br>
Eliminação de custos relativos a processos manuais e aumento da produtividade devido a automatização.<br>
Aumento do fluxo interno de informação e integração entre os departamentos distintos nas empresas.<br>
Otimização do processo de tomada de decisões.<br>
Diminuição da redundância das atividades já que os processos passam a ser automatizados.<br>
Aumento da precisão na obtenção de informações e relatórios, já que os dados passam a ser criteriosamente armazenados<br>
No entanto, sistemas de gestão empresarial podem trazer as seguintes desvatagens e obstáculos:<br>
A empresa passa a sofrer uma forte dependência da empresa que forneceu e implantou o sistema de ERP<br>
Muitas vezes o alto custo que um sistema de gestão empresarial não trás um benefício semelhante ( baixo custo/benefício )<br>
O aumento do controle sobre os processo e as pessoas, pode gerar resistência através de funcionários que não querem mudar seu método de trabalho<br>
A integração dos departamentos da empresa pelo sistema, muitas vezes não se reflete em uma integração real da companhia</p>
<h3 id="slide-4--software-livre">Slide 4 = Software Livre</h3>
<p><strong>Introdução sobre</strong><br>
<strong>Vantagens</strong><br>
<strong>Desvantagens</strong><br>
<strong>Como se ganha com software Livre</strong></p>
<p>Software livre, segundo a definição criada pela Free Software Foundation é qualquer programa de computador que pode ser usado, copiado, estudado e redistribuído sem restrições. O conceito de livre se opõe ao conceito de software restritivo (software proprietário), mas não ao software que é vendido almejando lucro (software comercial). A maneira usual de distribuição de software livre é anexar a este uma licença de software livre, e tornar o código fonte do programa disponível.</p>
<p><strong>Definição</strong></p>
<p>Um software é considerado como livre quando atende aos quatro tipos de liberdade para os usuários do software definidas pela Free Software Foundation:<br>
A liberdade para executar o programa, para qualquer propósito (liberdade n.º 0);<br>
A liberdade de estudar como o programa funciona, e adaptá-lo para as suas necessidades (liberdade n.º 1). Acesso ao código-fonte é um pré-requisito para esta liberdade;<br>
A liberdade de redistribuir, inclusive vender, cópias de modo que você possa ajudar ao seu próximo (liberdade n.º 2);<br>
A liberdade de modificar o programa, e liberar estas modificações, de modo que toda a comunidade se beneficie (liberdade n.º 3). Acesso ao código-fonte é um pré-requisito para esta liberdade;<br>
A liberdade de executar o programa significa a liberdade para qualquer tipo de pessoa física ou jurídica utilizar o software em quantas máquinas quiser, em qualquer tipo de sistema computacional, para qualquer tipo de trabalho ou atividade, sem nenhuma restrição imposta pelo fornecedor.<br>
A liberdade de redistribuir o programa compilado, isto é em formato binário, necessariamente inclui a obrigatoriedade de disponibilizar seus códigos-fonte. Caso o software venha a ser modificado e o autor da modificação queira distribuí-lo, gratuitamente ou não, será também obrigatória a distribuição do código fonte das modificações, desde que elas venham a integrar o programa. Não é necessária a autorização do autor ou do distribuidor do software para que ele possa ser redistribuído, já que as licenças de software livre assim o permitem.<br>
Para que seja possível estudar ou modificar o software (para uso particular ou para distribuir) é necessário ter acesso ao código-fonte. Por isso a disponibilidade desses arquivos é pré-requisito para a liberdade do software. Cada licença determina como será feito o fornecimento do código fonte para distribuições típicas, como é o caso de distribuições em mídia portátil somente com os códigos binários já finalizados (sem o fonte). No caso da licença GPL, a fonte deve ser disponibilizada em local de onde possa ser acessado, ou deve ser entregue ao usuário, se solicitado, sem custos adicionais (exceto transporte e mídia).</p>
<p><strong>[editar]Venda de Software Livre</strong><br>
As licenças de software livre permitem que eles sejam vendidos, mas estes em sua grande maioria estão disponíveis gratuitamente.<br>
Uma vez que o comprador do software livre tem direito às quatro liberdades listadas, ele poderia redistribuir este software gratuitamente ou mediante remuneração. As versões pagas geralmente são acompanhadas de algum tipo de serviço adicional, como direito a assistência técnica por determinado período e manuais, por exemplo. Muitas vezes comprar o software é mais vantajoso para o cliente final que não tem muita experiência em programação, poupando tempo.</p>
<p><strong>[editar]Motivação</strong><br>
Os desenvolvedores de software na década de 70 frequentemente compartilhavam seus programas de uma maneira similar aos princípios do software livre. No final da mesma década, as empresas começaram a impor restrições aos usuários com o uso de contratos de licença de software. Em 1983, Richard Stallman iniciou o projeto GNU, e em outubro de 1985 fundou a Free Software Foundation (FSF). Stallman introduziu os conceitos de software livre e copyleft, os quais foram especificamente desenvolvidos para garantir que a liberdade dos usuários fosse preservada.<br>
Para o Movimento do software livre, que é um movimento social, não é ético aprisionar conhecimento científico, que deve estar sempre disponível, para assim permitir a evolução da humanidade.</p>
<p>Em 1997, o Metrô de São Paulo iniciou a transição de suas máquinas para a plataforma Linux, como forma de conter gastos e manter a funcionalidade no trabalho. A iniciativa rendeu uma economia de aproximadamente 3 milhões de reais por ano. Em 2004, o gerente de informática da companhia, Gustavo Mazzariol, 53 anos, recebeu um prêmio pelo êxito na aplicação do software livre.<br>
Um dos grandes desafios era gerenciar um sistema de e-mails para os funcionários. O grande número de licenças necessários para habilitar todos os empregados em um software fechado exigiu que o metrô migrasse para uma plataforma de código aberto, culminando no gasto de apenas R$ 1,40 por mês por usuário.<br>
Abril.com</p>
<p><strong>Vantagens do Software Livre</strong></p>
<p>• Nao esconde, mostra o que faz<br>
• Não adestra, educa<br>
• Não impõe, oferece opcoes<br>
• Não controla, deixa você decidir<br>
• Não aprisiona, liberta (padrôes abertos)<br>
• Nao exclui, permite compartilhamento<br>
<strong>Vantagens</strong><br>
Custo social baixo;<br>
Desenvolvido para os usuários;<br>
Não se fica refém de tecnologia proprietária;<br>
Independência de fornecedor único;<br>
Desembolso inicial próximo de zero;<br>
Não obsolescência do hardware;<br>
Robustez e segurança;<br>
Possibilidade de adequar aplicativos e redistribuir versão alterada;<br>
Suporte abundante e gratuito (comunidade);<br>
Sistemas e aplicativos geralmente muito configuráveis.</p>
<p><strong>Desvantagens</strong><br>
Interface de usuário não é uniforme nos aplicativos;<br>
Instalação e configuração pode ser difícil;<br>
Mão de obra escassa e/ou custosa para desenvolvimento e/ou suporte;<br>
Pessoas acostumadas com o Windows;</p>
<p><strong>Casos de Sucesso</strong><br>
Banco do Brasil<br>
Loterias Caixa<br>
Conversão dos 25 mil terminais lotéricos, espalhadas por todo o país para Linux/Debian.<br>
•Transações de 8 a 10 seg. para 3 a 4 seg.<br>
•Economia de R$ 10 milhões a partir da<br>
implantação em 2006</p>
<p>Metrô de São Paulo</p>
<p><strong>Softwares Livres notáveis</strong></p>
<p>Abaixo está uma lista com os softwares livres mais conhecidos e usados:<br>
Sistemas operacionais: GNU/Hurd, GNU/Linux, BSDs, OpenSolaris.<br>
Biblioteca padrão da linguagem: C.<br>
Linguagens de programação: Python,Java, PHP, Servidores:<br>
Servidor web: Apache.<br>
Servidor de arquivos: Samba.<br>
Navegadores Web: Firefox<br>
Pacote de escritório: OpenOffice.org.<br>
EaD, Educação a distância: Moodle<br>
Sistema wiki: MediaWiki (sistema de wiki da Wikipedia).</p>
<h3 id="slide-5--exemplos-sistemas-erp">Slide 5 = Exemplos Sistemas (ERP)</h3>
<p><strong>Resumo do que faz</strong><br>
<strong>Exemplos (Em imagens)</strong><br>
<strong>Quem usa</strong></p>
<p>ERP (Enterprise Resource Planning) (Sistemas Integrados de Gestão Empresarial), são sistemas de informação que integram todos os dados e processos de uma organização em um único sistema. A integração pode ser vista sob a perspectiva funcional (sistemas de: finanças, contabilidade, recursos humanos, fabricação, marketing, vendas, compras, etc) e sob a perspectiva sistêmica (sistema de processamento de transações, sistemas de informações gerenciais, sistemas de apoio a decisão, etc).<br>
São uma plataforma de software desenvolvida para integrar os diversos departamentos de uma empresa, possibilitando a automação e armazenamento de todas as informações de negócios.<br>
Assim, as informações trafegam pelos módulos em tempo real, ou seja, uma ordem de vendas dispara o processo de fabricação com o envio da informação para múltiplas bases, do estoque de insumos à logística do produto.<br>
Um bom exemplo de como o ERP revoluciona uma companhia é que com uma melhor administração da produção, um investimento, como uma nova infra-estrutura logística, pode ser repensado ou simplesmente abandonado. Neste caso, ao controlar e entender melhor todas as etapas que levam a um produto final, a companhia pode chegar ao ponto de produzir de forma mais inteligente, rápida e melhor, o que, em outras palavras, reduz o tempo que o produto fica parado no estoque.</p>
<p>Algumas das vantagens da implementação de um ERP numa empresa são:<br>
Eliminar o uso de interfaces manuais<br>
Reduzir custos<br>
Otimizar o fluxo da informação e a qualidade da mesma dentro da organização (eficiência)<br>
Otimizar o processo de tomada de decisão<br>
Eliminar a redundância de atividades<br>
Reduzir os limites de tempo de resposta ao mercado<br>
Reduzir as incertezas do Lead time<br>
Incorporação de melhores práticas (codificadas no ERP) aos processos internos da empresa<br>
Reduzir o tempo dos processos gerenciais<br>
[editar]Fatores Críticos de Sucesso</p>
<p>Segundo uma pesquisa Chaos e Unfinished Voyages (1995) os principais fatores críticos de sucesso para um projeto de implantação de um ERP são:<br>
Envolvimento do Usuário<br>
Apoio da direção<br>
Definição clara de necessidades<br>
Planejamento adequado<br>
Expectativas realistas<br>
Marcos intermediários<br>
Equipe competente<br>
Comprometimento<br>
Visão e objetivos claros<br>
Equipe dedicada<br>
Infraestrutura adequada</p>
<p>OpenBravo</p>
<h3 id="slide-6--exemplos-sistemas-crm">Slide 6 = Exemplos Sistemas (CRM)</h3>
<p><strong>Resumo do que faz</strong><br>
<strong>Exemplos (Em imagens)</strong><br>
<strong>Quem usa</strong></p>
<p>SugarCRM:<br>
É uma solução flexível e de grande qualidade.<br>
É um produto de excelência a custos mais baixos.<br>
É totalmente customizável às necessidades do utilizador.<br>
liberdade de escolha de módulos a utilizar e assente sobre uma arquitectura open source (Plataforma LAMP: Linux, Apache, MySQL, PHP) e compatível com qualquer sistema operativo.</p>
<p><a href="http://www.sugarcrm.com">http://www.sugarcrm.com</a></p>
<p>Um CRM tem três grandes objectivos:<br>
Facilitar, automatizar e gerir toda a área de marketing;<br>
Facilitar, automatizar e gerir toda a área comercial, os canais e a força de vendas;<br>
Gerir os serviços prestados ao cliente.</p>
<p><strong>Customer relationship management</strong></p>
<p>Customer Relationship Management (CRM) pode ser traduzida para a língua portuguesa como Gestão de Relacionamento com o Cliente (Gestão de Relação com o Cliente, em Portugal). Foi criada para definir toda uma classe de ferramentas que automatizam as funções de contacto com o cliente, essas ferramentas compreendem sistemas informatizados e fundamentalmente uma mudança de atitude corporativa, que objetiva ajudar as companhias a criar e manter um bom relacionamento com seus clientes armazenando e inter-relacionando de forma inteligente, informações sobre suas atividades e interacções com a empresa.</p>
<p>O seu objetivo principal é auxiliar as organizações a angariar e fidelizar clientes ou prospectos, fidelizar clientes atuais na busca de atingir a sua satisfação total, através do melhor entendimento das suas necessidades e expectativas e formação de uma visão global dos ambientes de marketing.<br>
O CRM abrange, na generalidade, três grandes áreas:<br>
Automatização da gestão de marketing<br>
Automatização da gestão comercial, dos canais e da força de vendas<br>
Gestão dos serviços ao cliente</p>
<p><strong>CRM e a Informática</strong></p>
<p>Por vezes o CRM é entendido única e exclusivamente como os sistemas de computador desenvolvidos para a gestão de clientes, ou mesmo como sistemas de vendas ainda mais simplificados.<br>
Na realidade o CRM é apenas o conceito conforme descrito acima, e os sistemas de informática são a ferramenta que auxilia na gestão do relacionamento com clientes, estas ferramentas são chamadas de Sistemas de CRM.</p>
<h3 id="slide-7--exemplos-sistemas-bpm">Slide 7 = Exemplos Sistemas (BPM)</h3>
<p><strong>Resumo do que faz</strong><br>
<strong>Exemplos (Em imagens)</strong><br>
<strong>Quem usa</strong></p>
<p>O Gerenciamento de Processos de Negócio (português brasileiro) (em inglês Business Process Management ou BPM) é um conceito que une gestão de negócios e tecnologia da informação com foco na otimização dos resultados das organizações através da melhoria dos processos de negócio. São utilizados métodos, técnicas e ferramentas para analisar, modelar, publicar, otimizar e controlar processos envolvendo recursos humanos, aplicações, documentos e outras fontes de informação.</p>
<h3 id="slide-8--exemplos-sistemas-colaboração">Slide 8 = Exemplos Sistemas (Colaboração)</h3>
<p><strong>Resumo do que faz</strong><br>
<strong>Exemplos (Em imagens)</strong><br>
<strong>Quem usa</strong></p>
<p>Sistemas Cooperativos ou Sistemas Colaborativos são Sistemas de Informação que fornecem suporte computacional aos indivíduos que tentam resolver um problema em cooperação com outros, sem que todos estejam no mesmo local, ao mesmo tempo.<br>
Estas ferramentas, denominadas groupware, aplicam conceitos de sistemas distribuídos, comunicação multimídia, ciência da informação e teorias socio-organizacionais.<br>
<a href="http://pt.wikipedia.org/wiki/Sistema_cooperativo">http://pt.wikipedia.org/wiki/Sistema_cooperativo</a></p>
<h3 id="slide-9--exemplos-sistemas-gerenciamento-de-conteúdo">Slide 9 = Exemplos Sistemas (Gerenciamento de conteúdo)</h3>
<p><strong>Resumo do que faz</strong><br>
<strong>Exemplos (Em imagens)</strong><br>
<strong>Quem usa</strong></p>
<p>Sistema de gerenciamento de conteúdo</p>
<p>Origem: Wikipédia, a enciclopédia livre.</p>
<p>Um Sistema de Gestão de Conteúdo - SGC, (em inglês Content Management Systems - CMS), é um sistema gestor de websites, portais e intranets que integra ferramentas necessárias para criar, gerir (editar e inserir) conteúdos em tempo real, sem a necessidade de programação de código, cujo objetivo é estruturar e facilitar a criação, administração, distribuição, publicação e disponibilidade da informação. Sua maior característica é a grande quantidade de funções presentes.<br>
Podemos dizer que um CMS é um framework, “um esqueleto” de website pré-programado, com recursos básicos e de manutenção e administração já prontamente disponíveis. através de uma interface de utilizador via Internet. Um CMS permite que a empresa tenha total autonomia sobre o conteúdo e evolução da sua presença na internet e dispense a assistência de terceiros ou empresas especializadas para manutenções de rotina. Nem mesmo é preciso um funcionário dedicado (webmaster), pois cada membro da equipe poderá gerir o seu próprio conteúdo, diminuindo os custos com recursos humanos. A habilidade necessária para trabalhar com um sistema de gestão de conteúdo não vai muito além dos conhecimentos necessários para um editor de texto.<br>
A aparência de um website criado com um CMS é customizável, através da utilização de templates que podem ser facilmente substituídos.<br>
Um sistema de gestão de conteúdo reduz custos e ajuda a suplantar barreiras potenciais à comunicação web reduzindo o custo da criação, contribuição e manutenção de conteúdo.<br>
Um grande exemplo de CMS é o Wordpress, um sistema em PHP, Open Source e de altíssima qualidade para gerir blogs ou portais cada vez mais completos.<br>
O Wordpress é um CMS totalmente customizável por themes (ou templates).</p>
<p>Tem-se observado que ferramentas como Gestores de Conteúdo podem se tornar excelentes ambientes para o processo de ensino e aprendizagem e para a organização da informação produzida em ambientes com fins educacionais. Sejam eles em ambientes acadêmicos, sejam em ambientes empresariais.<br>
A própria Wikipédia pode ser considerada um &ldquo;gerenciador de conteúdo&rdquo;, assim fomentando a busca, localização e criação de conhecimento em um ambiente distribuído e colaborativo.</p>
<p><strong>WordPress</strong><br>
WordPress é um sistema de gerenciamento de conteúdos na web, escrito em PHP e executado em MySQL, especialmente para a criação de blogs<br>
Gera XML, XHTML, e CSS em conformidade com os padrões W3C<br>
Gerenciamento de ligações integrado<br>
Estrutura de permalink amigável aos mecanismos de busca<br>
Suporte extensivo a plug-ins<br>
Categorias aninhadas e múltiplas categorias para artigos<br>
TrackBack e Pingback<br>
Filtros tipográficos para formatação e estilização de texto corretas<br>
Páginas estáticas<br>
Múltiplos autores<br>
Suporte a tags (desde a versão 2.3)</p>
<h3 id="silde-10--conclusão">Silde 10 = Conclusão</h3>
<p>Comprar licenças e implantar softwares proprietários complexos como CRM (soluções de atendimento ao consumidor) e ERP (sistema de gestão empresarial) custa caro e nem sempre é acessível para boa parte das pequenas e médias empresas<br>
Onde se ganha<br>
Treinamentos<br>
Consultoria<br>
Suporte</p>
<p>Hoje, com esse moderno sistema de gestão de alta administração, o Presidente e os seus sócios-proprietários poderão profissionalizar as empresas e controlar de modo efetivo o seu patrimônio, podendo tomar assento nos Conselhos e delegar as responsabilidades do dia a dia a profissionais contratados, podendo se afastar de seus afazeres sem perder o efetivo controle da empresa.</p>
<p>Software Livre pode promover avanços tecnológicos em países periféricos<br>
•Proporciona a Inclusão Digital<br>
•Relação Custo x Benefício bastante positiva<br>
•Futuro promissor<br>
–Aumento do nº de usuários e pessoas que conhecendo as vantagens.</p>
<h3 id="slide-11--bibliografia">Slide 11 = Bibliografia</h3>
]]></content></item><item><title>Deslogar sessão ssh por inatividade</title><link>https://sidneiweber.com.br/deslogar-sessao-ssh-por-inatividade/</link><pubDate>Mon, 19 Sep 2016 13:56:05 -0300</pubDate><guid>https://sidneiweber.com.br/deslogar-sessao-ssh-por-inatividade/</guid><description>Para deixar a configuração do servidor ssh um pouco mais segura, podemos configurar uma opção para um usuario que ficar inativo por um determinado tempo seja deslogado automaticamente. É uma opção muito útil caso seja esquecido uma sessão aberta, o que é bastante perigoso por sinal.
O arquivo que devemos alterar é o /etc/ssh/sshd_config, adicionando ou alterando os seguintes parametros:
ClientAliveCountMax 0 ClientAliveInterval 30 Com isso, caso tenha inatividade na sessão por 30 segundos o usuário será deslogado.</description><content type="html"><![CDATA[<p>Para deixar a configuração do servidor ssh um pouco mais segura, podemos configurar uma opção para um usuario que ficar inativo por um determinado tempo seja deslogado automaticamente. É uma opção muito útil caso seja esquecido uma sessão aberta, o que é bastante perigoso por sinal.</p>
<p>O arquivo que devemos alterar é o <strong>/etc/ssh/sshd_config</strong>, adicionando ou alterando os seguintes parametros:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ClientAliveCountMax <span style="color:#ae81ff">0</span>
ClientAliveInterval <span style="color:#ae81ff">30</span>
</code></pre></div><p>Com isso, caso tenha inatividade na sessão por 30 segundos o usuário será deslogado.</p>
<p><strong>ClientAliveCountMax</strong>: Define o numero máximo de envio de pacotes para saber se o cliente está ou não ativo.<br>
<strong>ClientAliveInterval:</strong> Define um intervalo de tempo em segundos após o qual, se o terminal estiver ocioso, será finalizada a sessão.</p>
]]></content></item><item><title>Tutorial básico e rápido de Mysql</title><link>https://sidneiweber.com.br/tutorial-basico-e-rapido-de-mysql/</link><pubDate>Tue, 12 Jul 2016 13:10:54 -0300</pubDate><guid>https://sidneiweber.com.br/tutorial-basico-e-rapido-de-mysql/</guid><description>Instalação Começamos pela instalação, que nas distribuições Debian like seria:
sudo apt-get install mysql-server phpmyadmin Esse comando instalará a última versão do Mysql e do administrador visual que mais gosto o PHPmyadmin. A instalação irá pedir uma senha para o usuário padrão (root):
A confirmação da senha:
Em qual servidor web o Phpmyadmin irá rodar, no meu caso apache:
E diga não a próxima opção:
Administrando via linha de comando mysql -h host -u root -p (o super usuário default é root) Assim terá acesso ao terminal do mysql.</description><content type="html"><![CDATA[<h2 id="instalação">Instalação</h2>
<p>Começamos pela instalação, que nas distribuições Debian like seria:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-get install mysql-server phpmyadmin
</code></pre></div><p>Esse comando instalará a última versão do Mysql e do administrador visual que mais gosto o PHPmyadmin. A instalação irá pedir uma senha para o usuário padrão (root):</p>
<p><img src="/img/uploads/2016/07/Sele%C3%A7%C3%A3o_003.png" alt="mysql ><"></p>
<p>A confirmação da senha:</p>
<p><img src="/img/uploads/2016/07/Sele%C3%A7%C3%A3o_004.png" alt="mysql ><"></p>
<p>Em qual servidor web o Phpmyadmin irá rodar, no meu caso apache:</p>
<p><img src="/img/uploads/2016/07/Sele%C3%A7%C3%A3o_005.png" alt="mysql ><"></p>
<p>E diga não a próxima opção:</p>
<p><img src="/img/uploads/2016/07/Sele%C3%A7%C3%A3o_006.png" alt="mysql ><"></p>
<h2 id="administrando-via-linha-de-comando">Administrando via linha de comando</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysql -h host -u root -p <span style="color:#f92672">(</span>o super usuário default é root<span style="color:#f92672">)</span>
</code></pre></div><p>Assim terá acesso ao terminal do mysql.</p>
<h2 id="comandos-de-uso-básico">Comandos de uso básico</h2>
<p>Para ter acesso a linha de comando mysql localhost, após o comando será solicitado a senha de admin do mysql</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysql -u root -p
</code></pre></div><p>Criar base de dados:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">database</span> nomebanco;
</code></pre></div><p>Para editar o banco de dados:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">use nomebanco;
</code></pre></div><p>Criar tabela:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> nometabela(campos tipos...);
</code></pre></div><p>Exemplo</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> usuario
(
id int,
nome varchar(<span style="color:#ae81ff">255</span>),
sobrenome varchar(<span style="color:#ae81ff">255</span>),
endereco varchar(<span style="color:#ae81ff">255</span>),
cidade varchar(<span style="color:#ae81ff">255</span>)
);
</code></pre></div><p>Mostrar conteudo da tabela:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">select</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">from</span> nometabela;
</code></pre></div><p>Exibir bancos de dados:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">show</span> databases;
</code></pre></div><p>Exibir tabelas:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">show</span> tables;
</code></pre></div><p>Exibir informações das tabelas, a formação das informações:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">describe</span> nometabela;
</code></pre></div><p><img src="/img/uploads/2016/07/Sele%C3%A7%C3%A3o_007.png" alt="mysql ><"></p>
<h2 id="exportar-e-importar-via-linha-de-comando">Exportar e importar via linha de comando</h2>
<p>Exportar</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysqldump -u user -p passwd banco &gt; banco.sql
</code></pre></div><p>Importando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysql -u user -p password banco &lt; banco.sql
</code></pre></div><p>Esse é o tutorial bem básico sobre o uso do mysql.</p>
]]></content></item><item><title>Instalar Java 8 no Manjaro/Archlinux</title><link>https://sidneiweber.com.br/instalar-java-8-no-manjaroarchlinux/</link><pubDate>Thu, 12 Nov 2015 00:10:33 -0300</pubDate><guid>https://sidneiweber.com.br/instalar-java-8-no-manjaroarchlinux/</guid><description>Primeiro atualize o sistema
pacman -Sy Após isso baixamos a última versão (Na data da postagem essa era última versão)
wget http://javadl.sun.com/webapps/download/AutoDL?BundleId=111679 -O Java-latest Descompactamos
tar -zxvf Java-latest Copiamos para a pasta correta
cp -pr jre1.8.0_60 /opt Criamos o link para o programa
ln -s /opt/jre1.8.0_60/bin/java /usr/bin/java E o link para os plugins:
ln -s /opt/jre1.8.0_65/lib/amd64/libnpjp2.so ~/.mozilla/plugins/libnpjp2.so Fonte</description><content type="html"><![CDATA[<p>Primeiro atualize o sistema</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pacman -Sy
</code></pre></div><p>Após isso baixamos a última versão (Na data da postagem essa era última versão)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">wget http://javadl.sun.com/webapps/download/AutoDL?BundleId<span style="color:#f92672">=</span><span style="color:#ae81ff">111679</span> -O Java-latest
</code></pre></div><p>Descompactamos</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">tar -zxvf Java-latest
</code></pre></div><p>Copiamos para a pasta correta</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cp -pr jre1.8.0_60 /opt
</code></pre></div><p>Criamos o link para o programa</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ln -s /opt/jre1.8.0_60/bin/java /usr/bin/java
</code></pre></div><p>E o link para os plugins:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ln  -s /opt/jre1.8.0_65/lib/amd64/libnpjp2.so  ~/.mozilla/plugins/libnpjp2.so
</code></pre></div><p><a href="http://www.unixmen.com/install-java-8-manjaroarchlinux/">Fonte</a></p>
]]></content></item><item><title>Utilizando o comando like com variável [PHP-MySQL]</title><link>https://sidneiweber.com.br/utilizando-o-comando-like-com-variavel-php-mysql/</link><pubDate>Fri, 10 Jul 2015 16:48:54 -0300</pubDate><guid>https://sidneiweber.com.br/utilizando-o-comando-like-com-variavel-php-mysql/</guid><description>include(&amp;#34;conexao.php&amp;#34;); $busca = $_POST[&amp;#39;busca&amp;#39;]; // comando like com variavel // retorna todos os produtos que tenham o valor da variável busca em qualquer posição $result = mysql_query(&amp;#34;SELECT descricao FROM produtos WHERE descricao like &amp;#39;%&amp;#34;.$busca.&amp;#34;%&amp;#39; &amp;#34;); // comando like normal //retorna todos os nomes que tenham a palavra &amp;#34;pedro&amp;#34; em qualquer posição $result = mysql_query(&amp;#34; SELECT nome FROM funcionarios WHERE nome like &amp;#39;%pedro%&amp;#39; &amp;#34;);&amp;lt;/pre&amp;gt;</description><content type="html"><![CDATA[<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#66d9ef">include</span>(<span style="color:#e6db74">&#34;conexao.php&#34;</span>);
$busca <span style="color:#f92672">=</span> $_POST[<span style="color:#e6db74">&#39;busca&#39;</span>];
<span style="color:#75715e">// comando like com variavel
</span><span style="color:#75715e">// retorna todos os produtos que tenham o valor da variável busca em qualquer posição
</span><span style="color:#75715e"></span>$result <span style="color:#f92672">=</span> <span style="color:#a6e22e">mysql_query</span>(<span style="color:#e6db74">&#34;SELECT descricao FROM produtos WHERE descricao like &#39;%&#34;</span><span style="color:#f92672">.</span>$busca<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;%&#39; &#34;</span>);

<span style="color:#75715e">// comando like normal
</span><span style="color:#75715e">//retorna todos os nomes que tenham a palavra &#34;pedro&#34; em qualquer posição
</span><span style="color:#75715e"></span>$result <span style="color:#f92672">=</span> <span style="color:#a6e22e">mysql_query</span>(<span style="color:#e6db74">&#34; SELECT nome FROM funcionarios WHERE nome like &#39;%pedro%&#39; &#34;</span>);<span style="color:#f92672">&lt;/</span><span style="color:#a6e22e">pre</span><span style="color:#f92672">&gt;</span>
</code></pre></div>]]></content></item><item><title>[Shell Script] Procurar texto em vários arquivos</title><link>https://sidneiweber.com.br/shell-script-procurar-texto-em-varios-arquivos/</link><pubDate>Mon, 06 Jul 2015 15:51:01 -0300</pubDate><guid>https://sidneiweber.com.br/shell-script-procurar-texto-em-varios-arquivos/</guid><description>find . | xargs grep &amp;#39;texto a pesquisar&amp;#39;</description><content type="html"><![CDATA[<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">find . | xargs grep <span style="color:#e6db74">&#39;texto a pesquisar&#39;</span>
</code></pre></div>]]></content></item><item><title>Evitando encerramento acidental de sessões bash</title><link>https://sidneiweber.com.br/evitando-encerramento-acidental-de-sessoes-bash/</link><pubDate>Mon, 06 Jul 2015 15:50:35 -0300</pubDate><guid>https://sidneiweber.com.br/evitando-encerramento-acidental-de-sessoes-bash/</guid><description>A sequência de teclas &amp;ldquo;CTRL+D&amp;rdquo; encerra uma sessão bash. Às vezes digitamos estas teclas por acidente e encerramos uma sessão acidentalmente.
Para evitar que isto ocorra, definimos a variável de ambiente IGNOREEOF:
export IGNOREEOF=1 Desta forma, para encerrar uma sessão bash, precisamos digitar a sequência CTRL+D duas vezes ou então digitar exit.
Esta variável de ambiente deve ser definida no arquivo .bashrc.
Fonte: Dicas-L</description><content type="html"><![CDATA[<p>A sequência de teclas &ldquo;<code>CTRL+D</code>&rdquo; encerra uma sessão bash. Às vezes digitamos estas teclas por acidente e encerramos uma sessão acidentalmente.</p>
<p>Para evitar que isto ocorra, definimos a variável de ambiente <code>IGNOREEOF</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">export IGNOREEOF<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</code></pre></div><p>Desta forma, para encerrar uma sessão bash, precisamos digitar a sequência <code>CTRL+D</code> duas vezes ou então digitar <code>exit</code>.</p>
<p>Esta variável de ambiente deve ser definida no arquivo <code>.bashrc</code>.</p>
<p>Fonte: <a href="http://www.dicas-l.com.br/arquivo/encerramento_acidental_de_sessoes_bash.php#.VDVCZdRdW2w">Dicas-L</a></p>
]]></content></item><item><title>Pesquisar em um intervalo de datas Mysql</title><link>https://sidneiweber.com.br/pesquisar-em-um-intervalo-de-datas-mysql/</link><pubDate>Mon, 06 Jul 2015 15:50:07 -0300</pubDate><guid>https://sidneiweber.com.br/pesquisar-em-um-intervalo-de-datas-mysql/</guid><description>SELECT * FROM `contas_pagar` WHERE data BETWEEN (&amp;#39;2014-09-01&amp;#39;) AND (&amp;#39;2014-09-31&amp;#39;); E para fazer uma soma em um intervalo de datas:
SELECT SUM(valor) as total FROM contas_pagar WHERE valor BETWEEN (&amp;#39;2014-09-01&amp;#39;) AND (&amp;#39;2014-09-31&amp;#39;);</description><content type="html"><![CDATA[<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> <span style="color:#f92672">`</span>contas_pagar<span style="color:#f92672">`</span> <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">data</span> <span style="color:#66d9ef">BETWEEN</span> (<span style="color:#e6db74">&#39;2014-09-01&#39;</span>) <span style="color:#66d9ef">AND</span> (<span style="color:#e6db74">&#39;2014-09-31&#39;</span>);
</code></pre></div><p>E para fazer uma soma em um intervalo de datas:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">SUM</span>(valor) <span style="color:#66d9ef">as</span> total <span style="color:#66d9ef">FROM</span> contas_pagar <span style="color:#66d9ef">WHERE</span> valor <span style="color:#66d9ef">BETWEEN</span> (<span style="color:#e6db74">&#39;2014-09-01&#39;</span>) <span style="color:#66d9ef">AND</span> (<span style="color:#e6db74">&#39;2014-09-31&#39;</span>);
</code></pre></div>]]></content></item><item><title>Colocando uma firula no terminal</title><link>https://sidneiweber.com.br/colocando-uma-firula-no-terminal/</link><pubDate>Mon, 06 Jul 2015 15:48:53 -0300</pubDate><guid>https://sidneiweber.com.br/colocando-uma-firula-no-terminal/</guid><description>Editar o arquivo .bashrc e adicionar a linha a seguir
#PS1=&amp;#39;[u@h W]$ &amp;#39; PS1=&amp;#39;┌─[u@h W][e[0;32m][${cwd}t][&amp;lt;wbr /&amp;gt;033[0m] ${fill}n[\033[0m]└─■ &amp;#39;</description><content type="html"><![CDATA[<p>Editar o arquivo .bashrc e adicionar a linha a seguir</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#PS1=&#39;[u@h W]$ &#39;</span>
PS1<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;┌─[u@h W][e[0;32m][${cwd}t][&lt;wbr /&gt;033[0m] ${fill}n[\033[0m]└─■ &#39;</span>
</code></pre></div>]]></content></item><item><title>Backup Mysql - Linha comando</title><link>https://sidneiweber.com.br/backup-mysql-linha-comando/</link><pubDate>Mon, 06 Jul 2015 15:48:02 -0300</pubDate><guid>https://sidneiweber.com.br/backup-mysql-linha-comando/</guid><description>Backup de uma base específica
mysqldump --database -d NOME DA BASE DE DADOS -u USUARIO -p &amp;gt; c:meu_db.sql Backup de todas as bases
mysqldump --all-databases -u USUARIO -p &amp;gt; meu_mysql.sql</description><content type="html"><![CDATA[<p>Backup de uma base específica</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysqldump --database -d NOME DA BASE DE DADOS -u USUARIO -p &gt; c:meu_db.sql
</code></pre></div><p>Backup de todas as bases</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysqldump --all-databases -u USUARIO -p &gt; meu_mysql.sql
</code></pre></div>]]></content></item><item><title>Maiúsculas e Minúsculas em PHP</title><link>https://sidneiweber.com.br/maiusculas-e-minusculas-em-php/</link><pubDate>Mon, 06 Jul 2015 15:47:02 -0300</pubDate><guid>https://sidneiweber.com.br/maiusculas-e-minusculas-em-php/</guid><description>$texto =&amp;ldquo;warquia pereira santos&amp;rdquo;
vamos transformar a variavel $texto
=&amp;gt; Converte a string para letras minúsculas
strtolower();
srttolower($texto); vai sair assim = warquia pereira santos
=&amp;gt; Converte a string para letras maiúsculas
strtoupper();
srttoupper($texto); vai sair assim = WARQUIA PEREIRA SANTOS
=&amp;gt; Converte o primeiro caractere de uma string em maiúsculo
ucfirst();
ucfirst($texto); vai sair assim = Warquia pereira santos
=&amp;gt; Converte em maiúsculo o primeiro caractere de cada palavra contida em uma string</description><content type="html"><![CDATA[<p>$texto =&ldquo;warquia pereira santos&rdquo;</p>
<p>vamos transformar a variavel $texto</p>
<p><strong>=&gt; Converte a string para letras minúsculas</strong></p>
<p>strtolower();</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#a6e22e">srttolower</span>($texto);
</code></pre></div><p>vai sair assim = warquia pereira santos</p>
<p><strong>=&gt; Converte a string para letras maiúsculas</strong><br>
strtoupper();</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#a6e22e">srttoupper</span>($texto);
</code></pre></div><p>vai sair assim = WARQUIA PEREIRA SANTOS</p>
<p><strong>=&gt; Converte o primeiro caractere de uma string em maiúsculo</strong><br>
ucfirst();</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#a6e22e">ucfirst</span>($texto);
</code></pre></div><p>vai sair assim = Warquia pereira santos</p>
<p><strong>=&gt; Converte em maiúsculo o primeiro caractere de cada palavra contida em uma string</strong><br>
ucwords();</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#a6e22e">ex</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ucwords</span>($texto);  
</code></pre></div><p>vai sair assim = Warquia Pereira Santos</p>
<p><a href="http://phpbrasil.com/artigo/bG73TMFSCr3H/maiusculas-e-minusculas-em-php">Fonte</a></p>
]]></content></item><item><title>Redimensionar disco de uma máquina virtual - VirtualBox</title><link>https://sidneiweber.com.br/redimensionar-disco-de-uma-maquina-virtual-virtualbox/</link><pubDate>Mon, 06 Jul 2015 15:46:30 -0300</pubDate><guid>https://sidneiweber.com.br/redimensionar-disco-de-uma-maquina-virtual-virtualbox/</guid><description>vboxmanage modifyhd disco.vdi --resize 30000</description><content type="html"><![CDATA[<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">vboxmanage modifyhd disco.vdi --resize <span style="color:#ae81ff">30000</span>
</code></pre></div>]]></content></item><item><title>Diminuindo tentativas de invasão via SSH</title><link>https://sidneiweber.com.br/diminuindo-tentativas-de-invasao-via-ssh/</link><pubDate>Mon, 06 Jul 2015 15:45:47 -0300</pubDate><guid>https://sidneiweber.com.br/diminuindo-tentativas-de-invasao-via-ssh/</guid><description>Dentro do arquivo /etc/ssh/sshd_config altere as seguintes linhas:
LoginGraceTime 2m MaxStartups 3:50:6 Explicando:
O primeiro parâmetro informa que a conexão será cortada caso fique inativa por 2 minutos.
O segundo quer dizer que depois de 3 tentativas não autenticadas, 50% das conexões do IP são recusadas e quando o número de de tentavivas chegar a 6 todas as tentativas de conexões do IP serão recusadas.
Fonte: Dicas-l</description><content type="html"><![CDATA[<p>Dentro do arquivo <code>/etc/ssh/sshd_config</code> altere as seguintes linhas:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">LoginGraceTime 2m
MaxStartups 3:50:6
</code></pre></div><p>Explicando:</p>
<p>O primeiro parâmetro informa que a conexão será cortada caso fique inativa por 2 minutos.</p>
<p>O segundo quer dizer que depois de 3 tentativas não autenticadas, 50% das conexões do IP são recusadas e quando o número de de tentavivas chegar a 6 todas as tentativas de conexões do IP serão recusadas.</p>
<p>Fonte: Dicas-l</p>
]]></content></item><item><title>Utilizando o Crontab</title><link>https://sidneiweber.com.br/utilizando-o-crontab/</link><pubDate>Mon, 06 Jul 2015 15:45:15 -0300</pubDate><guid>https://sidneiweber.com.br/utilizando-o-crontab/</guid><description>Comando Função crontab -e Edita o crontab atual do usuário crontab -l Exibe o atual conteúdo do crontab do usuário crontab -r Remove o crontab do usuário A linha é dividida em 6 campos separados por tabs ou espaço:
Campo Função 1° Minuto 2° Hora 3° Dia do mês 4° Mês 5° Dia da semana 6° Programa para execução Campo Valores Minuto 0-59 Hora 0-23 Dia do mês 1-31 Mês 1-12 Dia da semana 0-6 (o “0″ é domingo), 1 é segunda, etc.</description><content type="html"><![CDATA[<table>
<thead>
<tr>
<th>Comando</th>
<th>Função</th>
</tr>
</thead>
<tbody>
<tr>
<td>crontab -e</td>
<td>Edita o crontab atual do usuário</td>
</tr>
<tr>
<td>crontab -l</td>
<td>Exibe o atual conteúdo do crontab do usuário</td>
</tr>
<tr>
<td>crontab -r</td>
<td>Remove o crontab do usuário</td>
</tr>
</tbody>
</table>
<p>A linha é dividida em 6 campos separados por tabs ou espaço:</p>
<table>
<thead>
<tr>
<th>Campo</th>
<th>Função</th>
</tr>
</thead>
<tbody>
<tr>
<td>1°</td>
<td>Minuto</td>
</tr>
<tr>
<td>2°</td>
<td>Hora</td>
</tr>
<tr>
<td>3°</td>
<td>Dia do mês</td>
</tr>
<tr>
<td>4°</td>
<td>Mês</td>
</tr>
<tr>
<td>5°</td>
<td>Dia da semana</td>
</tr>
<tr>
<td>6°</td>
<td>Programa para execução</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Campo</th>
<th>Valores</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minuto</td>
<td>0-59</td>
</tr>
<tr>
<td>Hora</td>
<td>0-23</td>
</tr>
<tr>
<td>Dia do mês</td>
<td>1-31</td>
</tr>
<tr>
<td>Mês</td>
<td>1-12</td>
</tr>
<tr>
<td>Dia da semana</td>
<td>0-6 (o “0″ é domingo), 1 é segunda, etc.</td>
</tr>
</tbody>
</table>
<p><a href="http://www.devin.com.br/crontab/">Fonte</a></p>
]]></content></item><item><title>Códigos do Squid</title><link>https://sidneiweber.com.br/codigos-do-squid/</link><pubDate>Mon, 06 Jul 2015 15:44:15 -0300</pubDate><guid>https://sidneiweber.com.br/codigos-do-squid/</guid><description>COD DESCRIÇÃO
0 Resposta não recebida Respostas de informação:
100 Continue 101 Troca de protocolos Acessos bem-sucedidos:
200 OK 201 Criado 202 Aceito 203 Informação não autorizada 204 Sem conteúdo 205 Conteúdo apagado 206 Conteúdo parcial 207 Status múltiplos Redirecionamentos:
300 Escolhas múltiplas 301 Movido permanentemente 302 Movido temporariamente 303 Veja outros 304 Não modificado 305 Use o proxy 307 Redirecionamento temporário Erros no cliente:</description><content type="html"><![CDATA[<p>COD  DESCRIÇÃO</p>
<ul>
<li>0    Resposta não recebida</li>
</ul>
<p>Respostas de informação:</p>
<ul>
<li>100  Continue</li>
<li>101  Troca de protocolos</li>
</ul>
<p>Acessos bem-sucedidos:</p>
<ul>
<li>200  OK</li>
<li>201  Criado</li>
<li>202  Aceito</li>
<li>203  Informação não autorizada</li>
<li>204  Sem conteúdo</li>
<li>205  Conteúdo apagado</li>
<li>206  Conteúdo parcial</li>
<li>207  Status múltiplos</li>
</ul>
<p>Redirecionamentos:</p>
<ul>
<li>300  Escolhas múltiplas</li>
<li>301  Movido permanentemente</li>
<li>302  Movido temporariamente</li>
<li>303  Veja outros</li>
<li>304  Não modificado</li>
<li>305  Use o proxy</li>
<li>307  Redirecionamento temporário</li>
</ul>
<p>Erros no cliente:</p>
<ul>
<li>400  Resposta ruim</li>
<li>401  Não autorizado</li>
<li>402  Pagamento requisitado</li>
<li>403  Negado</li>
<li>404  Não encontrado</li>
<li>405  Método não aceito</li>
<li>406  Não aceito</li>
<li>407  Autenticação do proxy solicitado</li>
<li>408  Tempo de resposta excedido</li>
<li>409  Conflito</li>
<li>410  Feito</li>
<li>411  Tamanho requerido</li>
<li>412  Falha pré-condicional</li>
<li>413  Requisição de entrada extensa</li>
<li>414  URL requisitada muito extensa</li>
<li>415  Tipo de mídia não suportada</li>
<li>416  Faixa requisitada não satisfatória</li>
<li>417  Falha na espera</li>
</ul>
<p>Erros no servidor:</p>
<ul>
<li>500  Erro interno</li>
<li>501  Não implantado</li>
<li>502  Gateway incorreto</li>
<li>503  Serviço indisponível</li>
<li>504  Tempo excedido do gateway</li>
<li>505  Versão HTTP não suportada</li>
<li>507  Espaço em disco insuficiente</li>
</ul>
<p><a href="http://www.vivaolinux.com.br/dica/Codigos-do-Squid">Fonte</a></p>
]]></content></item><item><title>11 regras CSS que todo desenvolvedor web deve saber</title><link>https://sidneiweber.com.br/regras-css-que-todo-desenvolvedor-web-deve-saber/</link><pubDate>Mon, 06 Jul 2015 15:43:13 -0300</pubDate><guid>https://sidneiweber.com.br/regras-css-que-todo-desenvolvedor-web-deve-saber/</guid><description>@media A regra @media não só nos permite definir estilos para nossa página da web quando impressa na tela. Hoje em dia esta regra atingiu um patamar mais avançado com as “media queries“, que são associadas à criação de sites “adaptativos” ou “responsivos”, ou seja, que se ajustam ao tamanho da tela do dispositivo no qual estiverem sendo acessados.
Você pode criar uma media query usando propriedades como min-width para ajustar seu layout de acordo com o tamanho do “viewport” do dispositivo do usuário.</description><content type="html"><![CDATA[<h3 id="media">@media</h3>
<p>A regra @media não só nos permite definir estilos para nossa página da web quando impressa na tela. Hoje em dia esta regra atingiu um patamar mais avançado com as “media queries“, que são associadas à criação de sites “adaptativos” ou “responsivos”, ou seja, que se ajustam ao tamanho da tela do dispositivo no qual estiverem sendo acessados.</p>
<p>Você pode criar uma media query usando propriedades como min-width para ajustar seu layout de acordo com o tamanho do “viewport” do dispositivo do usuário.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">@<span style="color:#66d9ef">media</span> <span style="color:#f92672">screen</span> <span style="color:#f92672">and</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">960px</span><span style="color:#f92672">)</span> {
<span style="color:#f92672">//</span> <span style="color:#f92672">seus</span> <span style="color:#f92672">estilos</span> <span style="color:#f92672">vão</span> <span style="color:#f92672">aqui</span> <span style="color:#f92672">....</span>
}
</code></pre></div><h3 id="background-size">background-size</h3>
<p>Aí está uma propriedade CSS3 muito útil que ganhou total suporte nos navegadores modernos. Antes, para fazer com que uma imagem, definida como background, fosse ajustada 100% (full size), de acordo com o tamanho do elemento que faz parte, era necessário algumas linhas de código, hacks e até javascripts. Agora nós precisamos de apenas uma linha de código, ou melhor, apenas uma propriedade:<code>background-size</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">body</span> {
<span style="color:#66d9ef">background</span>: url(<span style="color:#e6db74">image.jpg</span>) <span style="color:#66d9ef">no-repeat</span>;
<span style="color:#66d9ef">background-size</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
}
</code></pre></div><h3 id="font-face">@font-face</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">@<span style="color:#66d9ef">font-face</span> {
<span style="color:#f92672">font-family</span><span style="color:#f92672">:</span> <span style="color:#f92672">Blackout</span><span style="color:#f92672">;</span>
<span style="color:#f92672">src</span><span style="color:#f92672">:</span> <span style="color:#f92672">url</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;assests/blackout.ttf&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">format</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;truetype&#34;</span><span style="color:#f92672">);</span>
}
</code></pre></div><h3 id="overflowhidden">overflow:hidden</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">container</span> {
<span style="color:#66d9ef">overflow</span>: <span style="color:#66d9ef">hidden</span>;
}
</code></pre></div><p>Existe uma série de soluções e hacks para ajudar a resolver o problema com os elementos flutuantes. Este problema ocorre quando temos, dentro de um elemento de bloco (um DIV por exemplo), um outro elemento com float. Esse elemento que “flutua” não força automaticamente a altura do elemento container, ou seja, a altura do elemento container não acompanha a altura do elemento com float. Isto ocorre porque o elemento que está flutuando deixa de considerar o elemento container como pai.</p>
<p>Um jeito hiper simples de “limpar” os elementos flutuantes é simplesmente declarar <code>overflow: hidden;</code> no elemento container. Isto é muito interessante, porque não precisamos mais adicionar “lixo”  no nosso código html, como o tão famoso <code>&lt;br style=&quot;clear:both&quot; /&gt;</code>.</p>
<h3 id="margin-0-auto">margin: 0 auto;</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">#container {
    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">auto</span>;
}
</code></pre></div><p>É surpreendente que até então não exista nenhuma propriedade especifica para centralizar elementos. Mas enquanto isso não acontece, nós podemos utilizar o recurso de margem automática. Ao adicionarmos <code>margin: 0 auto;</code> em um elemento de bloco, este será centralizado.</p>
<h3 id="inputtypetext">input[type=&ldquo;text&rdquo;]</h3>
<p>O seletor <code>input[type=&quot;text&quot;]</code>, bem como outros seletores avançados no geral, irão elevar suas habilidades com CSS do nível intermediário para o avançado. Seletores de atributos, em particular, são extremamente úteis para estilizar elementos sem que precisemos criar classes adicionais.</p>
<p>Você poderá manipular não só campos do tipo texto, mas também radio, checkbox, submit, password, file, etc.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">input</span><span style="color:#f92672">[</span><span style="color:#f92672">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span><span style="color:#f92672">]</span> {
<span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">200</span><span style="color:#66d9ef">px</span>;
}

<span style="color:#f92672">input</span><span style="color:#f92672">[</span><span style="color:#f92672">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span><span style="color:#f92672">]</span>{
<span style="color:#66d9ef">margin-right</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span>;
}
</code></pre></div><p><a href="http://wpmidia.com.br/desenvolvimento-web/11-regras-css-todo-desenvolvedor-web-deve-saber/">Fonte</a></p>
]]></content></item><item><title>Migração banco de dados Mysql</title><link>https://sidneiweber.com.br/migracao-banco-de-dados-mysql/</link><pubDate>Mon, 06 Jul 2015 15:42:35 -0300</pubDate><guid>https://sidneiweber.com.br/migracao-banco-de-dados-mysql/</guid><description>Para fazer um backup de uma base de dados mysql e copiar para outra base basta fazer os seguintes passos
Os dados que deverão ser alterados são os seguintes:
base_origem endereco_base_original usuario_base_original senha_base_original base_destino endereco_base_destino usuario_base_destino senha_base_destino Sabendo os dados a alterar, substitua-os no comando abaixo e o execute:
mysqldump base_origem --opt -h endereco_base_original -uusuario_base_original -psenha_base_original --routines --triggers | mysql base_destino -hendereco_base_destino -uusuario_base_destino -psenha_base_destino</description><content type="html"><![CDATA[<p>Para fazer um backup de uma base de dados mysql e copiar para outra base basta fazer os seguintes passos</p>
<p>Os dados que deverão ser alterados são os seguintes:</p>
<ul>
<li>base_origem</li>
<li>endereco_base_original</li>
<li>usuario_base_original</li>
<li>senha_base_original</li>
<li>base_destino</li>
<li>endereco_base_destino</li>
<li>usuario_base_destino</li>
<li>senha_base_destino</li>
</ul>
<p>Sabendo os dados a alterar, substitua-os no comando abaixo e o execute:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mysqldump base_origem --opt -h endereco_base_original -uusuario_base_original -psenha_base_original --routines --triggers | mysql base_destino -hendereco_base_destino -uusuario_base_destino -psenha_base_destino
</code></pre></div>]]></content></item><item><title>Atualizar WordPress localhost</title><link>https://sidneiweber.com.br/atualizar-wordpress-localhost/</link><pubDate>Mon, 06 Jul 2015 15:41:19 -0300</pubDate><guid>https://sidneiweber.com.br/atualizar-wordpress-localhost/</guid><description>Para atualizar o WordPress instalado localmente, basta trocar o método do sistema de arquivos com o parâmetro: FS_METHOD
A seguir, estão as constantes válidas para atualizações do WordPress:
FS_METHOD obriga o método do sistema de arquivos. Deve ser &amp;ldquo;direct&amp;rdquo;, &amp;ldquo;ssh&amp;rdquo;, &amp;ldquo;ftpext&amp;rdquo;, ou &amp;ldquo;ftpsockets&amp;rdquo;. Geralmente, você deve apenas mudar isso se estiver enfrentando problemas de atualização, se mudar, e não adiantar mude de volta/remova, Na maioria das circunstâncias, definir ftpsockets vai funcionar se o método escolhido automaticamente não funcionar.</description><content type="html"><![CDATA[<p>Para atualizar o WordPress instalado localmente, basta trocar o método do sistema de arquivos com o parâmetro:  <strong>FS_METHOD</strong></p>
<p>A seguir, estão as constantes válidas para atualizações do WordPress:</p>
<ul>
<li><strong>FS_METHOD</strong> obriga o método do sistema de arquivos. Deve ser &ldquo;direct&rdquo;, &ldquo;ssh&rdquo;, &ldquo;ftpext&rdquo;, ou &ldquo;ftpsockets&rdquo;. Geralmente, você deve apenas mudar isso se estiver enfrentando problemas de atualização, se mudar, e não adiantar <strong>mude de volta/remova</strong>, Na maioria das circunstâncias, definir <strong>ftpsockets</strong> vai funcionar se o método escolhido automaticamente não funcionar.
<ul>
<li><strong>(Primary Preference) “Direct”</strong> obriga a usar solicitações Direct File I/O de dentro do PHP, o que possui muitas questões de segurança em servidores mal configurados, pode ser escolhido automaticamente quando necessário.</li>
<li><strong>(Secondary Preference) “ssh”</strong> obriga a usar a extensão SSH PHP.</li>
<li><strong>(3rd Preference) “ftpext”</strong> obriga a usar a extensão FTP PHP para acesso FTP e finalmente:</li>
<li><strong>(4th Preference) “ftpsockets”</strong> usa classe de Sockets PHP para acesso FTP.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#a6e22e">define</span>(<span style="color:#e6db74">&#39;FS_METHOD&#39;</span>, <span style="color:#a6e22e">direct</span>);
</code></pre></div>]]></content></item><item><title>WooCommerce Domination - Melhorando a usabilidade do WooCommerce</title><link>https://sidneiweber.com.br/woocommerce-domination-melhorando-a-usabilidade-do-woocommerce/</link><pubDate>Mon, 06 Jul 2015 15:40:54 -0300</pubDate><guid>https://sidneiweber.com.br/woocommerce-domination-melhorando-a-usabilidade-do-woocommerce/</guid><description>Este plugin coloca WooCommerce em destaque na administração do WordPress, com destaque para as encomendas, relatórios, clientes, produtos e menus cupons, além de adicionar novos botões na barra de administração. Uma verdadeira mão na roda.
Link para o plugin.</description><content type="html"><![CDATA[<p>Este plugin coloca WooCommerce em destaque na administração do WordPress, com destaque para as encomendas, relatórios, clientes, produtos e menus cupons, além de adicionar novos botões na barra de administração. Uma verdadeira mão na roda.</p>
<p><a href="http://wordpress.org/plugins/woocommerce-domination/">Link para o plugin.</a></p>
<p><img src="https://altyra.com/wp-content/uploads/2018/11/woocommerce-logo-e1429552613105.png" alt="woocommerce"></p>
]]></content></item><item><title>Configurar PHP para exibir erros</title><link>https://sidneiweber.com.br/configurar-php-para-exibir-erros/</link><pubDate>Mon, 06 Jul 2015 15:40:25 -0300</pubDate><guid>https://sidneiweber.com.br/configurar-php-para-exibir-erros/</guid><description>Essa configuração útil quando estamos desenvolvendo e precisamos ver alguns erros gerados pelo nosso código. Basta editar o arquivo php.ini que no Linux geralmente fica em /etc/php5/apache2/php.ini e trocar a configuração da chave:
_display_errors = Off_ Para On</description><content type="html"><![CDATA[<p>Essa configuração útil quando estamos desenvolvendo e precisamos ver alguns erros gerados pelo nosso código. Basta editar o arquivo <strong>php.ini</strong> que no Linux geralmente fica em <strong>/etc/php5/apache2/php.ini</strong> e trocar a configuração da chave:</p>
<pre><code>_display_errors = Off_
</code></pre><p>Para On</p>
]]></content></item><item><title>Alerta de espaço em disco via e-mail</title><link>https://sidneiweber.com.br/alerta-de-espaco-em-disco-via-e-mail/</link><pubDate>Mon, 06 Jul 2015 15:39:40 -0300</pubDate><guid>https://sidneiweber.com.br/alerta-de-espaco-em-disco-via-e-mail/</guid><description>Script para enviar e-mail quando o uso de disco chegar a 90% de uso
df -k | grep -e &amp;#39;lv&amp;#39; | awk &amp;#39;{ print $4 &amp;#34; &amp;#34; $7 }&amp;#39; | while read output; do echo $output usep=$(echo $output | awk &amp;#39;{ print $1}&amp;#39; | cut -d&amp;#39;%&amp;#39; -f1 ) partition=$(echo $output | awk &amp;#39;{ print $2 }&amp;#39; ) if [ $usep -ge 90 ]; then echo &amp;#34;Verifique o diretorio &amp;#34;$partition&amp;#34; com ($usep%) de uso no servidor $(hostname)&amp;#34; | mail -s &amp;#34;Alerta!</description><content type="html"><![CDATA[<p>Script para enviar e-mail quando o uso de disco chegar a 90% de uso</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">df -k | grep -e <span style="color:#e6db74">&#39;lv&#39;</span> | awk <span style="color:#e6db74">&#39;{ print $4 &#34; &#34; $7 }&#39;</span> | <span style="color:#66d9ef">while</span> read output;
<span style="color:#66d9ef">do</span>
echo $output
usep<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>echo $output | awk <span style="color:#e6db74">&#39;{ print $1}&#39;</span> | cut -d<span style="color:#e6db74">&#39;%&#39;</span> -f1 <span style="color:#66d9ef">)</span>
partition<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>echo $output | awk <span style="color:#e6db74">&#39;{ print $2 }&#39;</span> <span style="color:#66d9ef">)</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $usep -ge <span style="color:#ae81ff">90</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
echo <span style="color:#e6db74">&#34;Verifique o diretorio &#34;</span>$partition<span style="color:#e6db74">&#34; com (</span>$usep<span style="color:#e6db74">%) de uso no servidor </span><span style="color:#66d9ef">$(</span>hostname<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> | mail -s <span style="color:#e6db74">&#34;Alerta! Disco excedido em </span>$usep<span style="color:#e6db74">%&#34;</span> seu_email@provedor.com
<span style="color:#66d9ef">fi</span>
<span style="color:#66d9ef">done</span>
</code></pre></div>]]></content></item><item><title>Atalhos úteis para a linha de comando</title><link>https://sidneiweber.com.br/atalhos-uteis-para-a-linha-de-comando/</link><pubDate>Mon, 06 Jul 2015 15:38:45 -0300</pubDate><guid>https://sidneiweber.com.br/atalhos-uteis-para-a-linha-de-comando/</guid><description>Atalho Ação Ctrl+A move o cursor para o começo da linha Ctrl+E move o cursor para o fim da linha Alt+F move o cursor para o fim da próxima palavra Alt+B move o cursor para o começo da palavra anterior Ctrl+T troca os dois últimos caracteres de posição, por exemplos “sl” se torna “ls” Alt+T troca as duas últimas palavras de posição, por exemplo “list cat” se torna “cat list” Ctrl+U corta o texto do começo da linha até o começo da palavra antes do cursor Ctrl+W corta apenas a palavra antes do cursor Ctrl+K cut the text of the current command after the cursor.</description><content type="html"><![CDATA[<table>
<thead>
<tr>
<th>Atalho</th>
<th>Ação</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ctrl+A</td>
<td>move o cursor para o começo da linha</td>
</tr>
<tr>
<td>Ctrl+E</td>
<td>move o cursor para o fim da linha</td>
</tr>
<tr>
<td>Alt+F</td>
<td>move o cursor para o fim da próxima palavra</td>
</tr>
<tr>
<td>Alt+B</td>
<td>move o cursor para o começo da palavra anterior</td>
</tr>
<tr>
<td>Ctrl+T</td>
<td>troca os dois últimos caracteres de posição, por exemplos “sl” se torna “ls”</td>
</tr>
<tr>
<td>Alt+T</td>
<td>troca as duas últimas palavras de posição, por exemplo “list cat” se torna “cat list”</td>
</tr>
<tr>
<td>Ctrl+U</td>
<td>corta o texto do começo da linha até o começo da palavra antes do cursor</td>
</tr>
<tr>
<td>Ctrl+W</td>
<td>corta apenas a palavra antes do cursor</td>
</tr>
<tr>
<td>Ctrl+K</td>
<td>cut the text of the current command after the cursor.</td>
</tr>
<tr>
<td>Ctrl+Y</td>
<td>cola o texto cortado anteriormente após o cursor. Este recurso é útil quando você acabou de digitar um comando longo e concluiu que esqueceu de fazer algo antes</td>
</tr>
<tr>
<td>Alt+U</td>
<td>converte para maiúsculas próxima palavra</td>
</tr>
<tr>
<td>Alt+L</td>
<td>converte para minúsculas a próxima palavra</td>
</tr>
<tr>
<td>Alt+C</td>
<td>converte para maiúsculas a primeira letra da próxima palavra</td>
</tr>
<tr>
<td>Ctrl+L</td>
<td>limpa a tela, deixando a linha corrente no topo</td>
</tr>
<tr>
<td>Ctrl+_</td>
<td>undo (incremental).</td>
</tr>
</tbody>
</table>
<p><a href="http://www.quora.com/Bash-shell/What-are-some-useful-Bash-tricks">Fonte</a></p>
]]></content></item><item><title>netstat -putona - Um comando para monitorar as conexões de rede</title><link>https://sidneiweber.com.br/netstat-putona-um-comando-para-monitorar-as-conexoes-de-rede/</link><pubDate>Mon, 06 Jul 2015 15:37:42 -0300</pubDate><guid>https://sidneiweber.com.br/netstat-putona-um-comando-para-monitorar-as-conexoes-de-rede/</guid><description>netstat -putona Onde os parâmetros significam:
p Mostra as conexões para o protocolo especificado pelo TCP ou UDP
u Lista todas as portas UDP
t Lista portas em TCP
o Exibe temporizadores
n Exibe o número da porta
a Exibe todas as conexões do sistema ativo
Por exemplo, para saber que processo ocupa a porta 1521 pode utilizar:
netstat -putona | grep :1521 Fonte</description><content type="html"><![CDATA[<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">netstat -putona
</code></pre></div><p>Onde os parâmetros significam:</p>
<p>p Mostra as conexões para o protocolo especificado pelo TCP ou UDP<br>
u Lista todas as portas UDP<br>
t Lista portas em TCP<br>
o Exibe temporizadores<br>
n Exibe o número da porta<br>
a Exibe todas as conexões do sistema ativo</p>
<p>Por exemplo, para saber que processo ocupa a porta 1521 pode utilizar:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">netstat -putona | grep :1521
</code></pre></div><p><a href="http://ubuntulife.wordpress.com/2014/03/11/netstat-putona-un-comando-que-no-olvidaras-para-monitorizar-las-conexiones-en-linux/">Fonte</a></p>
]]></content></item><item><title>Proxy transparente</title><link>https://sidneiweber.com.br/proxy-transparente/</link><pubDate>Sun, 16 Feb 2014 19:31:32 -0300</pubDate><guid>https://sidneiweber.com.br/proxy-transparente/</guid><description>Fazer com que todas as conexões passem pelo proxy
Criar o arquivo:
cd /etc/init.d touch rc.firewall Adicionar o código:
#! /bin/sh # Limpando tabelas do iptables iptables -F iptables -t nat -F iptables -t mangle -F # Definição da rede local rede_interna=”192.168.0.0/16” # Habilitando encaminhamento de pacotes e outras opções echo “1″ &amp;gt; /proc/sys/net/ipv4/ip_forward echo “1″ &amp;gt; /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts echo “1″ &amp;gt; /proc/sys/net/ipv4/icmp_echo_ignore_all # Carregando modulos necessários para o iptables /sbin/modprobe iptable_nat /sbin/modprobe ip_tables /sbin/modprobe ipt_state /sbin/modprobe ip_conntrack /sbin/modprobe ipt_multiport /sbin/modprobe iptable_mangle iptables -I PREROUTING -t nat -p tcp -s $rede_interna –dport 80 -j REDIRECT –to-port 3128 iptables -t nat -I POSTROUTING -s $rede_interna -j MASQUERADE iptables -A FORWARD -s $rede_interna -d loginnet.</description><content type="html"><![CDATA[<p>Fazer com que todas as conexões passem pelo proxy</p>
<p>Criar o arquivo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd /etc/init.d
touch rc.firewall
</code></pre></div><p>Adicionar o código:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#! /bin/sh
</span><span style="color:#75715e"></span><span style="color:#75715e"># Limpando tabelas do iptables</span>
iptables -F
iptables -t nat -F
iptables -t mangle -F

<span style="color:#75715e"># Definição da rede local</span>
rede_interna<span style="color:#f92672">=</span>”192.168.0.0/16”

<span style="color:#75715e"># Habilitando encaminhamento de pacotes e outras opções</span>
echo “1″ &gt; /proc/sys/net/ipv4/ip_forward
echo “1″ &gt; /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts
echo “1″ &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all

<span style="color:#75715e"># Carregando modulos necessários para o iptables</span>
/sbin/modprobe iptable_nat
/sbin/modprobe ip_tables
/sbin/modprobe ipt_state
/sbin/modprobe ip_conntrack
/sbin/modprobe ipt_multiport
/sbin/modprobe iptable_mangle

iptables -I PREROUTING -t nat -p tcp -s $rede_interna –dport <span style="color:#ae81ff">80</span> -j REDIRECT –to-port <span style="color:#ae81ff">3128</span>

iptables -t nat -I POSTROUTING -s $rede_interna -j MASQUERADE

iptables -A FORWARD -s $rede_interna -d loginnet.passport.com -j REJECT
</code></pre></div><p>Permissao de execução</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chmod +x rc.firewall
</code></pre></div><p>Cuide para que o firewall inicie automaticamente na próxima inicialialização:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">update-rc.d rc.firewall defaults
</code></pre></div><p><a href="http://www.asteriskdocs.com.br/blog/instalando-e-configurando-squid-transparente-no-gnulinux-debian-e-derivados/">Fonte</a></p>
]]></content></item><item><title>Servidor Proxy com squid</title><link>https://sidneiweber.com.br/servidor-proxy-com-squid/</link><pubDate>Sun, 16 Feb 2014 18:53:08 -0300</pubDate><guid>https://sidneiweber.com.br/servidor-proxy-com-squid/</guid><description>Instalação:
apt-get install squid Arquivo base de configuração (/etc/squid/squid.conf):
http_port 3128 visible_hostname KORZOS acl all src 0.0.0.0/0.0.0.0 acl manager proto cache_object acl localhost src 127.0.0.1/255.255.255.255 acl SSL_ports port 443 563 acl Safe_ports port 21 80 443 563 70 210 280 488 59 777 901 1025-65535 acl purge method PURGE acl CONNECT method CONNECT http_access allow manager localhost http_access deny manager http_access allow purge localhost http_access deny purge http_access deny !Safe_ports http_access deny CONNECT !</description><content type="html"><![CDATA[<p>Instalação:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apt-get install squid
</code></pre></div><p>Arquivo base de configuração (/etc/squid/squid.conf):</p>
<pre><code>http_port 3128
visible_hostname KORZOS 

acl all src 0.0.0.0/0.0.0.0
acl manager proto cache_object
acl localhost src 127.0.0.1/255.255.255.255
acl SSL_ports port 443 563
acl Safe_ports port 21 80 443 563 70 210 280 488 59 777 901 1025-65535
acl purge method PURGE
acl CONNECT method CONNECT 

http_access allow manager localhost
http_access deny manager
http_access allow purge localhost
http_access deny purge
http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports 

acl redelocal src 192.168.0.0/24 

http_access allow localhost
http_access allow redelocal
http_access deny all

# Define o caminho das páginas de erro do squid.
error_directory /usr/share/squid/errors/Portuguese

# Define o e-mail que vai aparecer na página de erro do Squid, assim o usuário terá mais informações para interagir com o responsável.
cache_mgr admin@seu_dominio.com.br

# Esta ACL é responsável por não armazenar conteúdo CGI em cache.
acl QUERY urlpath_regex cgi-bin ?
no_cache deny QUERY
# Define a quantidade de memória RAM reservada para o uso do Squid.
cache_mem 64 MB 

# Esta linha é responsável por limitar o tamanho dos arquivos que serão armazenados no cache da memória RAM.
maximum_object_size_in_memory 64 KB 

# Aqui definimos o tamanho máximo e mínimo respectivamente dos arquivos que serão armazenados no cache do HD.
maximum_object_size 512 MB
minimum_object_size 0 KB 

# Com essas duas linhas podemos definir a porcentagem de atualização do cache, estamos dizendo que quando o cache chegar em 95% o Squid irá apagar os arquivos mais antigos até chegar a 90%.
cache_swap_low 90
cache_swap_high 95 

# Nessa linha conseguimos definir o tamanho e alguns parâmetros do cache feito em HD, a linha é composta por quatro valores, o 1º define o caminho do cache (/var/spool/squid), o 2º o tamanho que será alocado em MB para o cache (2Gb), o 3º a quantidade de diretórios criados para o cache (16) e o 4º é o numero de subdiretórios que serão criados. Se você possuir bastante espaço em disco e quiser armazenar os arquivos por mais tempo, aumente a opção do tamanha do cache.
cache_dir ufs /var/spool/squid 2048 16 256 

# Define onde serão armazenados os registros de log do Squid.
cache_access_log /var/log/squid/access.log 

refresh_pattern ^ftp: 15 20% 2280
refresh_pattern ^gopher: 15 0% 2280
refresh_pattern . 15 20% 2280
</code></pre><p>Reiniciar squid:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">/etc/init.d/squid restart
</code></pre></div><h3 id="entendendo-configuração">Entendendo configuração:</h3>
<p><strong>http_port 3128</strong>: Define em qual porta o Squid vai atuar, a porta default é a 3128, mas podemos definir qualquer outra porta.<br>
<strong>visible_hostname SERVIDOR</strong>: Define o nome do servidor, lembre-se de substituir o “KORZOS” pelo nome do seu servidor.<br>
<strong>acl all src 0.0.0.0/0.0.0.0</strong>: Esta linha cria uma ACL, uma política de acesso com nome “all” contendo qualquer IP.<br>
<strong>acl localhost src 127.0.0.1/255.255.255.255</strong>: Aqui criamos uma ACL de nome “localhost” contendo localhost.<br>
<strong>acl SSL_ports port 443 563</strong>: Cria a ACL contendo as portas que são utilizadas no protocolo HTTPS.<br>
<strong>acl Safe_ports port 21 80 443 563 70 210 280 488 59 777 901 1025-65535</strong>: Cria a ACL contendo as portas de diversos protocolos conhecidos na Internet.<br>
<strong>acl manager proto cache_object</strong>: Cria a ACL manager do tipo proto.<br>
<strong>acl purge method PURGE</strong> : Cria a ACL manager do tipo method.<br>
<strong>acl CONNECT method CONNECT</strong>: Cria a ACL CONNECT também do tipo method.<br>
<strong>http_access allow manager localhost</strong>: Libera a ACL manager e localhost.<br>
<strong>http_access deny manager</strong> : Bloqueia a ACL manager.<br>
<strong>http_access allow purge localhost</strong>: Libera a ACL purge e localhost<br>
<strong>http_access deny purge</strong>: Bloqueia a ACL purge.<br>
<strong>http_access deny !Safe_ports</strong>: Esta linha se torna bastante interessante pelo uso da “!”, pois ela bloqueia qualquer conexão que não contenha o conteúdo da ACL Safe_Ports.<br>
<strong>http_access deny CONNECT !SSL_ports</strong>: Bloqueia qualquer conexão que não esteja no conteúdo da ACL SSL_ports.<br>
<strong>acl redelocal src 192.168.0.0/24</strong>: Cria a ACL redelocal contendo a faixa de endereço da rede.<br>
<strong>http_access allow localhost</strong>: Libera a ACL localhost.<br>
<strong>http_access allow redelocal</strong>: Libera a ACL redelocal.<br>
<strong>http_access deny all</strong>: Bloqueia a ACL all</p>
<p>Criando ACLs<br>
Arquivos:<br>
Neste arquivo, iremos adicionar palavras que serão bloqueadas, como: sexo, porno&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pico /etc/squid/palavras_bloqueadas.txt
</code></pre></div><p>Neste arquivo, serão adicionados os sites que não terão acesso, como: 4shared.com, rapidshare.com, megavideo.com, filesonic.com, etc:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pico /etc/squid/sites_bloqueados.txt
</code></pre></div><p>Aqui, iremos colocar as redes sociais, como: facebook.com, orkut.com, twiter.com, etc:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pico /etc/squid/redes_sociais.txt
</code></pre></div><p>Neste arquivo, iremos colocar os IPs das máquinas dos gerentes (e “daquela” estagiária que entrou semana passada…:)):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pico /etc/squid/ips_liberados.txt
</code></pre></div><p>Lista de sites adultos: redtub, xvideos</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pico /etc/squid/sites_porno.txt
</code></pre></div><p>Este arquivo limita os tipos de arquivos que serão baixados, tudo que contiver neste arquivo será bloqueado. Exemplos: .avi$, .mp3$, .wmv$:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pico /etc/squid/formato_arquivo.txt
</code></pre></div><p>Adicionar ACLs:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">acl rede_local src 192.168.0.0/24
acl palavras_bloqueadas url_regex -i <span style="color:#e6db74">&#34;/etc/squid/palavras_bloqueadas.txt &#34;</span>
acl sites_bloqueados url_regex -i <span style="color:#e6db74">&#34;/etc/squid/ sites_bloqueados.txt &#34;</span>
acl redes_sociais url_regex -i <span style="color:#e6db74">&#34;/etc/squid/redes_sociais.txt&#34;</span>
acl liberados src <span style="color:#e6db74">&#34;/etc/squid/ips_liberados.txt &#34;</span>
acl porno url_regex -i <span style="color:#e6db74">&#34;/etc/squid/sites_porno.txt &#34;</span>e acl formato_arquivo url_regex -i <span style="color:#e6db74">&#34;/etc/squid/formato_arquivo.txt&#34;</span>
acl horario_almoco time 12:00-13:00 

http_access allow liberados
http_access allow redes_sociais horario_almoco
http_access deny redes_sociais
http_access deny sites_bloqueados
http_access deny palavras_bloqueadas
http_access deny porno
http_access deny formato_arquivo
http_access allow redelocal
</code></pre></div><p>Criar arquivos de swap</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">squid -z
</code></pre></div><p>E iniciar os serviços</p>
<p><a href="http://www.vivaolinux.com.br/artigo/Servidor-proxy-com-Squid-Instalacao-e-configuracao/?pagina=1">Fonte</a></p>
]]></content></item><item><title>Instalar servidor Samba [Dica rápida]</title><link>https://sidneiweber.com.br/instalar-servidor-samba-dica-rapida/</link><pubDate>Tue, 11 Feb 2014 23:59:10 -0300</pubDate><guid>https://sidneiweber.com.br/instalar-servidor-samba-dica-rapida/</guid><description>Primeiramente instalaremos o pacote:
apt-get install samba Depois alteramos a configuração do arquivo:
vi /etc/samba/smb.conf E alteramos alguns parametros:
[global] #nome do grupo de trabalho workgroup = casa #como a maquina irá aparecer na rede Windows netbios name = servidor de arquivos #autenticação #modo de acesso ao servidor security = user / share #lembrado que user é quando se criará um usuário no sistema, e share sem usuário #compartilhamentos [arquivos] #descrição do compartilhamento comment = meus arquivos #caminho da pasta no servidor path = /arquivos # ou o diretório desejado public = yes browseable = yes #se está visível ou oculto na rede writeable = yes #permite escrita read only = no #somente leitura valid users = VOCE # define a mascara em que os arquivos serão criados create mask = 0700 #(terão a permissão rwx somente para o root) # define a mascara em que os diretórios serão criados directory mask = 0700 Vamos criar o diretório compartilhado no servidor:</description><content type="html"><![CDATA[<p>Primeiramente instalaremos o pacote:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apt-get install samba
</code></pre></div><p>Depois alteramos a configuração do arquivo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">vi /etc/samba/smb.conf
</code></pre></div><p>E alteramos alguns parametros:</p>
<pre><code>[global]
#nome do grupo de trabalho
workgroup = casa
#como a maquina irá aparecer na rede Windows
netbios name = servidor de arquivos
#autenticação
#modo de acesso ao servidor
security = user / share
#lembrado que user é quando se criará um usuário no sistema, e share sem usuário

#compartilhamentos
[arquivos]
#descrição do compartilhamento
comment = meus arquivos
#caminho da pasta no servidor
path = /arquivos # ou o diretório desejado
public = yes
browseable = yes #se está visível ou oculto na rede
writeable = yes #permite escrita
read only = no #somente leitura
valid users = VOCE

# define a mascara em que os arquivos serão criados
create mask = 0700 #(terão a permissão rwx somente para o root)

# define a mascara em que os diretórios serão criados
directory mask = 0700
</code></pre><p>Vamos criar o diretório compartilhado no servidor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mkdir /arquivos
</code></pre></div><p>Adicionando um usuário para acessar o Samba:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">smbpasswd -a VOCE
</code></pre></div><p>Reinicie o serviço:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">service smbd restart
</code></pre></div><p>Pronto, servidor disponível. <a href="http://cristianojosef.blogspot.com.br/2013/02/configurando-um-servidor-samba-no.html">Fonte</a></p>
]]></content></item><item><title>Instalando um dashboard para seu servidor linux</title><link>https://sidneiweber.com.br/instalando-um-dashboard-para-seu-servidor-linux/</link><pubDate>Tue, 04 Feb 2014 23:31:35 -0300</pubDate><guid>https://sidneiweber.com.br/instalando-um-dashboard-para-seu-servidor-linux/</guid><description>cd /var/www/ git clone https://github.com/afaqurk/linux-dash.git yum -y install php php-common php-gd php-mbstring php-xml php-xmlrpc /etc/init.d/httpd start Agora acesse: http://endereco.ip.do.server/linux-dash
Fonte</description><content type="html"><![CDATA[<p><img src="/img/uploads/2014/02/screen-shot-2014-01-28-at-11-09-031.png" alt="dash ><"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">cd /var/www/
git clone https://github.com/afaqurk/linux-dash.git
yum -y install php php-common php-gd php-mbstring php-xml php-xmlrpc
/etc/init.d/httpd start
</code></pre></div><p>Agora acesse: <a href="http://endereco.ip.do.server/linux-dash">http://endereco.ip.do.server/linux-dash</a></p>
<p><a href="http://www.ricardomartins.com.br/dashboard-lindao-para-seu-servidor-linux/">Fonte</a></p>
]]></content></item><item><title>Dicas segurança WordPress</title><link>https://sidneiweber.com.br/dicas-seguranca-wordpress/</link><pubDate>Mon, 20 Jan 2014 22:38:07 -0300</pubDate><guid>https://sidneiweber.com.br/dicas-seguranca-wordpress/</guid><description>Não divulgue a versão do seu WordPress Esta informação fica localizadas no arquivo header.php de seu tema. Para desabilitar, remova a linha a seguir:
&amp;lt;meta name=&amp;#34;generator&amp;#34; content=&amp;#34;WordPress &amp;lt;?php bloginfo(&amp;#39;version&amp;#39;); ?&amp;gt;&amp;#34; /&amp;gt; Outra maneira de remover esta informação é adicionar o código abaixo ao seu arquivos functions.php:
&amp;lt;pre&amp;gt;&amp;lt;?php remove_action(‘wp_head’, ‘wp_generator’); ?&amp;gt;&amp;lt;/pre&amp;gt; Remoção dos arquivos readme.html e install.php Remova os plugins e temas que não estão sendo utilizados Não use o login padrão do Admin do WordPress Bloqueie a listagem de arquivos em suas pastas Para impedir que os arquivos de suas pastas sejam listados, crie ou modifique o arquivo .</description><content type="html"><![CDATA[<h3 id="não-divulgue-a-versão-do-seu-wordpress">Não divulgue a versão do seu WordPress</h3>
<p>Esta informação fica localizadas no arquivo header.php de seu tema. Para desabilitar, remova a linha a seguir:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;generator&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;WordPress &lt;?php bloginfo(&#39;version&#39;); ?&gt;&#34;</span> <span style="color:#f92672">/&gt;</span>
</code></pre></div><p>Outra maneira de remover esta informação é adicionar o código abaixo ao seu arquivos functions.php:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">pre</span><span style="color:#f92672">&gt;&lt;?</span><span style="color:#a6e22e">php</span> <span style="color:#a6e22e">remove_action</span>(<span style="color:#a6e22e">‘wp_head’</span>, <span style="color:#a6e22e">‘wp_generator’</span>); <span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">&lt;/pre&gt;
</span></code></pre></div><h3 id="remoção-dos-arquivos-readmehtml-e-installphp">Remoção dos arquivos readme.html e install.php</h3>
<h3 id="remova-os-plugins-e-temas-que-não-estão-sendo-utilizados">Remova os plugins e temas que não estão sendo utilizados</h3>
<h3 id="não-use-o-login-padrão-do-admin-do-wordpress">Não use o login padrão do Admin do WordPress</h3>
<h3 id="bloqueie-a-listagem-de-arquivos-em-suas-pastas">Bloqueie a listagem de arquivos em suas pastas</h3>
<p>Para impedir que os arquivos de suas pastas sejam listados, crie ou modifique o arquivo .htaccess (se seu site rodar em Linux) e inclua a seguinte linha:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#a6e22e">Options</span> <span style="color:#a6e22e">All</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">Indexes</span>
</code></pre></div><p>O arquivo deve estar na pasta principal (“/”) da instalação do WordPress juntamente com o arquivo wp-config.php.</p>
<h3 id="desabilite-o-wp_debug">Desabilite o WP_DEBUG.</h3>
<p>A variável global WP_DEBUG permite ao desenvolvedor, depurar a aplicação. Deixar estas informações visíveis também pode fornecer informações valiosas aos atacantes. Para desabilitar a variável WP_DEBUG, edite o arquivo wp-config.php e altere de true para false.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#a6e22e">define</span>(<span style="color:#a6e22e">‘WP_DEBUG’</span>, <span style="color:#66d9ef">false</span>);
</code></pre></div><h3 id="desabilite-o-registro-de-novos-usuários">Desabilite o registro de novos usuários</h3>
<p>Ao fazer isso você impede que qualquer um tenha acesso ao painel de administração do site. Vá até a seção Geral e desmarque a opção Qualquer pessoa pode se registrar, ou simplesmente delete o arquivo wp-register.php</p>
<p>Este post, de maneira nenhuma tem o objetivo de ser um guia definitivo mas sim apenas um ponto de partida para aqueles que conhecem pouco de segurança no WordPress ou para complementar os conhecimentos daqueles que já aplicam técnicas para proteção de sites e blogs.</p>
<p><a href="http://www.pcredesecia.com.br/2013/11/32-dicas-de-seguranca-para-wordpress.html">Fonte</a></p>
]]></content></item><item><title>Configurando troca de senha de usuário no próximo login</title><link>https://sidneiweber.com.br/configurando-troca-de-senha-de-usuario-no-proximo-login/</link><pubDate>Sun, 12 Jan 2014 18:51:44 -0300</pubDate><guid>https://sidneiweber.com.br/configurando-troca-de-senha-de-usuario-no-proximo-login/</guid><description>Para isso, utilizaremos o comando chage. Antes, listamos as propriedades de login deste usuário:
chage -l Exemplo:
chage -l perm Última mudança de senha : Jan 07, 2014 Senha expira : nunca Senha inativa : nunca Conta expira : nunca Número mínimo de dias entre troca de senhas : 0 Número máximo de dias entre troca de senhas : 99999 Número de dias de avisos antes da expiração da senha : 7 Como podemos visualizar, a senha deste usuário “nunca expira”.</description><content type="html"><![CDATA[<p>Para isso, utilizaremos o comando chage. Antes, listamos as propriedades de login deste usuário:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chage -l
</code></pre></div><p>Exemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">chage -l perm

  Última mudança de senha                              : Jan 07, <span style="color:#ae81ff">2014</span>
  Senha expira                                         : nunca
  Senha inativa                                        : nunca
  Conta expira                                         : nunca
  Número mínimo de dias entre troca de senhas          : <span style="color:#ae81ff">0</span>
  Número máximo de dias entre troca de senhas          : <span style="color:#ae81ff">99999</span>
  Número de dias de avisos antes da expiração da senha : <span style="color:#ae81ff">7</span>
</code></pre></div><p>Como podemos visualizar, a senha deste usuário “nunca expira”. Então, forçaremos a expiração de senha para o próximo login que este usuário venha fazer, executando o comando a seguir:</p>
<pre><code>chage -d 0 perm
</code></pre><p>Fonte: <a href="http://www.vivaolinux.com.br/dica/Configurando-troca-de-senha-de-usuario-no-proximo-login">http://www.vivaolinux.com.br/dica/Configurando-troca-de-senha-de-usuario-no-proximo-login</a></p>
]]></content></item><item><title>Comando para saber quando foi instalado o seu Linux</title><link>https://sidneiweber.com.br/comando-para-saber-quando-foi-instalado-o-seu-linux/</link><pubDate>Wed, 20 Nov 2013 19:29:00 -0300</pubDate><guid>https://sidneiweber.com.br/comando-para-saber-quando-foi-instalado-o-seu-linux/</guid><description>ls -lct /etc | tail -1 | awk &amp;#39;{print $6, $7, $8}&amp;#39;</description><content type="html"><![CDATA[<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">ls -lct /etc | tail -1 | awk <span style="color:#e6db74">&#39;{print $6, $7, $8}&#39;</span>
</code></pre></div>]]></content></item><item><title>Melhor maneira de converter data para mysql [PHP]</title><link>https://sidneiweber.com.br/melhor-maneira-de-converter-data-para-mysql-php/</link><pubDate>Tue, 19 Nov 2013 14:08:08 -0300</pubDate><guid>https://sidneiweber.com.br/melhor-maneira-de-converter-data-para-mysql-php/</guid><description>Se você quer converter uma data vinda do MYSQL para o formato PT-BR use o seguinte comando:
$data = implode(&amp;#34;/&amp;#34;,array_reverse(explode(&amp;#34;-&amp;#34;,$data))); Assim vai converter a data do mysql para o formato brasileiro.
Ex: 2010-31-04 para 31/04/2010
Se você quer converter uma data em formato brasileiro para inserir no mysql use:
$data = implode(&amp;#34;-&amp;#34;,array_reverse(explode(&amp;#34;/&amp;#34;,$data))); O resultado será: 31/04/2010 para 2010-31-04
Fonte: http://www.l9web.com.br/blog/?p=68</description><content type="html"><![CDATA[<p>Se você quer converter uma data vinda do MYSQL para o formato PT-BR use o seguinte comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$data <span style="color:#f92672">=</span> <span style="color:#a6e22e">implode</span>(<span style="color:#e6db74">&#34;/&#34;</span>,<span style="color:#a6e22e">array_reverse</span>(<span style="color:#a6e22e">explode</span>(<span style="color:#e6db74">&#34;-&#34;</span>,$data)));
</code></pre></div><p>Assim vai converter a data do mysql para o formato brasileiro.</p>
<p>Ex: 2010-31-04 para 31/04/2010</p>
<p>Se você quer converter uma data em formato brasileiro para inserir no mysql use:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$data <span style="color:#f92672">=</span> <span style="color:#a6e22e">implode</span>(<span style="color:#e6db74">&#34;-&#34;</span>,<span style="color:#a6e22e">array_reverse</span>(<span style="color:#a6e22e">explode</span>(<span style="color:#e6db74">&#34;/&#34;</span>,$data)));
</code></pre></div><p>O resultado será: 31/04/2010 para 2010-31-04</p>
<p>Fonte: <a href="http://www.l9web.com.br/blog/?p=68">http://www.l9web.com.br/blog/?p=68</a></p>
]]></content></item><item><title>Monitorar a performance do MySQL com Mytop</title><link>https://sidneiweber.com.br/monitorar-a-performance-do-mysql-com-mytop/</link><pubDate>Tue, 23 Apr 2013 12:17:04 -0300</pubDate><guid>https://sidneiweber.com.br/monitorar-a-performance-do-mysql-com-mytop/</guid><description>Desenvolvido por Jeremy D. Zawodny, o Mytop é uma ferramenta para monitorar o MySQL baseada em console (sem interface gráfica). É utilizada para verificar o desempenho geral e threads do MySQL.
Roda na maioria dos sistemas Linux/Unix (incluindo Mac OS X), que tenham o Perl, DBI e Term:: ReadKey instalados. E com o Term:: ANSIColor instalado, você ainda terá cores. Se você instalar o Time::HiRes, você terá consultas de status em tempo real/segundos.</description><content type="html"><![CDATA[<p>Desenvolvido por <em>Jeremy D. Zawodny</em>, o <em>Mytop</em> é uma ferramenta para monitorar o MySQL baseada em console (sem interface gráfica). É utilizada para verificar o desempenho geral e threads do MySQL.</p>
<p>Roda na maioria dos sistemas <a href="http://www.vivaolinux.com.br/linux/">Linux</a>/Unix (incluindo Mac OS X), que tenham o Perl, DBI e Term:: ReadKey instalados. E com o Term:: ANSIColor instalado, você ainda terá cores. Se você instalar o Time::HiRes, você terá consultas de status em tempo real/segundos.</p>
<p>Plataformas suportadas:</p>
<ul>
<li>Linux</li>
<li>FreeBSD</li>
<li>Mac OS X</li>
<li>BSDI</li>
<li>Solaris</li>
<li>Windows</li>
</ul>
<p>Vamos instalar o Mytop, abra o terminal (console) e siga as instruções.</p>
<p>Para sistemas que utilizam o apt-get, você pode instalar como este comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-get install mytop
</code></pre></div><p>Em sistemas baseados no Red Hat, como Fedora, você pode executar o comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yum -y install mytop
</code></pre></div><p>Se preferir, você pode fazer o download do arquivo em:</p>
<ul>
<li><a href="http://jeremy.zawodny.com/mysql/mytop/">http://jeremy.zawodny.com/mysql/mytop/</a></li>
</ul>
<p>Execute estes comandos para descompactar e instalar o Mytop:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">tar -zxvf mytop-&lt;version&gt;.tar.gz
$ cd mytop-&lt;version&gt;
$ perl Makefile.PL
$ make
$ make test
$ sudo make install
</code></pre></div><p>Pronto, a ferramenta está instalada!</p>
<h1 id="executando-o-mytop">Executando o Mytop</h1>
<p>A maneira mais simples de executar Mytop é executar o comando diretamente na linha de comando. No terminal digite:</p>
<p>mytop -u &lt;usuário&gt; -p <!-- raw HTML omitted --> -h <!-- raw HTML omitted -->_</p>
<p>Por exemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">mytop -u tsarmento -p vol2011 -h 172.16.99.253
</code></pre></div><p>Alguns outros argumentos:</p>
<ul>
<li>” ? ” – Exibe ajuda;</li>
<li>” d ” – Mostra as conexões a uma determinada base de dados – Nome da base de dado;</li>
<li>” f ” – Mostra a consulta completa de uma dado ID de processo (deve ser um processo ativo);</li>
<li>” F “- Desabilita todos os filtros (host, user, and db);</li>
<li>” h ” – Mostra apenas as consultas de um determinado host, conectar a um computador remoto;</li>
<li>” I ” – Mostra o status do InnoDB;</li>
<li>” k ” – Mata um processo;</li>
<li>” m ” – Muda o modo de exibição de top para qps (Queries Per Second Mode). Ele exibirá na tela a quantidade de querys por segundo;</li>
<li>” o ” – Inverte a ordem padrão de ordenação;</li>
<li>” p ” – Pausa a exibição;</li>
<li>” q ” – Sair do mytop;</li>
<li>” r ” – Reset os contadores de status do servidor via comando FLUSH STATUS;</li>
<li>” s ” – Muda o tempo de atualização do refresh (em segundos);</li>
<li>” u ” – Mostra os processos de um determinado usuário;</li>
<li>” P ” – Especifica uma porta não-padrão do MySQL para conectar;</li>
</ul>
<p>Se você não quer ter que lembrar suas opções, pode criar um arquivo <em>~/.mytop</em> para armazenar os argumentos neste formato:</p>
<pre><code>user=root
pass=
host=localhost
db=minhabasededados
delay=5
port=3306
socket=
batchmode=0
header=1
color=1
idle=1
</code></pre><p>Usando um arquivo de configuração irá ajudar a assegurar que a sua senha do banco de dados não fique visível aos usuários na linha de comando. Apenas certifique-se de que as permissões do arquivo ~/.mytop estão de tal forma que os outros usuários não tenham permissão de leitura (a menos que você queira, claro).</p>
<p>Você pode ter algum espaço em branco nas linhas do arquivo de configuração, depois do =. Para mais informações acesse:</p>
<ul>
<li><a href="http://jeremy.zawodny.com/mysql/mytop">http://jeremy.zawodny.com/mysql/mytop</a></li>
</ul>
<p>Agradeço a todos pela atenção.</p>
<p>Viva o Linux, porque nós amamos a Liberdade!</p>
<p><a href="http://www.vivaolinux.com.br/dica/Monitorar-a-performance-do-MySQL-com-Mytop">Fonte</a></p>
]]></content></item><item><title>Desligar ou reiniciar o computador com hora marcada</title><link>https://sidneiweber.com.br/desligar-ou-reiniciar-o-computador-com-hora-marcada/</link><pubDate>Tue, 23 Apr 2013 12:02:44 -0300</pubDate><guid>https://sidneiweber.com.br/desligar-ou-reiniciar-o-computador-com-hora-marcada/</guid><description>Para programar o computador para desligar em um certo horário, basta como root usar o seguinte comando:
shutdown -h hh:mm Sendo que hh são as horas no formato de 24 horas e mm são os minutos.
Outra maneira para programar o desligamento do seu pc é usar o seguinte comando:
shutdown -h +m Sendo que m é o número de minutos que você deseja até o computador desligar.
Ex:
shutdown -h +300 Significa que o computador desligará daqui a 300 minutos.</description><content type="html"><![CDATA[<p>Para programar o computador para desligar em um certo horário, basta como root usar o seguinte comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">shutdown -h hh:mm
</code></pre></div><p>Sendo que hh são as horas no formato de 24 horas e mm são os minutos.</p>
<p>Outra maneira para programar o desligamento do seu pc é usar o seguinte comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">shutdown -h +m
</code></pre></div><p>Sendo que m é o número de minutos que você deseja até o computador desligar.</p>
<p>Ex:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">shutdown -h +300
</code></pre></div><p>Significa que o computador desligará daqui a 300 minutos.</p>
<p>Depois de executar um desses comandos começará uma contagem regressiva no seu terminal. Da mesma maneira podemos utilizar esses dois modelos para reiniciar o computador. A diferença é que em vez de passar o parâmetro -h, passaremos o parâmetro -r. Ficaria assim:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">shutdown -r hh:mm
</code></pre></div><p>ou</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">shutdown -r +m
</code></pre></div><p><a href="http://www.vivaolinux.com.br/dica/Desligar-ou-reiniciar-o-computador-com-hora-marcada">Fonte</a></p>
]]></content></item><item><title>Mudando o nome da placa de rede</title><link>https://sidneiweber.com.br/mudando-o-nome-da-placa-de-rede/</link><pubDate>Tue, 23 Apr 2013 12:00:50 -0300</pubDate><guid>https://sidneiweber.com.br/mudando-o-nome-da-placa-de-rede/</guid><description>Semana passada me deparei com a seguinte situação, tinha um servidor com duas placas de rede , eth0 e eth1 , só que a placa de rede eth0 deu pau e foi trocada, porem, quando foi instalada a nova placa o servidor reconheceu como eth2s.
Para resolver essa situação faça o seguinte:
Com o usuário root edite o arquivo:
vi /etc/udev/rules.d/70-persistent-net.rules Apague as linhas:
Salva, saia e reinicie !
Suas placas voltarão novamente eth0 e eth1.</description><content type="html"><![CDATA[<p>Semana passada me deparei com a seguinte situação, tinha um servidor com  duas placas de rede , eth0 e eth1 , só que a placa de rede eth0 deu pau e foi trocada, porem, quando foi instalada a nova placa o servidor reconheceu como eth2s.</p>
<p>Para resolver essa situação faça o seguinte:</p>
<p>Com o usuário root edite o arquivo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">vi /etc/udev/rules.d/70-persistent-net.rules
</code></pre></div><p>Apague as linhas:</p>
<p><img src="http://ediomaico.files.wordpress.com/2011/03/70-persistent-net-rules.jpg" alt="netrules"></p>
<p>Salva, saia e reinicie !</p>
<p>Suas placas voltarão novamente <code>eth0</code> e <code>eth1</code>.</p>
<p><a href="http://ediomaico.wordpress.com/2011/03/21/mudando-o-nome-da-placa-de-rede/">Fonte</a></p>
]]></content></item><item><title>Rarcrack - Quebrando senhas de arquivos rar, 7z e zip</title><link>https://sidneiweber.com.br/rarcrack-quebrando-senhas-de-arquivos-rar-7z-e-zip/</link><pubDate>Tue, 23 Apr 2013 11:58:04 -0300</pubDate><guid>https://sidneiweber.com.br/rarcrack-quebrando-senhas-de-arquivos-rar-7z-e-zip/</guid><description>Ontem fiz download de um arquivo RAR e para minha surpresa o mesmo estava com senha. Antes de procurar outros links resolvi tentar quebrar a senha deste arquivo mesmo, e buscando uma solução no Google eis que acho o rarcrack, um brute force para arquivos .rar, .zip e 7-zip.
Faça download do arquivo em:
http://sourceforge.net/projects/rarcrack/files/rarcrack-0.2/%5BUnnamed%20release%5D/ Feito o download, como root, navegue até a pasta onde salvou o arquivo e faça:</description><content type="html"><![CDATA[<p>Ontem fiz download de um arquivo RAR e para minha surpresa o mesmo estava com senha. Antes de procurar outros links resolvi tentar quebrar a senha deste arquivo mesmo, e buscando uma solução no Google eis que acho o <em>rarcrack</em>, um brute force para arquivos .rar, .zip e 7-zip.</p>
<p>Faça download do arquivo em:</p>
<ul>
<li><a href="http://sourceforge.net/projects/rarcrack/files/rarcrack-0.2/%5BUnnamed%20release%5D/">http://sourceforge.net/projects/rarcrack/files/rarcrack-0.2/%5BUnnamed%20release%5D/</a></li>
</ul>
<p>Feito o download, como root, navegue até a pasta onde salvou o arquivo e faça:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">tar -xjf rarcrack-VERSAO.tar.bz2  
cd rarcrack-VERSAO
</code></pre></div><p>Você precisará do gcc ou outro compilador C:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">make  
make install
</code></pre></div><p>Pronto, instalado.</p>
<p>Para usar o rarcrack:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">rarcrack --type *rar nomedoarquivo.rar
</code></pre></div><ul>
<li>o type fica a seu critério, dependendo do seu arquivo compactado.</li>
</ul>
<p>Obs.: Infelizmente acabei não lembrando de cronometrar o processo. Mas após 30~45min o arquivo já estava extraído.</p>
<p><a href="http://www.vivaolinux.com.br/dica/Rarcrack-Quebrando-senhas-de-arquivos-rar-7z-e-zip">Fonte</a></p>
]]></content></item><item><title>Ativando o suporte a SSL em servidores web</title><link>https://sidneiweber.com.br/ativando-o-suporte-a-ssl-em-servidores-web/</link><pubDate>Tue, 23 Apr 2013 11:55:16 -0300</pubDate><guid>https://sidneiweber.com.br/ativando-o-suporte-a-ssl-em-servidores-web/</guid><description>O SSL (Secure Socket Layer) é o protocolo usado para criar páginas seguras, encriptando toda a transmissão entre o cliente e o servidor. Os dois usos mais comuns são em páginas de comércio eletrônico, onde é necessário oferecer um ambiente seguro para concluir a transação e transmitir dados confidenciais e também na criação de ambientes administrativos, como os usados pela maioria dos gestores de conteúdo, que permitem que você gerencie o conteúdo do site.</description><content type="html"><![CDATA[<p>O SSL (Secure Socket Layer) é o protocolo usado para criar páginas seguras, encriptando toda a transmissão entre o cliente e o servidor. Os dois usos mais comuns são em páginas de comércio eletrônico, onde é necessário oferecer um ambiente seguro para concluir a transação e transmitir dados confidenciais e também na criação de ambientes administrativos, como os usados pela maioria dos gestores de conteúdo, que permitem que você gerencie o conteúdo do site.</p>
<p>Na grande maioria das distribuições, o pacote com o mod_ssl é instalado juntamente com o pacote principal do Apache, ou é pelo menos disponibilizado como um pacote separado, instalável através do gerenciador de pacotes.</p>
<p>No caso das distribuições derivadas do Debian, você precisa apenas ativar o módulo usando o comando &ldquo;a2enmod&rdquo;. Reinicie o serviço para que a alteração entre em vigor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">a2enmod ssl
/etc/init.d/apache2 force-reload
</code></pre></div><p>No caso do CentOS, é necessário instalar o pacote &ldquo;mod_ssl&rdquo; usando o yum. O script de pós-instalação se encarrega de adicionar o script de carregamento na pasta &ldquo;/etc/httpd/conf.d&rdquo; automaticamente, concluindo a instalação. Não se esqueça de reiniciar o serviço para que a alteração entre em vigor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yum install mod_ssl
service httpd restart
</code></pre></div><p>Com o módulo carregado, fica faltando apenas o componente mais importante, que é o certificado SSL propriamente dito.</p>
<p>Se você quer ativar o SSL para testes ou para uso interno (para acessar alguma ferramenta administrativa instalada no servidor, ou para uso em uma página disponibilizada apenas para um grupo de amigos, por exemplo), você pode simplesmente gerar seu próprio certificado, o que é rápido, grátis e indolor. Se, por outro lado, você está ativando o SSL para uso em um site de comércio eletrônico, é necessário obter um certificado reconhecido através da Verisign ou outra entidade certificadora.</p>
<p>Os certificados caseiros são chamados de certificados self-signed (auto-assinados), já que você mesmo faz o papel de entidade certificadora, gerando e assinando o certificado. O algoritmo de encriptação usado é o mesmo, de forma que um certificado self-signed corretamente gerado oferece a mesma segurança que um certificado reconhecido. O grande problema é que os navegadores nos clientes não serão capazes de verificar a autenticidade do certificado, de forma que os visitantes receberão um aviso de &ldquo;certificado não reconhecido&rdquo; ao acessarem a página:</p>
<p><img src="https://www.metaweb.com.br/imagens/produtos/ssl.png" alt="ssl ><"></p>
<p>O propósito de entidades certificadoras, como a Verisign, é confirmar a titularidade dos certificados, confirmando que o certificado recebido ao acessar determinado site pertence realmente à entidade que o está fornecendo. É isso que garante que você está mesmo acessando o home banking do banco em que tem conta e não o site de um script kiddie qualquer. Certificados assinados por entidades certificadoras são automaticamente aceitos pelos navegadores (já que sua identidade já foi confirmada pela entidade certificadora), o que evita a exibição da mensagem.</p>
<p>Vamos então começar com a configuração de um certificado self-signed, e em seguida entender o que muda ao utilizar um certificado reconhecido.</p>
<p><a href="http://www.hardware.com.br/dicas/ssl-servidores-web.html">Fonte:</a></p>
]]></content></item><item><title>Validando Formulários PHP</title><link>https://sidneiweber.com.br/validando-formularios-php/</link><pubDate>Tue, 23 Apr 2013 11:49:34 -0300</pubDate><guid>https://sidneiweber.com.br/validando-formularios-php/</guid><description>Validando CEP O código abaixo valida o CEP informado através do método POST (conforme script abaixo).
&amp;lt;?php &amp;lt;span style=&amp;#34;font-family:Consolas, Monaco, monospace;&amp;#34;&amp;gt; // Validando CEP&amp;lt;/span&amp;gt; if($_POST[&amp;#39;cep&amp;#39;]){ if (!eregi(&amp;#34;^[0-9]{5}-[0-9]{3}$&amp;#34;, $_POST[&amp;#39;cep&amp;#39;])) { echo &amp;#34;&amp;lt;script language=&amp;#34;JavaScript&amp;#34;&amp;gt;alert(&amp;#39;CEP inválido !!!&amp;#39;);&amp;lt;/script&amp;gt;&amp;#34;; }else{ echo &amp;#34;O CEP $cepfoi validado com sucesso!!!&amp;#34;; } } ?&amp;gt;Onde informamos que o CEP foi validado com sucesso, tu poderá customizar de acordo com suas necessidades!
Validando Data O código abaixo valida a Data informada através do método POST (conforme script abaixo).</description><content type="html"><![CDATA[<h2 id="span-idvalidando_cepvalidando-cepspan"><!-- raw HTML omitted -->Validando CEP<!-- raw HTML omitted --></h2>
<p>O código abaixo valida o CEP informado através do método POST (conforme script abaixo).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
<span style="color:#f92672">&lt;</span><span style="color:#a6e22e">span</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;font-family:Consolas, Monaco, monospace;&#34;</span><span style="color:#f92672">&gt;</span>
<span style="color:#75715e">// Validando CEP&lt;/span&gt;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span>($_POST[<span style="color:#e6db74">&#39;cep&#39;</span>]){

<span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">eregi</span>(<span style="color:#e6db74">&#34;^[0-9]{5}-[0-9]{3}$&#34;</span>, $_POST[<span style="color:#e6db74">&#39;cep&#39;</span>])) {
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;&lt;script language=&#34;</span><span style="color:#a6e22e">JavaScript</span><span style="color:#e6db74">&#34;&gt;alert(&#39;CEP inválido !!!&#39;);&lt;/script&gt;&#34;</span>;

}<span style="color:#66d9ef">else</span>{
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;O CEP </span><span style="color:#e6db74">$cep</span><span style="color:#e6db74"> foi validado com sucesso!!!&#34;</span>;
}
}
<span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Onde informamos que o CEP foi validado com sucesso, tu poderá customizar de acordo com suas necessidades!</p>
<h2 id="span-idvalidando_datavalidando-dataspan"><!-- raw HTML omitted -->Validando Data<!-- raw HTML omitted --></h2>
<p>O código abaixo valida a Data informada através do método POST (conforme script abaixo).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>

<span style="color:#75715e">// Validando Data
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span>($_POST[<span style="color:#e6db74">&#39;data&#39;</span>]){
<span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">eregi</span>(<span style="color:#e6db74">&#34;^[0-9]{2}/[0-9]{2}/[0-9]{4}$&#34;</span>, $_POST[<span style="color:#e6db74">&#39;data&#39;</span>])) {
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;&lt;script language=&#34;</span><span style="color:#a6e22e">JavaScript</span><span style="color:#e6db74">&#34;&gt;alert(&#39;Data inválida !!!&#39;);&lt;/script&gt;&#34;</span>;

}<span style="color:#66d9ef">else</span>{
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;A Data </span><span style="color:#e6db74">$data</span><span style="color:#e6db74"> foi validada com sucesso!!!&#34;</span>;
}
}
<span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Onde informamos que validação da Data foi efetuada com sucesso, tu poderá customizar de acordo com suas necessidades!</p>
<h2 id="span-idvalidando_endereco_de_emailvalidando-endereço-de-emailspan"><!-- raw HTML omitted -->Validando Endereço de EMail<!-- raw HTML omitted --></h2>
<p>O código abaixo deverá validar o Endereço de Email informado através do método POST (conforme script abaixo).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>

<span style="color:#75715e">// Validando o EMail
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> ($_POST[<span style="color:#e6db74">&#39;email&#39;</span>]){

<span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">eregi</span>(<span style="color:#e6db74">&#34;^[a-z0-9_.-]+@[a-z0-9_.-]*[a-z0-9_-]+.[a-z]{2,4}$&#34;</span>, $_POST[<span style="color:#e6db74">&#39;email&#39;</span>])) {
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;&lt;script language=&#34;</span><span style="color:#a6e22e">JavaScript</span><span style="color:#e6db74">&#34;&gt;alert(&#39;Email inválido !!!&#39;);&lt;/script&gt;&#34;</span>;

}<span style="color:#66d9ef">else</span>{
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;O EMail </span><span style="color:#e6db74">$email</span><span style="color:#e6db74"> foi validado com sucesso!!!&#34;</span>;

}
}
<span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Onde informamos que validação do EMail foi efetuado com sucesso, tu poderá customizar de acordo com suas necessidades!</p>
<h2 id="span-idvalidando_telefonesvalidando-telefonesspan"><!-- raw HTML omitted -->Validando Telefones<!-- raw HTML omitted --></h2>
<p>Abaixo temos 2 exemplos de validação de telefone.</p>
<p>Exemplo 01:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>

<span style="color:#75715e">// Validando Telefone no Formato xxxx-xxxx
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span>($_POST[<span style="color:#e6db74">&#39;telefone&#39;</span>]){

<span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">eregi</span>(<span style="color:#e6db74">&#34;^[0-9]{4}-[0-9]{4}$&#34;</span>, $_POST[<span style="color:#e6db74">&#39;telefone&#39;</span>])) {
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;&lt;script language=&#34;</span><span style="color:#a6e22e">JavaScript</span><span style="color:#e6db74">&#34;&gt;alert(&#39;Telefone inválido !!!&#39;);&lt;/script&gt;&#34;</span>;

}<span style="color:#66d9ef">else</span>{
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;O Telefone </span><span style="color:#e6db74">$telefone</span><span style="color:#e6db74"> foi validado com sucesso!!!&#34;</span>;

}
}
<span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Exemplo 02:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>

<span style="color:#75715e">// Validando Telefone no Formato (DDD) xxxx-xxxx
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span>($_POST[<span style="color:#e6db74">&#39;telefone&#39;</span>]){

<span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">eregi</span>(<span style="color:#e6db74">&#34;^([0-9]{3}) [0-9]{4}-[0-9]{4}$&#34;</span>, $_POST[<span style="color:#e6db74">&#39;telefone&#39;</span>])) {
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;&lt;script language=&#34;</span><span style="color:#a6e22e">JavaScript</span><span style="color:#e6db74">&#34;&gt;alert(&#39;Telefone inválido !!!&#39;);&lt;/script&gt;&#34;</span>;

}<span style="color:#66d9ef">else</span>{
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;O Telefone </span><span style="color:#e6db74">$telefone</span><span style="color:#e6db74"> foi validado com sucesso!!!&#34;</span>;
<span style="color:#f92672">&lt;</span><span style="color:#a6e22e">span</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;font-family:Consolas, Monaco, monospace;&#34;</span><span style="color:#f92672">&gt;</span>}<span style="color:#f92672">&lt;/</span><span style="color:#a6e22e">span</span><span style="color:#f92672">&gt;</span>
}
<span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Onde informamos que a validação do Telefone foi efetuada com sucesso, tu poderá customizar de acordo com suas necessidades!</p>
<h2 id="span-idvalidando_paginavalidando-páginaspan"><!-- raw HTML omitted -->Validando Página<!-- raw HTML omitted --></h2>
<p>Esse script é especial e necessário para quem é desenvolvedor web!</p>
<p>Imagine aquele sistema enorme que você produziu e deixou no Servidor de seu cliente?</p>
<p>Após receber o conteúdo ele vende ou fornece cópia para um “amigo” que quer uma solução similar!</p>
<p>Criptografando o código e colocando este conteúdo, você garantirá a segurança de suas informações!</p>
<p>Vamos dar uma olhada no código?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>

<span style="color:#f92672">&lt;</span><span style="color:#a6e22e">span</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;font-family:Consolas, Monaco, monospace;&#34;</span><span style="color:#f92672">&gt;//</span> <span style="color:#a6e22e">Valida</span> <span style="color:#a6e22e">a</span> <span style="color:#a6e22e">cópia</span> <span style="color:#66d9ef">do</span> <span style="color:#a6e22e">Sistema</span><span style="color:#f92672">&lt;/</span><span style="color:#a6e22e">span</span><span style="color:#f92672">&gt;</span>

$server <span style="color:#f92672">=</span> $_SERVER[<span style="color:#e6db74">&#39;SERVER_NAME&#39;</span>];
$endereco <span style="color:#f92672">=</span> $_SERVER [<span style="color:#e6db74">&#39;REQUEST_URI&#39;</span>];
$url <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://&#34;</span> <span style="color:#f92672">.</span> $server <span style="color:#f92672">.</span> $endereco;

$url_certa <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://enderecodosite.com/&#34;</span>;

<span style="color:#66d9ef">if</span>($url <span style="color:#f92672">!=</span> $url_certa) {
<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;&lt;script language=&#34;</span><span style="color:#a6e22e">JavaScript</span><span style="color:#e6db74">&#34;&gt;alert(&#39;VOCÊ NÃO TEM LICENÇA PARA USAR ESTA LOJA - Entre em contato com o EMail email@seuemail.com.br para validar sucópia.&#39;);&lt;/script&gt;&#34;</span>;

}<span style="color:#66d9ef">else</span>{

<span style="color:#66d9ef">echo</span> <span style="color:#e6db74">&#34;COLOQUE AQUI O CÓDIGO DA PÁGINA&#34;</span>;
}
<span style="color:#f92672">&lt;</span><span style="color:#a6e22e">span</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;font-family:Consolas, Monaco, monospace;&#34;</span><span style="color:#f92672">&gt;</span><span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010">&lt;a href=&#34;http://www.webmaster.pt/como-validar-formulario-8269.html&#34;&gt;Fonte&lt;/a&gt;&lt;/span&gt;
</span></code></pre></div>]]></content></item><item><title>Pac-Man no terminal Ubuntu</title><link>https://sidneiweber.com.br/pac-man-no-terminal-ubuntu/</link><pubDate>Fri, 19 Apr 2013 16:58:35 -0300</pubDate><guid>https://sidneiweber.com.br/pac-man-no-terminal-ubuntu/</guid><description>Mais uma dica rápida sobre o jogo Pac-Man para o Ubuntu.
Instalação:
sudo apt-get install pacman4console E depois, com o terminal aberto, digite:
pacman4console Aparecerá esta mensagem:
Sorry.
To play Pacman for Console, your console window must be at least 32×29
Please resize your window/resolution and re-run the game.
Resumindo, o terminal tem que estar maximizado.
E pronto. Já poderá jogar:
Na dúvida, verifique a man page:</description><content type="html"><![CDATA[<p>Mais uma dica rápida sobre o jogo <em>Pac-Man</em> para o <em>Ubuntu</em>.</p>
<p>Instalação:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sudo apt-get install pacman4console
</code></pre></div><p>E depois, com o terminal aberto, digite:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pacman4console
</code></pre></div><p>Aparecerá esta mensagem:</p>
<blockquote>
<p>Sorry.<br>
To play Pacman for Console, your console window must be at least 32×29<br>
Please resize your window/resolution and re-run the game.</p>
</blockquote>
<p>Resumindo, o terminal tem que estar maximizado.</p>
<p>E pronto. Já poderá jogar:</p>
<p><img src="http://img.vivaolinux.com.br/imagens/dicas/comunidade/thumb_pacman4console.png" alt="pacman ><"></p>
<p>Na dúvida, verifique a <em>man page</em>:</p>
<pre><code>man pacman4console
</code></pre>]]></content></item><item><title>Verificar máquinas ligadas com shell script</title><link>https://sidneiweber.com.br/verificar-maquinas-ligadas-do-shell-script/</link><pubDate>Mon, 28 Jan 2013 22:58:55 -0300</pubDate><guid>https://sidneiweber.com.br/verificar-maquinas-ligadas-do-shell-script/</guid><description>Estava interessado em criar uma forma de scannear a rede para saber quantos micros estavam conectados a ela, saber nome, grupo, MAC ADDRESS.
Para que o script funcione será preciso instalar alguns softwares:
dialog:
apt-get install dialog nmap:
apt-get install nmap Copie o código e cole em um arquivo texto e salve com um nome de sua preferência, de permissão para executar (chmod +x nome_do_arquivo.sh) e em seguida execute-o (./nome_do_arquivo.sh):</description><content type="html"><![CDATA[<p>Estava interessado em criar uma forma de scannear a rede para saber quantos micros estavam conectados a ela, saber nome, grupo, MAC ADDRESS.</p>
<p>Para que o script funcione será preciso instalar alguns softwares:</p>
<p>dialog:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apt-get install dialog
</code></pre></div><p>nmap:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">apt-get install nmap
</code></pre></div><p>Copie o código e cole em um arquivo texto e salve com um nome de sua preferência, de permissão para executar (chmod +x nome_do_arquivo.sh) e em seguida execute-o (./nome_do_arquivo.sh):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>
Principal <span style="color:#f92672">(</span> <span style="color:#f92672">)</span> <span style="color:#f92672">{</span> <span style="color:#75715e">## Inicio Primeiro Bloco</span>
clear
<span style="color:#75715e"># Loop que mostra o menu principal</span>
<span style="color:#66d9ef">while</span> : ; <span style="color:#66d9ef">do</span> <span style="color:#75715e"># Mostra o menu na tela, com as ações disponíveis</span>
opcao<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>
dialog --stdout
--title <span style="color:#e6db74">&#39;Menu principal&#39;</span>
--menu <span style="color:#e6db74">&#39;Escolha as opções:&#39;</span>
<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>
<span style="color:#ae81ff">1</span> <span style="color:#e6db74">&#39;Scannear IPs da Rede&#39;</span>
<span style="color:#ae81ff">0</span> <span style="color:#e6db74">&#39;Sair&#39;</span><span style="color:#66d9ef">)</span>

<span style="color:#f92672">[</span> $? -ne <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> Sair <span style="color:#75715e"># Se apertado CANCELAR ou ESC, então vamos Sair...</span>

<span style="color:#66d9ef">case</span> $opcao in <span style="color:#75715e">## ## Inicio case</span>
1<span style="color:#f92672">)</span>ipscan ;;
0<span style="color:#f92672">)</span>Sair ;;

<span style="color:#66d9ef">esac</span> <span style="color:#75715e">## Fim da verificação</span>
<span style="color:#66d9ef">done</span>
<span style="color:#f92672">}</span>
<span style="color:#75715e">## FIM MENU PRINCIPAL</span>

<span style="color:#75715e">## ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ ##</span>

ipscan <span style="color:#f92672">(</span> <span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
clear
inicio<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>dialog --stdout --title <span style="color:#e6db74">&#39;Firerock ipscan&#39;</span> --inputbox <span style="color:#e6db74">&#39;Inicio (Ex.192.168.0.1)&#39;</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">)</span>

<span style="color:#f92672">[</span> $? -ne <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> Principal <span style="color:#75715e"># Se apertado CANCELAR ou ESC, então vamos Sair...</span>
final<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>dialog --stdout --title <span style="color:#e6db74">&#39;Firerock ipscan&#39;</span> --inputbox <span style="color:#e6db74">&#39;Final (Ex.192.168.0.254)&#39;</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">)</span>

<span style="color:#f92672">[</span> $? -ne <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> ipscan <span style="color:#75715e"># Se apertado CANCELAR ou ESC, então vamos Sair...</span>

<span style="color:#75715e">#faixa_rede=`echo &#34;$inicio&#34; | cut -d &#39;.&#39; -f 1-3`</span>
inicio_host<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>echo <span style="color:#e6db74">&#34;</span>$inicio<span style="color:#e6db74">&#34;</span> | cut -d <span style="color:#e6db74">&#39;.&#39;</span> -f 4<span style="color:#e6db74">`</span>
final_host<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>echo <span style="color:#e6db74">&#34;</span>$final<span style="color:#e6db74">&#34;</span> | cut -d <span style="color:#e6db74">&#39;.&#39;</span> -f 4<span style="color:#e6db74">`</span>

inicio_host<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>expr $inicio_host - 1<span style="color:#66d9ef">)</span>
hosts_verificados<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>expr $final_host - $inicio_host<span style="color:#66d9ef">)</span>

dialog --yesno <span style="color:#e6db74">&#39;O processo pode levar alguns minutos! Deseja Continuar?&#39;</span> <span style="color:#ae81ff">6</span> <span style="color:#ae81ff">45</span>

<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $? <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
continua

<span style="color:#66d9ef">else</span>
clear
ipscan
<span style="color:#66d9ef">fi</span>
<span style="color:#f92672">}</span>
continua <span style="color:#f92672">(</span> <span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
echo <span style="color:#e6db74">&#34; &#34;</span>
echo <span style="color:#e6db74">&#34;STATUS ENDEREÇO IPv4 MAC ADDRESS NOME GRUPO &#34;</span> &amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;------------------------------------------------------------------------------------------&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt

ips_on<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>nmap -sP <span style="color:#e6db74">&#34;</span>$inicio<span style="color:#e6db74">-</span>$final_host<span style="color:#e6db74">&#34;</span> | awk <span style="color:#e6db74">&#39;/^Host/ {print $2}&#39;</span><span style="color:#66d9ef">)</span>
online<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>
offline<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>

<span style="color:#66d9ef">for</span> ip in $ips_on; <span style="color:#66d9ef">do</span>
<span style="color:#66d9ef">$(</span>nmblookup -A $ip &amp;gt; /tmp/nm_hosts.txt<span style="color:#66d9ef">)</span> <span style="color:#75715e">## Saída do comando é # entre clientes Windows e Unix (Linux)</span>
mac_address_win2003<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cat /tmp/nm_hosts.txt | awk <span style="color:#e6db74">&#39;NR==9 {print $4}&#39;</span><span style="color:#66d9ef">)</span>
mac_address_xp<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cat /tmp/nm_hosts.txt | awk <span style="color:#e6db74">&#39;NR==7 {print $4}&#39;</span><span style="color:#66d9ef">)</span>
nm_pc<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cat /tmp/nm_hosts.txt | awk <span style="color:#e6db74">&#39;NR==2 {print $1}&#39;</span><span style="color:#66d9ef">)</span>
nm_grupo<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cat /tmp/nm_hosts.txt | awk <span style="color:#e6db74">&#39;NR==3 {print $1}&#39;</span><span style="color:#66d9ef">)</span>

mac_address_unix<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cat /tmp/nm_hosts.txt | awk <span style="color:#e6db74">&#39;NR==10 {print $4}&#39;</span><span style="color:#66d9ef">)</span> <span style="color:#75715e">##inicio de verificação p/ ver se é cliente Unix</span>

<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$mac_address_unix<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;00-00-00-00-00-00&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span> <span style="color:#75715e">## Se $mac_address_unix for igual a 00-00-00-00-00-00 é um cliente unix</span>
<span style="color:#75715e">#mac_address=$(cat /tmp/nm_hosts.txt | awk &#39;NR==10 {print $4}&#39;)</span>
nm_pc<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cat /tmp/nm_hosts.txt | awk <span style="color:#e6db74">&#39;NR==2 {print $1}&#39;</span><span style="color:#66d9ef">)</span>
nm_grupo<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cat /tmp/nm_hosts.txt | awk <span style="color:#e6db74">&#39;NR==6 {print $1}&#39;</span><span style="color:#66d9ef">)</span>
echo <span style="color:#e6db74">&#34;On </span>$ip<span style="color:#e6db74"> </span>$mac_address_unix<span style="color:#e6db74"> </span>$nm_pc<span style="color:#e6db74"> </span>$nm_grupo<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
online<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>expr $online + 1<span style="color:#66d9ef">)</span>

<span style="color:#66d9ef">else</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$mac_address_xp<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
echo <span style="color:#e6db74">&#34;On </span>$ip<span style="color:#e6db74"> </span>$mac_address_win2003<span style="color:#e6db74"> </span>$nm_pc<span style="color:#e6db74"> </span>$nm_grupo<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
online<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>expr $online + 1<span style="color:#66d9ef">)</span>

<span style="color:#66d9ef">else</span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! $nm_pc <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;No&#39;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
echo <span style="color:#e6db74">&#34;On </span>$ip<span style="color:#e6db74"> </span>$mac_address_xp<span style="color:#e6db74"> </span>$nm_pc<span style="color:#e6db74"> </span>$nm_grupo<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
online<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>expr $online + 1<span style="color:#66d9ef">)</span>

<span style="color:#66d9ef">else</span>
mac_address<span style="color:#f92672">=</span>
nm_pc<span style="color:#f92672">=</span>
nm_grupo<span style="color:#f92672">=</span>
echo <span style="color:#e6db74">&#34;On </span>$ip<span style="color:#e6db74"> </span>$mac_address<span style="color:#e6db74"> </span>$nm_pc<span style="color:#e6db74"> </span>$nm_grupo<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
online<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>expr $online + 1<span style="color:#66d9ef">)</span>
<span style="color:#66d9ef">fi</span>
<span style="color:#66d9ef">fi</span>
<span style="color:#66d9ef">fi</span>
<span style="color:#66d9ef">done</span>
offline<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>expr $hosts_verificados - $online<span style="color:#66d9ef">)</span>
echo <span style="color:#e6db74">&#34;------------------------------------------------------------------------------------------&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34; &#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt

echo <span style="color:#e6db74">&#34;Informações:&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;Faixa de IPs verificados:&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;Inicio: </span>$inicio<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;Final : </span>$final<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34; &#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;Hosts Verificado: </span>$hosts_verificados<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;Hosts Online: </span>$online<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;Hosts Offline: </span>$offline<span style="color:#e6db74">&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34; &#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;OBS:&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;Endereços com status On que não possuem (ou é invalido) MAC ADDRESS, NOME, GRUPO ou qualquer um, geralmente são clientes UNIX.&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;Exemplos:&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;On 192.168.0.1 &#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
echo <span style="color:#e6db74">&#34;On 192.168.0.254 00-00-00-00-00-00 Meupc MEUGRUPO&#34;</span> &amp;gt;&amp;gt; /tmp/hosts.txt
dialog
--title <span style="color:#e6db74">&#39;Lista de Hosts Online&#39;</span>
--textbox /tmp/hosts.txt
<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>

ipscan
<span style="color:#f92672">}</span>

<span style="color:#75715e">## ------------------------------------------------------------------------------------------------------------------------------------------------------</span>
Sair <span style="color:#f92672">(</span> <span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
clear
exit
<span style="color:#f92672">}</span>
Principal&lt;/pre&gt;
</code></pre></div><p>Fonte: <a href="http://www.vivaolinux.com.br/dica/Ipscan-com-shell-script+dialog+nmap">http://www.vivaolinux.com.br/dica/Ipscan-com-shell-script+dialog+nmap</a></p>
]]></content></item><item><title>Mudando a posição dos botões do menu ubuntu 12.10</title><link>https://sidneiweber.com.br/mudando-a-posicao-dos-botoes-do-menu-ubuntu-12-10/</link><pubDate>Mon, 31 Dec 2012 13:24:56 -0300</pubDate><guid>https://sidneiweber.com.br/mudando-a-posicao-dos-botoes-do-menu-ubuntu-12-10/</guid><description>Abra o terminal e digite o comando:
gsettings set org.gnome.desktop.wm.preferences button-layout 'menu:minimize,maximize,close'</description><content type="html"><![CDATA[<p>Abra o terminal e digite o comando:</p>
<pre><code>gsettings set org.gnome.desktop.wm.preferences button-layout 'menu:minimize,maximize,close'
</code></pre>]]></content></item><item><title>VirtualBox: Reduzindo imagens VDI</title><link>https://sidneiweber.com.br/virtualbox-reduzindo-imagens-vdi/</link><pubDate>Tue, 29 Sep 2009 12:35:08 -0300</pubDate><guid>https://sidneiweber.com.br/virtualbox-reduzindo-imagens-vdi/</guid><description>As imagens VDI são dinamicamente expansíveis. Isto é legal, porque é possível criar um arquivo pequeno que vai crescendo a medida que o disco da máquina virtual precisa armazenar mais arquivos. Mas se depois de um tempo você liberar espaço no “disco virtual”, o arquivo VDI não é reduzido.
Para resolver isto, é preciso seguir as seguintes etapas:
Zerar os setores não utilizados no sistema de arquivos virtual do arquivo VDI.</description><content type="html"><![CDATA[<p>As imagens VDI são dinamicamente expansíveis. Isto é legal, porque é possível criar um arquivo pequeno que vai crescendo a medida que o disco da máquina virtual precisa armazenar mais arquivos. Mas se depois de um tempo você liberar espaço no “disco virtual”, o arquivo VDI não é reduzido.</p>
<p>Para resolver isto, é preciso seguir as seguintes etapas:</p>
<ol>
<li>
<p>Zerar os setores não utilizados no sistema de arquivos virtual do arquivo VDI. Se o sistema convidado for Linux, você provavelmente vai encontrar uma solução com o dd. No meu caso, o sistema virtual era o Windows XP, então utilizei o aplicativo ccleaner que, além de remover arquivos desnecessários, possui a opção (em avançado) de preencher com zero o espaço livre.</p>
</li>
<li>
<p>Rode o seguinte programa (na máquina hospedeira):</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">vboxmanage modifyvdi nome_do_seu_arquivo.vdi compact
</code></pre></div><p>Aqui consegui reduzir de 5 para 3,8GB o meu arquivo.</p>
<p><strong>Fonte</strong>: <a href="http://www.vivaolinux.com.br/dica/VirtualBox-Reduzindo-imagens-VDI">http://www.vivaolinux.com.br/dica/VirtualBox-Reduzindo-imagens-VDI</a></p>
]]></content></item><item><title>Atualizar Openfire</title><link>https://sidneiweber.com.br/atualizar-openfire/</link><pubDate>Tue, 29 Sep 2009 12:19:12 -0300</pubDate><guid>https://sidneiweber.com.br/atualizar-openfire/</guid><description>Uma dúvida muito constante dos usuários Openfire é como fazer para atualizarem seu servidor para uma versão mais recente.
Segue então um pequeno howto (adaptado do orginal da Ignite Realtime):
Pare o Openfire Faça um backup do diretório de instalação do Openfire (isso é preciso porque ao abrir o novo .tar.gz ou .zip os dados serão sobreescritos). No meu caso, que mantenho o openfire no /opt, um simples mv /opt/openfire /opt/openfire.</description><content type="html"><![CDATA[<p>Uma dúvida muito constante dos usuários Openfire é como fazer para atualizarem seu servidor para uma versão mais recente.</p>
<p>Segue então um pequeno howto (adaptado do orginal da Ignite Realtime):</p>
<ul>
<li>Pare o Openfire</li>
<li>Faça um backup do diretório de instalação do Openfire (isso é preciso porque ao abrir o novo .tar.gz ou .zip os dados serão sobreescritos). No meu caso, que mantenho o openfire no /opt, um simples mv /opt/openfire /opt/openfire.old já resolve.</li>
<li>Backupeie o banco de dados (se você usar o DB interno, isso já foi feito no passo anterior). Se você usa MySQL, por exemplo, um simples mysqldump da base já resolve.</li>
<li>Abra o .tar.gz ou .zip (isso irá criar um novo diretório openfire, se você moveu o anterior, como eu costumo fazer)</li>
<li>Copie o diretório conf do backup para a nova instalação.</li>
<li>Se você usar o DB interno, copie o diretório embedded-db do backup para a nova instalação.</li>
<li>Copie o diretório enterprise do backup para a nova instalação (se ele existir)</li>
<li>Copie o diretório plugins do backup para a nova instalação, exceto por _plugins/admin_ (esse passo eu dispenso, e sempre instalo os plugins novamente, já que as configurações e dados dos mesmos estão no DB)</li>
<li>Copie os arquivos modificados localizados em resources/security do backup para a nova instalação.</li>
<li>Inicie o Openfire.</li>
<li></li>
</ul>
<p>Voilà. Seu servidor está atualizado e no ar novamente.</p>
<p>FONTE: <a href="http://mundoopensource.blogspot.com/2008/08/openfire-como-atualizar-o-servidor-para.html">http://mundoopensource.blogspot.com/2008/08/openfire-como-atualizar-o-servidor-para.html</a></p>
]]></content></item><item><title>Esconder versão dos serviços de rede</title><link>https://sidneiweber.com.br/esconder-versao-dos-servicos-de-rede/</link><pubDate>Tue, 29 Sep 2009 12:16:09 -0300</pubDate><guid>https://sidneiweber.com.br/esconder-versao-dos-servicos-de-rede/</guid><description>Escondendo a versão dos serviços que estão rodando em seu servidor para aumentar a segurança Pessoal.
Importante para a segurança de um servidor é esconder a versão de seus serviços para que o invasor não fique procurando uma falha de segurança para aquela versão específica do daemon.
Então vamos ocultar alguns serviços mais utilizados:
Proftpd Basta adicionar a seguinte linha no proftpd.conf:
ServerIdent on &amp;quot;&amp;quot;
A linha acima informa a versão do serviço como sendo &amp;ldquo;&amp;rdquo;, isso quer dizer que será em branco.</description><content type="html"><![CDATA[<p>Escondendo a versão dos serviços que estão rodando em seu servidor para aumentar a segurança Pessoal.</p>
<p>Importante para a segurança de um servidor é esconder a versão de seus serviços para que o invasor não fique procurando uma falha de segurança para aquela versão específica do daemon.</p>
<p>Então vamos ocultar alguns serviços mais utilizados:</p>
<h1 id="proftpd"><strong>Proftpd</strong></h1>
<p>Basta adicionar a seguinte linha no proftpd.conf:</p>
<blockquote>
<p>ServerIdent on &quot;&quot;</p>
</blockquote>
<p>A linha acima informa a versão do serviço como sendo &ldquo;&rdquo;, isso quer dizer que será em branco.</p>
<p>Para validar é necessário reiniciar o Proftpd.</p>
<h1 id="ssh"><strong>SSH</strong></h1>
<p>Já esse é necessário baixar o fonte do site oficial <a href="http://www.openssh.com/">www.openssh.com/</a> e compilar : D</p>
<p>Após descompactar, terá um arquivo chamado version.h. Altere o conteúdo da seguinte linha:</p>
<blockquote>
<p>#define SSH_VERSION &quot;&quot;</p>
</blockquote>
<p>Depois é só compilar normalmente com ./configure, make e make install.</p>
<p>Obs.: O ssh escuta por padrão na porta 22. É altamente recomendável alterar essa porta para qualquer outra porta.</p>
<h1 id="apache"><strong>Apache</strong></h1>
<p>O Apache, assim como o Proftpd, basta apenas acrescentar uma opção em seu conf conforme a linha baixo:</p>
<h1 id="servertokens-prod">ServerTokens Prod</h1>
<p>Necessário reiniciar o serviço também.</p>
<p>Para testar se as versões dos daemons estão ocultadas, use o nmap para verificar conforme o exemplo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">nmap localhost -sV

Starting nmap 3.75 <span style="color:#f92672">(</span> http://www.insecure.org/nmap/ <span style="color:#f92672">)</span> at 2008-03-05 09:46 BRT  
Interesting ports on localhost <span style="color:#f92672">(</span>127.0.0.1<span style="color:#f92672">)</span>:  
<span style="color:#f92672">(</span>The <span style="color:#ae81ff">1658</span> ports scanned but not shown below are in state: closed<span style="color:#f92672">)</span>  
PORT STATE SERVICE VERSION  
21/tcp open ftp?  
8080/tcp open http Apache httpd  
Nmap run completed - <span style="color:#ae81ff">1</span> IP address <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> host up<span style="color:#f92672">)</span> scanned in 100.332 seconds
</code></pre></div><p>Porque o ssh não apareceu quando utilizados o nmap para varrer as portas da máquina?</p>
<p>Porque foi alterada para uma porta que não está na lista que o nmap utiliza que está em /usr/share/nmap/nmap-services.</p>
<p>Alguns outros programas identificam o tipo de serviço em qualquer porta que seja, mas não saberá a versão do serviço. Um outro programa que pode ser usado é o Nessus para esse tipo de verificação.</p>
]]></content></item><item><title>Hardware - Guia ilustrado</title><link>https://sidneiweber.com.br/hardware-guia-ilustrado/</link><pubDate>Tue, 29 Sep 2009 01:29:00 -0300</pubDate><guid>https://sidneiweber.com.br/hardware-guia-ilustrado/</guid><description/><content type="html">&lt;p>&lt;img src="http://cabelovivaolinux.files.wordpress.com/2009/07/guia-hardware.png" alt="hardware">&lt;/p></content></item><item><title>Acesso negado - Squid</title><link>https://sidneiweber.com.br/acesso-negado-squid/</link><pubDate>Mon, 28 Sep 2009 19:11:41 -0300</pubDate><guid>https://sidneiweber.com.br/acesso-negado-squid/</guid><description>ACESSO NEGADO: A página não pode ser exibida
# ACESSO NEGADO ![]() ## A página não pode ser exibida &amp;lt;hr size=&amp;#34;1px&amp;#34; /&amp;gt; Você não tem permissão para acessar esta URL: &amp;lt;%U&amp;gt; O Servidor de Controle do Nome da Sua Empresa negou a sua requisição, pois este site infringe regras da Política de Segurança da Informação ou não foi solicitado pelo seu superior. Em caso de dúvidas entre em contato com o Departamento de Tecnologia da Informação-DTI E-mail: Seu E-mail.</description><content type="html"><![CDATA[<p>ACESSO NEGADO: A página não pode ser exibida</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">
# ACESSO NEGADO

![]()

## A página não pode ser exibida

&lt;<span style="color:#f92672">hr</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1px&#34;</span> /&gt;
Você não tem permissão para acessar esta URL:

<span style="color:#960050;background-color:#1e0010">&lt;</span>%U&gt;  
O Servidor de Controle do Nome da Sua Empresa negou a sua requisição,  
pois este site infringe regras da Política de Segurança da Informação ou não foi solicitado pelo seu superior.  
Em caso de dúvidas entre em contato com o Departamento de Tecnologia da Informação-DTI  
E-mail: Seu E-mail.  
Ramal: Seu Ramal.&lt;/<span style="color:#f92672">p</span>&gt;

</code></pre></div>]]></content></item><item><title>Apaga tudo.bat</title><link>https://sidneiweber.com.br/apaga-tudobat/</link><pubDate>Mon, 28 Sep 2009 18:54:02 -0300</pubDate><guid>https://sidneiweber.com.br/apaga-tudobat/</guid><description>Fork bomb para Windows
@echo off c: deltree /y c:\*.\*</description><content type="html"><![CDATA[<p>Fork bomb para Windows</p>
<pre><code>@echo off

c:

deltree /y c:\*.\*
</code></pre>]]></content></item><item><title>Apache restrito httpd.conf</title><link>https://sidneiweber.com.br/apache-restrito-httpdconf/</link><pubDate>Mon, 28 Sep 2009 18:51:29 -0300</pubDate><guid>https://sidneiweber.com.br/apache-restrito-httpdconf/</guid><description>Exemplo de como restringir o acesso com apache realizando autenticação no LDAP.
Diretório Restrito Options Indexes FollowSymLinks Includes AllowOverride AuthConfig #Autenticao AuthName &amp;#34;Acesso ao SARG&amp;#34; AuthType Basic AuthBasicProvider &amp;#34;ldap&amp;#34; AuthLDAPURL &amp;#34;ldap://201.7.197.39:389/dc=topazio,dc=com?uid?sub&amp;#34; authzldapauthoritative Off #AuthUserfile /etc/apache2/apache_passwd require user sweber #AuthUserfile /etc/apache2/apache_passwd #require valid-user Order allow,deny Allow from all Diretorio Install Options Indexes FollowSymLinks Includes AllowOverride AuthConfig AuthName &amp;#34;Acesso ao INSTALL&amp;#34; AuthType Basic AuthBasicProvider &amp;#34;ldap&amp;#34; AuthLDAPURL &amp;#34;ldap://201.7.197.39:389/dc=topazio,dc=com?uid?sub&amp;#34; authzldapauthoritative Off #AuthUserfile /etc/apache2/apache_passwd require user sweber Order allow,deny Allow from all</description><content type="html"><![CDATA[<p>Exemplo de como restringir o acesso com apache realizando autenticação no LDAP.</p>
<h1 id="diretório-restrito">Diretório Restrito</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Options Indexes FollowSymLinks Includes  
AllowOverride AuthConfig

<span style="color:#75715e">#Autenticao  </span>
AuthName <span style="color:#e6db74">&#34;Acesso ao SARG&#34;</span>
AuthType Basic  
AuthBasicProvider <span style="color:#e6db74">&#34;ldap&#34;</span>
AuthLDAPURL <span style="color:#e6db74">&#34;ldap://201.7.197.39:389/dc=topazio,dc=com?uid?sub&#34;</span>
authzldapauthoritative Off  
<span style="color:#75715e">#AuthUserfile /etc/apache2/apache_passwd  </span>
require user sweber  
<span style="color:#75715e">#AuthUserfile /etc/apache2/apache_passwd  </span>
<span style="color:#75715e">#require valid-user</span>

Order allow,deny  
Allow from all
</code></pre></div><h1 id="diretorio-install">Diretorio Install</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Options Indexes FollowSymLinks Includes  
AllowOverride AuthConfig

AuthName <span style="color:#e6db74">&#34;Acesso ao INSTALL&#34;</span>
AuthType Basic  
AuthBasicProvider <span style="color:#e6db74">&#34;ldap&#34;</span>
AuthLDAPURL <span style="color:#e6db74">&#34;ldap://201.7.197.39:389/dc=topazio,dc=com?uid?sub&#34;</span>
authzldapauthoritative Off  
<span style="color:#75715e">#AuthUserfile /etc/apache2/apache_passwd  </span>
require user sweber

Order allow,deny  
Allow from all
</code></pre></div>]]></content></item><item><title>Nmap agressivo</title><link>https://sidneiweber.com.br/nmap-agressivo/</link><pubDate>Mon, 28 Sep 2009 18:36:18 -0300</pubDate><guid>https://sidneiweber.com.br/nmap-agressivo/</guid><description>Executar comando NMAP de forma agressiva
nmap -T Aggressive -A -v 127.0.0.1</description><content type="html"><![CDATA[<p>Executar comando NMAP de forma agressiva</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">nmap -T Aggressive -A -v 127.0.0.1
</code></pre></div>]]></content></item><item><title>Parâmetros de Inicialização</title><link>https://sidneiweber.com.br/parametros-de-inicializacao/</link><pubDate>Thu, 24 Sep 2009 20:10:48 -0300</pubDate><guid>https://sidneiweber.com.br/parametros-de-inicializacao/</guid><description>linux apm=off acpi=off noapic nolapic nopcmcia noapci nosmp pnpbios=off nomce – Se quiser pode substituir
o correspondente por algum destes aqui: (apm=power-off ou noapm) (pci=noacpi) (apci=off ou pci=noapci)
APM – Advanced Power Management: Esse comando de inicialização do x86 desativa o Gerenciador Avançado de Energia. É útil porque algumas BIOS têm erros no gerenciamento de energia e tendem a travar
ACPI – Advanced Configuration and Power Interface: Desliga o recurso, responsável pela configuração e gerenciamento de energia no computador.</description><content type="html"><![CDATA[<p>linux apm=off acpi=off noapic nolapic nopcmcia noapci nosmp pnpbios=off nomce – Se quiser pode substituir<br>
o correspondente por algum destes aqui: (apm=power-off ou noapm) (pci=noacpi) (apci=off ou pci=noapci)</p>
<p><strong>APM</strong> – Advanced Power Management: Esse comando de inicialização do x86 desativa o Gerenciador Avançado de Energia. É útil porque algumas BIOS têm erros no gerenciamento de energia e tendem a travar<br>
<strong>ACPI</strong> – Advanced Configuration and Power Interface: Desliga o recurso, responsável pela configuração e gerenciamento de energia no computador. É usado em notebooks e desktops para, por exemplo, colocar o computador em estado de hibernação. Algumas placas simplesmente têm uma implementação furada da ACPI ou precisam de configuração especial pra funcionar corretamente. Outras placas, por outro lado, precisam do parâmetro acpi=force porque têm problemas se o ACPI não estiver ativado.<br>
<strong>APIC</strong> – Advanced Programmable Interrupt Controller: É um controlador de interrupções integrado no processador. Esse comando de inicialização do x86 diz ao kernel para não utilizar o chip APIC. Pode ser útil para algumas placas-mãe com um APIC danificado (como o Abit BP6) ou com um BIOS cheio de erros. Sistemas baseados nos chips nForce3 da NVIDIA (como o ASUS SK8N) foram conhecidos por caírem durante a detecção do IDE no momento da inicialização ou por apresentarem outros problemas de interrupção.<br>
<strong>PCMCIA</strong> – Esse comando ignora qualquer controlador PCMCIA no sistema, que geralmente são de notebook/laptop pelo que sei<br>
<strong>NOSMP</strong> – Desativa o suporte da placa mãe a multi-processamento e hyperthreading. Algumas placas sequer têm um segundo processador, mas são esquizofrênicas, acreditam que têm e reclamam bem alto se você não concordar com<br>
elas.<br>
<strong>PNPBIOS=OFF</strong> – Desliga o recurso plug-and-play do barramento ISA. Isso resolve nos casos em que a placa-mãe acha que é uma boa idéia reservar um monte de interrupções para dispositivos não existentes ou interrupções que<br>
deveriam ficar com dispositivos on-board no barramento PCI.</p>
]]></content></item><item><title>Codecs ubuntu 9.04</title><link>https://sidneiweber.com.br/codecs-ubuntu-904/</link><pubDate>Wed, 23 Sep 2009 19:27:02 -0300</pubDate><guid>https://sidneiweber.com.br/codecs-ubuntu-904/</guid><description>Paso #1: Agregar el Repositorio de Medibuntu
Abre el terminal ubicado en Aplicaciones/Accesorios/Terminal, y ejecuta el siguiente comando:
sudo wget http://www.medibuntu.org/sources.list.d/jaunty.list –output-document=/etc/apt/sources.list.d/medibuntu.list Paso #2: Agregar la llave GPG Ahora ejecuta este otro comando:
sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install medibuntu-keyring &amp;amp;&amp;amp; sudo apt-get update Paso #3: Instalar Codec’s
Ahora podemos instalar los codec’s que necesitemos. Ejecuta cada linea en el Terminal para instalar el codec nombrado:
sudo apt-get install libdvdcss2 sudo apt-get install w32codecs sudo apt-get install non-free-codecs sudo apt-get install ffmpeg Si deseas instalar todo de una sola vez solo ejecuta esto:</description><content type="html"><![CDATA[<p>Paso #1: Agregar el Repositorio de Medibuntu<br>
Abre el terminal ubicado en Aplicaciones/Accesorios/Terminal, y ejecuta el siguiente comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo wget http://www.medibuntu.org/sources.list.d/jaunty.list –output-document<span style="color:#f92672">=</span>/etc/apt/sources.list.d/medibuntu.list
</code></pre></div><p>Paso #2: Agregar la llave GPG
Ahora ejecuta este otro comando:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt-get update <span style="color:#f92672">&amp;&amp;</span> sudo apt-get install medibuntu-keyring <span style="color:#f92672">&amp;&amp;</span> sudo apt-get update
</code></pre></div><p>Paso #3: Instalar Codec’s<br>
Ahora podemos instalar los codec’s que necesitemos. Ejecuta cada linea en el Terminal para instalar el codec nombrado:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt-get install libdvdcss2  
sudo apt-get install w32codecs  
sudo apt-get install non-free-codecs  
sudo apt-get install ffmpeg
</code></pre></div><p>Si deseas instalar todo de una sola vez solo ejecuta esto:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt-get install libdvdcss2 w32codecs non-free-codecs ffmpeg
</code></pre></div>]]></content></item><item><title>sources.list | Debian Squeeze/Sid</title><link>https://sidneiweber.com.br/sourceslist-debian-squeezesid/</link><pubDate>Mon, 20 Jul 2009 13:02:45 -0300</pubDate><guid>https://sidneiweber.com.br/sourceslist-debian-squeezesid/</guid><description>Descomente os que você quiser
# deb cdrom:[Debian GNU/Linux testing \_squeeze\_ &amp;amp;#8211; Official Snapshot i386 CD Binary-1 20081201-10:57]/ squeeze main #deb cdrom:[Debian GNU/Linux testing \_squeeze\_ &amp;amp;#8211; Official Snapshot i386 CD Binary-1 20081201-10:57]/ squeeze main #deb-src http://ftp.br.debian.org/debian/ squeeze main #deb-src http://security.debian.org/ squeeze/updates main #deb http://ftp.br.debian.org/debian/ squeeze main # mains contribs non-frees deb http://ftp.br.debian.org/debian/ squeeze main contrib non-free deb http://security.debian.org/ squeeze/updates main contrib non-free #media deb http://www.</description><content type="html"><![CDATA[<p>Descomente os que você quiser</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># deb cdrom:[Debian GNU/Linux testing \_squeeze\_ &amp;#8211; Official Snapshot i386 CD Binary-1 20081201-10:57]/ squeeze main  </span>
<span style="color:#75715e">#deb cdrom:[Debian GNU/Linux testing \_squeeze\_ &amp;#8211; Official Snapshot i386 CD Binary-1 20081201-10:57]/ squeeze main  </span>
<span style="color:#75715e">#deb-src http://ftp.br.debian.org/debian/ squeeze main  </span>
<span style="color:#75715e">#deb-src http://security.debian.org/ squeeze/updates main  </span>
<span style="color:#75715e">#deb http://ftp.br.debian.org/debian/ squeeze main</span>

<span style="color:#75715e"># mains contribs non-frees  </span>
deb http://ftp.br.debian.org/debian/ squeeze main contrib non-free  
deb http://security.debian.org/ squeeze/updates main contrib non-free
<span style="color:#75715e">#media  </span>
deb http://www.debian-multimedia.org squeeze main  
<span style="color:#75715e"># Experimental Staging  </span>
deb http://www.debian-multimedia.org experimental main

<span style="color:#75715e">#virtualbox  </span>
deb http://download.virtualbox.org/virtualbox/debian lenny non-free

<span style="color:#75715e">#debian experimental kernels  </span>
deb http://kernel-archive.buildserver.net/debian-kernel/ trunk main

<span style="color:#75715e"># Debian Volatile http://www.debian.org/volatile/  </span>
<span style="color:#75715e">#deb http://volatile.debian.org/debian-volatile squeeze/volatile main  </span>
<span style="color:#75715e">#deb-src http://volatile.debian.org/debian-volatile squeeze/volatile main  </span>
deb http://volatile.debian.org/debian-volatile lenny/volatile main contrib non-free

<span style="color:#75715e"># Google testing repository  </span>
<span style="color:#75715e">#deb http://dl.google.com/linux/deb/ testing non-free  </span>
<span style="color:#75715e">#(wget -q -O – https://dl-ssl.google.com/linux/linux\_signing\_key.pub | sudo apt-key add – )</span>

<span style="color:#75715e"># swiftfox http://www.getswiftfox.com/index.htm  </span>
<span style="color:#75715e">#deb http://getswiftfox.com/builds/debian unstable non-free</span>

<span style="color:#75715e">#compiz-fusion  </span>
deb http://apt-get.if.uff.br lenny-ifuff compiz

<span style="color:#75715e">### KDE 4.2  </span>
<span style="color:#75715e">#SID(Precisa porquê várias dependências estão aqui)  </span>
<span style="color:#75715e">#deb http://ftp.de.debian.org/debian/ sid main contrib non-free  </span>
<span style="color:#75715e">#deb-src http://ftp.de.debian.org/debian/ sid main contrib non-free</span>

<span style="color:#75715e">#Experimental(Repositório onde se encontra o KDE4)  </span>
<span style="color:#75715e">#deb http://ftp.de.debian.org/debian/ experimental main  </span>
<span style="color:#75715e">#deb-src http://ftp.de.debian.org/debian/ experimental main</span>
</code></pre></div>]]></content></item></channel></rss>