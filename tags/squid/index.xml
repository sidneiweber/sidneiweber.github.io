<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Squid - Tag - Sidnei Weber</title><link>https://sidneiweber.com.br/tags/squid/</link><description>Sidnei Weber</description><generator>Hugo 0.139.2 &amp; FixIt v0.3.11</generator><language>pt-br</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Mon, 06 Jul 2015 15:44:15 -0300</lastBuildDate><atom:link href="https://sidneiweber.com.br/tags/squid/index.xml" rel="self" type="application/rss+xml"/><item><title>Códigos do Squid</title><link>https://sidneiweber.com.br/codigos-do-squid/</link><pubDate>Mon, 06 Jul 2015 15:44:15 -0300</pubDate><guid>https://sidneiweber.com.br/codigos-do-squid/</guid><description>&lt;p>COD DESCRIÇÃO&lt;/p>
&lt;ul>
&lt;li>0 Resposta não recebida&lt;/li>
&lt;/ul>
&lt;p>Respostas de informação:&lt;/p>
&lt;ul>
&lt;li>100 Continue&lt;/li>
&lt;li>101 Troca de protocolos&lt;/li>
&lt;/ul>
&lt;p>Acessos bem-sucedidos:&lt;/p>
&lt;ul>
&lt;li>200 OK&lt;/li>
&lt;li>201 Criado&lt;/li>
&lt;li>202 Aceito&lt;/li>
&lt;li>203 Informação não autorizada&lt;/li>
&lt;li>204 Sem conteúdo&lt;/li>
&lt;li>205 Conteúdo apagado&lt;/li>
&lt;li>206 Conteúdo parcial&lt;/li>
&lt;li>207 Status múltiplos&lt;/li>
&lt;/ul>
&lt;p>Redirecionamentos:&lt;/p>
&lt;ul>
&lt;li>300 Escolhas múltiplas&lt;/li>
&lt;li>301 Movido permanentemente&lt;/li>
&lt;li>302 Movido temporariamente&lt;/li>
&lt;li>303 Veja outros&lt;/li>
&lt;li>304 Não modificado&lt;/li>
&lt;li>305 Use o proxy&lt;/li>
&lt;li>307 Redirecionamento temporário&lt;/li>
&lt;/ul>
&lt;p>Erros no cliente:&lt;/p>
&lt;ul>
&lt;li>400 Resposta ruim&lt;/li>
&lt;li>401 Não autorizado&lt;/li>
&lt;li>402 Pagamento requisitado&lt;/li>
&lt;li>403 Negado&lt;/li>
&lt;li>404 Não encontrado&lt;/li>
&lt;li>405 Método não aceito&lt;/li>
&lt;li>406 Não aceito&lt;/li>
&lt;li>407 Autenticação do proxy solicitado&lt;/li>
&lt;li>408 Tempo de resposta excedido&lt;/li>
&lt;li>409 Conflito&lt;/li>
&lt;li>410 Feito&lt;/li>
&lt;li>411 Tamanho requerido&lt;/li>
&lt;li>412 Falha pré-condicional&lt;/li>
&lt;li>413 Requisição de entrada extensa&lt;/li>
&lt;li>414 URL requisitada muito extensa&lt;/li>
&lt;li>415 Tipo de mídia não suportada&lt;/li>
&lt;li>416 Faixa requisitada não satisfatória&lt;/li>
&lt;li>417 Falha na espera&lt;/li>
&lt;/ul>
&lt;p>Erros no servidor:&lt;/p></description></item><item><title>Proxy transparente</title><link>https://sidneiweber.com.br/proxy-transparente/</link><pubDate>Sun, 16 Feb 2014 19:31:32 -0300</pubDate><guid>https://sidneiweber.com.br/proxy-transparente/</guid><description>&lt;p>Fazer com que todas as conexões passem pelo proxy&lt;/p>
&lt;p>Criar o arquivo:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/init.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">touch rc.firewall&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Adicionar o código:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#! /bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1"># Limpando tabelas do iptables&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -F
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -F
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t mangle -F
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Definição da rede local&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">rede_interna&lt;/span>&lt;span class="o">=&lt;/span>”192.168.0.0/16”
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Habilitando encaminhamento de pacotes e outras opções&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> “1″ &amp;gt; /proc/sys/net/ipv4/ip_forward
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> “1″ &amp;gt; /proc/sys/net/ipv4/icmp_echo_ignore_broadcasts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> “1″ &amp;gt; /proc/sys/net/ipv4/icmp_echo_ignore_all
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Carregando modulos necessários para o iptables&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/sbin/modprobe iptable_nat
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/sbin/modprobe ip_tables
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/sbin/modprobe ipt_state
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/sbin/modprobe ip_conntrack
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/sbin/modprobe ipt_multiport
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/sbin/modprobe iptable_mangle
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -I PREROUTING -t nat -p tcp -s &lt;span class="nv">$rede_interna&lt;/span> –dport &lt;span class="m">80&lt;/span> -j REDIRECT –to-port &lt;span class="m">3128&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -I POSTROUTING -s &lt;span class="nv">$rede_interna&lt;/span> -j MASQUERADE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -A FORWARD -s &lt;span class="nv">$rede_interna&lt;/span> -d loginnet.passport.com -j REJECT&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Permissao de execução&lt;/p></description></item><item><title>Servidor Proxy com squid</title><link>https://sidneiweber.com.br/servidor-proxy-com-squid/</link><pubDate>Sun, 16 Feb 2014 18:53:08 -0300</pubDate><guid>https://sidneiweber.com.br/servidor-proxy-com-squid/</guid><description>&lt;p>Instalação:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt-get install squid&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Arquivo base de configuração (/etc/squid/squid.conf):&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_port&lt;/span> &lt;span class="mi">3128&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">visible_hostname&lt;/span> &lt;span class="n">KORZOS&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">all&lt;/span> &lt;span class="n">src&lt;/span> &lt;span class="mf">0.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">0.0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">0.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">manager&lt;/span> &lt;span class="n">proto&lt;/span> &lt;span class="n">cache_object&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">localhost&lt;/span> &lt;span class="n">src&lt;/span> &lt;span class="mf">127.0&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">0.1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">255.255&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">255.255&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">SSL_ports&lt;/span> &lt;span class="n">port&lt;/span> &lt;span class="mi">443&lt;/span> &lt;span class="mi">563&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">Safe_ports&lt;/span> &lt;span class="n">port&lt;/span> &lt;span class="mi">21&lt;/span> &lt;span class="mi">80&lt;/span> &lt;span class="mi">443&lt;/span> &lt;span class="mi">563&lt;/span> &lt;span class="mi">70&lt;/span> &lt;span class="mi">210&lt;/span> &lt;span class="mi">280&lt;/span> &lt;span class="mi">488&lt;/span> &lt;span class="mi">59&lt;/span> &lt;span class="mi">777&lt;/span> &lt;span class="mi">901&lt;/span> &lt;span class="mi">1025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">65535&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">purge&lt;/span> &lt;span class="n">method&lt;/span> &lt;span class="n">PURGE&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">CONNECT&lt;/span> &lt;span class="n">method&lt;/span> &lt;span class="n">CONNECT&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">allow&lt;/span> &lt;span class="n">manager&lt;/span> &lt;span class="n">localhost&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">deny&lt;/span> &lt;span class="n">manager&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">allow&lt;/span> &lt;span class="n">purge&lt;/span> &lt;span class="n">localhost&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">deny&lt;/span> &lt;span class="n">purge&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">deny&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">Safe_ports&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">deny&lt;/span> &lt;span class="n">CONNECT&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">SSL_ports&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">redelocal&lt;/span> &lt;span class="n">src&lt;/span> &lt;span class="mf">192.168&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="mf">0.0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">24&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">allow&lt;/span> &lt;span class="n">localhost&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">allow&lt;/span> &lt;span class="n">redelocal&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">http_access&lt;/span> &lt;span class="n">deny&lt;/span> &lt;span class="n">all&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Define o caminho das páginas de erro do squid.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">error_directory&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">usr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">share&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">squid&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">errors&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">Portuguese&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Define o e-mail que vai aparecer na página de erro do Squid, assim o usuário terá mais informações para interagir com o responsável.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cache_mgr&lt;/span> &lt;span class="n">admin&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="n">seu_dominio&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">br&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Esta ACL é responsável por não armazenar conteúdo CGI em cache.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">acl&lt;/span> &lt;span class="n">QUERY&lt;/span> &lt;span class="n">urlpath_regex&lt;/span> &lt;span class="n">cgi&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">bin&lt;/span> &lt;span class="err">?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">no_cache&lt;/span> &lt;span class="n">deny&lt;/span> &lt;span class="n">QUERY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Define a quantidade de memória RAM reservada para o uso do Squid.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cache_mem&lt;/span> &lt;span class="mi">64&lt;/span> &lt;span class="n">MB&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Esta linha é responsável por limitar o tamanho dos arquivos que serão armazenados no cache da memória RAM.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">maximum_object_size_in_memory&lt;/span> &lt;span class="mi">64&lt;/span> &lt;span class="n">KB&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Aqui definimos o tamanho máximo e mínimo respectivamente dos arquivos que serão armazenados no cache do HD.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">maximum_object_size&lt;/span> &lt;span class="mi">512&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">minimum_object_size&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="n">KB&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Com essas duas linhas podemos definir a porcentagem de atualização do cache, estamos dizendo que quando o cache chegar em 95% o Squid irá apagar os arquivos mais antigos até chegar a 90%.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cache_swap_low&lt;/span> &lt;span class="mi">90&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cache_swap_high&lt;/span> &lt;span class="mi">95&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Nessa linha conseguimos definir o tamanho e alguns parâmetros do cache feito em HD, a linha é composta por quatro valores, o 1º define o caminho do cache (/var/spool/squid), o 2º o tamanho que será alocado em MB para o cache (2Gb), o 3º a quantidade de diretórios criados para o cache (16) e o 4º é o numero de subdiretórios que serão criados. Se você possuir bastante espaço em disco e quiser armazenar os arquivos por mais tempo, aumente a opção do tamanha do cache.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cache_dir&lt;/span> &lt;span class="n">ufs&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">spool&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">squid&lt;/span> &lt;span class="mi">2048&lt;/span> &lt;span class="mi">16&lt;/span> &lt;span class="mi">256&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Define onde serão armazenados os registros de log do Squid.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cache_access_log&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nb">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">squid&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">access&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">refresh_pattern&lt;/span> &lt;span class="o">^&lt;/span>&lt;span class="n">ftp&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="o">%&lt;/span> &lt;span class="mi">2280&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">refresh_pattern&lt;/span> &lt;span class="o">^&lt;/span>&lt;span class="n">gopher&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="o">%&lt;/span> &lt;span class="mi">2280&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">refresh_pattern&lt;/span> &lt;span class="o">.&lt;/span> &lt;span class="mi">15&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="o">%&lt;/span> &lt;span class="mi">2280&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Reiniciar squid:&lt;/p></description></item><item><title>Acesso negado - Squid</title><link>https://sidneiweber.com.br/acesso-negado-squid/</link><pubDate>Mon, 28 Sep 2009 19:11:41 -0300</pubDate><guid>https://sidneiweber.com.br/acesso-negado-squid/</guid><description>&lt;p>ACESSO NEGADO: A página não pode ser exibida&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ACESSO NEGADO
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">![]()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">## A página não pode ser exibida
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">hr&lt;/span> &lt;span class="na">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;1px&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Você não tem permissão para acessar esta URL:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&amp;lt;&lt;/span>%U&amp;gt; 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">O Servidor de Controle do Nome da Sua Empresa negou a sua requisição, 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pois este site infringe regras da Política de Segurança da Informação ou não foi solicitado pelo seu superior. 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Em caso de dúvidas entre em contato com o Departamento de Tecnologia da Informação-DTI 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">E-mail: Seu E-mail. 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Ramal: Seu Ramal.&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item></channel></rss>